/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return"object"===("undefined"==typeof e?"undefined":G(e))}function s(e){return"number"==typeof e.length}function a(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function n(e,t,s){for(var a in t)s&&(le.isPlainObject(t[a])||le.isArray(t[a]))?((le.isPlainObject(t[a])&&!le.isPlainObject(e[a])||le.isArray(t[a])&&!le.isArray(e[a]))&&(e[a]={}),n(e[a],t[a],s)):void 0!==t[a]&&(e[a]=t[a])}function i(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function r(e,t){return"number"!=typeof t||se[i(e)]?t:t+"px"}function l(){ge++,setTimeout(function(){ge--},500)}function o(e,t,s){var a=e.originalEvent||e,n=(s?"page":"client")+t;return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0][n]:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0][n]:e[n]}function c(e,t,s,a,n,i){function r(e){f||(a&&e.preventDefault(),f=this,m=o(e,"X"),h=o(e,"Y"),p=!1,b=new Date)}function c(e){f&&!p&&(Math.abs(o(e,"X")-m)>n||Math.abs(o(e,"Y")-h)>n)&&(p=!0)}function d(t){f&&((i&&new Date-b<100||!p)&&(t.preventDefault(),s.call(f,t,e)),f=!1,l())}function u(){f=!1}var m,h,f,p,b,v=K.$,g=v(t);n=n||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",u).on("touchmove.mbsc",c).on("touchend.mbsc",d),g.on("click.mbsc",function(t){t.preventDefault(),s.call(this,t,e)})}function d(e){if(ge&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function u(e){var t;for(t in e)if(void 0!==xe[e[t]])return!0;return!1}function m(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(u([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function h(e,t){var s=document.createElement("script"),a="mbscjsonp"+ ++Ve;window[a]=function(e){s.parentNode.removeChild(s),delete window[a],e&&t(e)},s.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(s)}function f(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},s.onerror=function(){},s.send()}function p(e,t,s){"jsonp"==s?h(e,t):f(e,t)}function b(e,t,s,a,n,i,r){var l=new Date(e,t,s,a||0,n||0,i||0,r||0);return 23==l.getHours()&&0===(a||0)&&l.setHours(l.getHours()+2),l}function v(e,t){var s={},a=e.parent(),n=a.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",r=e.attr("data-icon");a.hasClass(Rt)?a=a.parent():Me('<span class="'+Rt+'"></span>').insertAfter(e).append(e),n&&a.find("."+Rt).append(n),r&&(r.indexOf("{")!==-1?s=JSON.parse(r):s[i]=r),(r||t)&&(Se(s,t),a.addClass((s.right?"mbsc-ic-right ":"")+(s.left?" mbsc-ic-left":"")).find("."+Rt).append(s.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+s.left+'"></span>':"").append(s.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+s.right+'"></span>':""))}function g(e,t,s){var a={},n=s[0],i=s.attr("data-password-toggle"),r=s.attr("data-icon-show")||"eye",l=s.attr("data-icon-hide")||"eye-blocked";i&&(a.right="password"==n.type?r:l),v(s,a),i&&c(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==n.type?(n.type="password",Me(this).addClass("mbsc-ic-"+r).removeClass("mbsc-ic-"+l)):(n.type="text",Me(this).removeClass("mbsc-ic-"+r).addClass("mbsc-ic-"+l))})}function y(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){Me('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function x(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return Me.each(t,function(e,s){1==s.length&&(t[e]="0"+s)}),"#"+t.join("")}function w(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function _(e){var t,s,a,n=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=s=a=r;else{var l=r,o=(255-i)*r/255,c=(l-o)*(n%60)/60;360==n&&(n=0),n<60?(t=l,a=o,s=o+c):n<120?(s=l,a=o,t=l-c):n<180?(s=l,t=o,a=o+c):n<240?(a=l,t=o,s=l-c):n<300?(a=l,s=o,t=o+c):n<360?(t=l,s=o,a=l-c):t=s=a=0}return{r:t,g:s,b:a,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function C(e){var t,s,a=0,n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return s=i,t=i?255*r/i:0,a=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,a*=60,a<0&&(a+=360),t*=100/255,s*=100/255,{h:a,s:t,v:s,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function T(e){var t,s,a=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(a,n,i),l=Math.min(a,n,i),o=(r+l)/2;if(r==l)t=s=0;else{var c=r-l;switch(s=o>.5?c/(2-r-l):c/(r+l),r){case a:t=(n-i)/c+(n<i?6:0);break;case n:t=(i-a)/c+2;break;case i:t=(a-n)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*s),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function M(e){var t,s,a,n,i,r,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*o,r=i*(1-Math.abs(l%2-1)),l<1?(t=i,s=r,a=0):l<2?(t=r,s=i,a=0):l<3?(t=0,s=i,a=r):l<4?(t=0,s=r,a=i):l<5?(t=r,s=0,a=i):(t=i,s=0,a=r),n=c-i/2,{r:Math.round(255*(t+n)),g:Math.round(255*(s+n)),b:Math.round(255*(a+n)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function k(e){return T(w(e))}function D(e){return x(M(e))}function S(e){return x(_(e))}function V(e){return C(w(e))}function A(e){for(var t=0,s=1,a=0;e.length;)t>3?s=3600:t>1&&(s=60),a+=e.pop()*s*(t%2?10:1),t++;return a}function L(e){Fs.length||e.show(),Fs.push(e)}function E(e){var t=Ws.length;Ws.push(e),Fs.length||(t?Ws[0].hide():e.show(!1,!0))}function O(e,t,s,a){return Se({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onBeforeShow:function(){K.activeInstance=null},onHide:function(e,a){s&&s(a._resolve),t.callback&&t.callback(a._resolve),a&&a.destroy(),Fs.length?Fs[0].show():Ws.length&&Ws[0].show(!1,!0)}},a)}function I(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function N(e,t,s){var a=new Ns(e,O(Fs,t,s));L(a)}function H(e,t,s){var a=new Ns(e,O(Fs,t,s,{buttons:["ok","cancel"],onSet:function(){a._resolve=!0}}));a._resolve=!1,L(a)}function Y(e,t,s){var a=void 0,n=new Ns(e,O(Fs,t,s,{buttons:["ok","cancel"],onShow:function(){a=n._markup.find("input")[0],setTimeout(function(){a.focus()},300)},onSet:function(){n._resolve=a.value}}));n._resolve="",L(n)}function P(e,t,s,a,n){var i=void 0,r=new Ns(e,O(Ws,t,s,{display:"bottom",animate:n,cssClass:a||"mbsc-snackbar",scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,s){t.duration!==!1&&(i=setTimeout(function(){s&&s.hide()},t.duration||3e3)),t.button&&s.tap(Me(".mbsc-snackbar-btn",e.target),function(){s.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}}));E(r)}function F(e,t,s){P(e,t,s,"mbsc-toast","fade")}function W(e,t,s){var a=void 0;return Ps?a=new Promise(function(a){e(t,s,a)}):e(t,s),a}function $(e){var t=e[0],s=e.attr("data-role"),a=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|segmented|stepper)/.test(s)&&(a=s),a}function j(e){var t=K.themes.form[e];return t&&t.addRipple?t:null}function R(){clearTimeout(ea),ea=setTimeout(function(){Me("textarea.mbsc-control").each(function(){q(this)})},100)}function q(e){var t=void 0,s=void 0,a=void 0,n=Me(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",a=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(a>0?a:0),s=Math.round(t/24),s>n?(e.scrollTop=t,t=24*n+(t-24*s),Me(e).addClass("mbsc-textarea-scroll")):Me(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function B(e){var t=Me(e);if(!t.hasClass("mbsc-textarea-scroll")){var s=e.scrollHeight-e.offsetHeight,a=e.offsetHeight+s;e.scrollTop=0,e.style.height=a+"px"}}function X(e,t){var s=$a(t,"X",!0),a=$a(t,"Y",!0),n=e.offset(),i=s-n.left,r=a-n.top,l=Math.max(i,e[0].offsetWidth-i),o=Math.max(r,e[0].offsetHeight-r),c=2*Math.sqrt(Math.pow(l,2)+Math.pow(o,2));U(Ya),Ya=Me('<span class="mbsc-ripple"></span>').css({width:c,height:c,top:a-n.top-c/2,left:s-n.left-c/2}).appendTo(e),setTimeout(function(){Ya.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function U(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function z(e,t,s,a){var n,i;e.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",t,function(e){Wa(e,this)&&(n=$a(e,"X"),i=$a(e,"Y"),Ha=Me(this),Ha.hasClass(s)||Ha.hasClass(a)?Ha=null:X(Ha,e))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",t,function(e){(Ha&&Math.abs($a(e,"X")-n)>9||Math.abs($a(e,"Y")-i)>9)&&(U(Ya),Ha=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",t,function(){Ha&&(setTimeout(function(){U(Ya)},100),Ha=null)})}var K=K||{},G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},J=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),Q=function e(t,s,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,s);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,s,a)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(a)},ee=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},te=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},se={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},ae={readonly:"readOnly"},ne=[],ie=Array.prototype.slice,re=function(){var n=function(e){var t=this,s=0;for(s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,l(this)},l=function t(s,a){var i=[],r=0;if(s&&!a&&s instanceof n)return s;if(e(s))return t(document).ready(s);if(s)if("string"==typeof s){var l,o,c;if(s=c=s.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var d="div";for(0===c.indexOf("<li")&&(d="ul"),0===c.indexOf("<tr")&&(d="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(d="tr"),0===c.indexOf("<tbody")&&(d="table"),0===c.indexOf("<option")&&(d="select"),o=document.createElement(d),o.innerHTML=c,r=0;r<o.childNodes.length;r++)i.push(o.childNodes[r])}else for(a||"#"!==s[0]||s.match(/[ .<>:~]/)?(a instanceof n&&(a=a[0]),l=(a||document).querySelectorAll(s)):l=[document.getElementById(s.split("#")[1])],r=0;r<l.length;r++)l[r]&&i.push(l[r])}else if(s.nodeType||s===window||s===document)i.push(s);else if(s.length>0&&s[0].nodeType)for(r=0;r<s.length;r++)i.push(s[r]);else t.isArray(s)&&(i=s);return new n(i)};return n.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(l):document.addEventListener("DOMContentLoaded",function(){e(l)},!1),this},concat:ne.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return l(l.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return l(ie.apply(this,arguments))},addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)"undefined"!=typeof this[a].classList&&""!==t[s]&&this[a].classList.add(t[s]);return this},removeClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)"undefined"!=typeof this[a].classList&&""!==t[s]&&this[a].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)"undefined"!=typeof this[a].classList&&this[a].classList.toggle(t[s]);return this},closest:function(e,s){var a=this[0],n=!1;for(t(e)&&(n=l(e));a&&!(n?n.indexOf(a)>=0:l.matches(a,e));)a=a!==s&&a.nodeType!==a.DOCUMENT_NODE&&a.parentNode;return l(a)},attr:function e(t,s){var e;if(1!==arguments.length||"string"!=typeof t){for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(t,s);else for(var n in t)this[a][n]=t[n],this[a].setAttribute(n,t[n]);return this}if(this.length)return e=this[0].getAttribute(t),e||""===e?e:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=ae[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var s=0;s<this.length;s++)this[s][e]=t;return this},val:function(e){if("undefined"==typeof e)return this.length&&this[0].multiple?l.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)l.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(t,s,a,n){function i(e){var t,n,i=e.target;if(l(i).is(s))a.call(i,e);else for(n=l(i).parents(),t=0;t<n.length;t++)l(n[t]).is(s)&&a.call(n[t],e)}function r(e,t,s,a){var n=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:n[1],event:n[0],listener:s,capture:a}),e.addEventListener(n[0],s,a)}var o,c,d=t.split(" ");for(o=0;o<this.length;o++)if(e(s)||s===!1)for(e(s)&&(n=a||!1,a=s),c=0;c<d.length;c++)d[c].indexOf(".")!=-1?r(this[o],d[c],a,n):this[o].addEventListener(d[c],a,n);else for(c=0;c<d.length;c++)this[o].DomLiveListeners||(this[o].DomLiveListeners=[]),this[o].DomLiveListeners.push({listener:a,liveListener:i}),d[c].indexOf(".")!=-1?r(this[o],d[c],i,n):this[o].addEventListener(d[c],i,n);return this},off:function(t,s,a,n){function i(e){var t,s,a,n=e.split("."),i=n[0],r=n[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(s=0;s<d[t].DomNameSpaces.length;++s)a=d[t].DomNameSpaces[s],a.namespace!=r||a.event!=i&&i||(d[t].removeEventListener(a.event,a.listener,a.capture),a.removed=!0);for(s=d[t].DomNameSpaces.length-1;s>=0;--s)d[t].DomNameSpaces[s].removed&&d[t].DomNameSpaces.splice(s,1)}}var r,l,o,c,d=this;for(r=t.split(" "),l=0;l<r.length;l++)for(o=0;o<this.length;o++)if(e(s)||s===!1)e(s)&&(n=a||!1,a=s),0===r[l].indexOf(".")?i(r[l].substr(1),a,n):this[o].removeEventListener(r[l],a,n);else{if(this[o].DomLiveListeners)for(c=0;c<this[o].DomLiveListeners.length;c++)this[o].DomLiveListeners[c].listener===a&&this[o].removeEventListener(r[l],this[o].DomLiveListeners[c].liveListener,n);this[o].DomNameSpaces&&this[o].DomNameSpaces.length&&r[l]&&i(r[l])}return this},trigger:function(e,t){for(var s=e.split(" "),a=0;a<s.length;a++)for(var n=0;n<this.length;n++){var i;try{i=new CustomEvent(s[a],{detail:t,bubbles:!0,cancelable:!0})}catch(e){i=document.createEvent("Event"),i.initEvent(s[a],!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,s=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth,s=["left","right"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight,s=["top","bottom"];return s.forEach(function(s){t-=parseInt(e.css(a("border-"+s+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),s=document.documentElement;return{top:t.top+window.pageYOffset-s.clientTop,left:t.left+window.pageXOffset-s.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function e(t,s){var a,n,l=this[0],e="";if(arguments.length<2){if(!l)return;if("string"==typeof t)return l.style[t]||getComputedStyle(l,"").getPropertyValue(t)}if("string"==typeof t)s||0===s?e=i(t)+":"+r(t,s):this.each(function(){this.style.removeProperty(i(t))});else for(n in t)if(t[n]||0===t[n])e+=i(n)+":"+r(n,t[n])+";";else for(a=0;a<this.length;a++)this[a].style.removeProperty(i(n));return this.each(function(){this.style.cssText+=";"+e})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(t){for(var s=[],a=0;a<this.length;a++)e(t)?t.call(this[a],a,this[a])&&s.push(this[a]):l.matches(this[a],t)&&s.push(this[a]);return new n(s)},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&l.matches(this[0],e)},not:function(a){var n=[];if(e(a)&&void 0!==a.call)this.each(function(e){a.call(this,e)||n.push(this)});else{var i="string"==typeof a?this.filter(a):s(a)&&e(a.item)?ie.call(a):l(a);t(i)&&(i=l.map(i,function(e){return e})),this.each(function(e,t){i.indexOf(t)<0&&n.push(t)})}return l(n)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(l(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?ie.call(this):this[e>=0?e:e+this.length]},eq:function(e){if("undefined"==typeof e)return this;var t,s=this.length;return e>s-1?new n([]):e<0?(t=s+e,new n(t<0?[]:[this[t]])):new n([this[e]])},append:function(e){var t,s;for(t=0;t<this.length;t++)if("string"==typeof e){var a=document.createElement("div");for(a.innerHTML=e;a.firstChild;)this[t].appendChild(a.firstChild)}else if(e instanceof n)for(s=0;s<e.length;s++)this[t].appendChild(e[s]);else this[t].appendChild(e);return this},appendTo:function(e){return l(e).append(this),this},prepend:function(e){var t,s;for(t=0;t<this.length;t++)if("string"==typeof e){var a=document.createElement("div");for(a.innerHTML=e,s=a.childNodes.length-1;s>=0;s--)this[t].insertBefore(a.childNodes[s],this[t].childNodes[0])}else if(e instanceof n)for(s=0;s<e.length;s++)this[t].insertBefore(e[s],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return l(e).prepend(this),this},insertBefore:function(e){for(var t=l(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a]);return this},insertAfter:function(e){for(var t=l(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a].nextSibling);return this},next:function(e){return new n(this.length>0?e?this[0].nextElementSibling&&l(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],s=this[0];if(!s)return new n([]);for(;s.nextElementSibling;){var a=s.nextElementSibling;e?l(a).is(e)&&t.push(a):t.push(a),s=a}return new n(t)},prev:function(e){return new n(this.length>0?e?this[0].previousElementSibling&&l(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],s=this[0];if(!s)return new n([]);for(;s.previousElementSibling;){var a=s.previousElementSibling;e?l(a).is(e)&&t.push(a):t.push(a),s=a}return new n(t)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?l(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return l(l.unique(t))},parents:function e(t){for(var e=[],s=0;s<this.length;s++)for(var a=this[s].parentNode;a;)t?l(a).is(t)&&e.push(a):e.push(a),a=a.parentNode;return l(l.unique(e))},find:function(e){for(var t=[],s=0;s<this.length;s++)for(var a=this[s].querySelectorAll(e),i=0;i<a.length;i++)t.push(a[i]);return new n(t)},children:function e(t){for(var e=[],s=0;s<this.length;s++)for(var a=this[s].childNodes,i=0;i<a.length;i++)t?1===a[i].nodeType&&l(a[i]).is(t)&&e.push(a[i]):1===a[i].nodeType&&e.push(a[i]);return new n(l.unique(e))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var a=l(arguments[e]);for(t=0;t<a.length;t++)s[s.length]=a[t],s.length++}return s},before:function(e){return l(e).insertBefore(this),this},after:function(e){return l(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return ie.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return l(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!l(t).filter(e).length;)s.push(t[0]),t=t.prev();return l(s)},detach:function(){return this.remove()}},l.fn=n.prototype,l}(),le=re;K.$=re,le.inArray=function(e,t,s){return ne.indexOf.call(t,e,s)},le.extend=function(e){var t,s=ie.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),e=e||{},s.forEach(function(s){n(e,s,t)}),e},le.isFunction=e,le.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},le.isPlainObject=function(e){return t(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},le.each=function(e,s){var a,n;if(t(e)&&s){if(le.isArray(e)||e instanceof re)for(a=0;a<e.length&&s.call(e[a],a,e[a])!==!1;a++);else for(n in e)if(e.hasOwnProperty(n)&&"length"!==n&&s.call(e[n],n,e[n])===!1)break;return this}},le.unique=function(e){for(var t=[],s=0;s<e.length;s++)t.indexOf(e[s])===-1&&t.push(e[s]);return t},le.map=function(e,t){var a,n,i,r=[];if(s(e))for(n=0;n<e.length;n++)a=t(e[n],n),null!==a&&r.push(a);else for(i in e)a=t(e[i],i),null!==a&&r.push(a);return r.length>0?le.fn.concat.apply([],r):r},le.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return s.call(e,t)},K.presetShort=function(e,t,s){K[e]=function(a,n){var i,r,l={},o=n||{};return le.extend(o,{preset:s===!1?void 0:e}),le(a).each(function(){i=new K.classes[t||"Scroller"](this,o),l[this.id]=i}),r=Object.keys(l),1==r.length?l[r[0]]:l}};var oe,ce,de,ue,me=[],he="undefined"!=typeof window,fe=he?navigator.userAgent:"",pe=fe.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),be=he&&window.requestAnimationFrame||function(e){e()},ve=he&&window.cancelAnimationFrame||function(){};/Android/i.test(pe)?(oe="android",ce=fe.match(/Android\s+([\d\.]+)/i),ce&&(me=ce[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(pe)?(oe="ios",ce=fe.match(/OS\s+([\d\_]+)/i),ce&&(me=ce[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(pe)?oe="wp":/Windows|MSIE/i.test(pe)&&(oe="windows"),de=me[0],ue=me[1];var ge=0;he&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,d,!0)}),"android"==oe&&de<5&&document.addEventListener("change",function(e){ge&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var ye,xe,we,_e,Ce,Te=function(){},Me=K.$,ke=+new Date,De={},Se=Me.extend;he&&(xe=document.createElement("modernizr").style,Ce=m(),_e=Ce.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ye=void 0!==xe.animation?"animationend":"webkitAnimationEnd"),we=Se(K,{$:Me,version:"3.2.4",util:{prefix:Ce,jsPrefix:_e,animEnd:ye,preventClick:l,testTouch:function(e,t){if("touchstart"==e.type)Me(t).attr("data-touch","1");else if(Me(t).attr("data-touch"))return Me(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,s=[];for(t in e)s.push(e[t]);return s},arrayToObject:function(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:o,getPosition:function(e,t){var s,a,n=getComputedStyle(e[0]);return Me.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return s=n[t+"ransform"],!1}),s=s.split(")")[0].split(", "),a=t?s[13]||s[5]:s[12]||s[4]},constrain:function(e,t,s){return Math.max(t,Math.min(e,s))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var s,a;return t=t||100,function(){var n=this,i=+new Date,r=arguments;s&&i<s+t?(clearTimeout(a),a=setTimeout(function(){s=i,e.apply(n,r)},t)):(s=i,e.apply(n,r))}}},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:oe,majorVersion:de,minorVersion:ue},i18n:{},instances:De,classes:{},components:{},settings:{},setDefaults:function(e){Se(this.settings,e)},customTheme:function(e,t){var s,a=K.themes,n=["frame","scroller","listview","menustrip","form","progress"];for(s=0;s<n.length;s++)a[n[s]][e]=Se({},a[n[s]][t],{baseTheme:t})}}),we.presetShort=we.presetShort||function(){},we.classes.Base=function(e,t){function s(){Me(e).addClass("mbsc-comp"),e.id?De[e.id]&&De[e.id].destroy():e.id="mobiscroll"+ ++ke,De[e.id]=u,u.__ready=!0}var a,n,i,r,l,o,d,u=this;u.settings={},u._init=Te,u._destroy=Te,u._processSettings=Te,u.init=function(s){var c;for(c in u.settings)delete u.settings[c];i=u.settings,Se(t,s),u._hasDef&&(d=we.settings),Se(i,u._defaults,d,t),u._hasTheme&&(l=i.theme,"auto"!=l&&l||(l=we.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,r=we.themes[u._class]?we.themes[u._class][l]:{}),u._hasLang&&(a=we.i18n[i.lang]),u._hasTheme&&o("onThemeLoad",{lang:a,settings:t}),Se(i,r,a,d,t),u._processSettings(),u._hasPreset&&(n=we.presets[u._class][i.preset],n&&(n=n.call(e,u),Se(i,n,t))),u._init(s),o("onInit")},u.destroy=function(){u&&(u._destroy(),o("onDestroy"),delete De[e.id],u=null)},u.tap=function(e,t,s,a,n){c(u,e,t,s,a,n)},u.trigger=function(s,a){var i,l,o,c=[d,r,n,t];for(l=0;l<4;l++)o=c[l],o&&o[s]&&(i=o[s].call(e,a||{},u));return i},u.option=function(e,t){var s={};"object"===("undefined"==typeof e?"undefined":G(e))?s=e:s[e]=t,u.init(s)},u.getInst=function(){return u},t=t||{},o=u.trigger,u.__ready||s()};var Ve=0;K.util.getJson=p;var Ae,Le,Ee=K.util,Oe=K.classes,Ie=K.themes,Ne=Ee.constrain,He=Ee.isString,Ye=Ee.getCoord,Pe=Ee.animEnd,Fe=/(iphone|ipod)/i.test(fe)&&de>=7,We="android"==oe,$e="ios"==oe,je=$e&&8==de,Re=function(){},qe=function(e){e.preventDefault()},Be=function(e,t,s){function a(e){M&&M.removeClass("mbsc-fr-btn-a"),M=Me(this),M.hasClass("mbsc-fr-btn-d")||M.hasClass("mbsc-fr-btn-nhl")||M.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?Me(document).on("mouseup",n):"pointerdown"===e.type&&Me(document).on("pointerup",n)}function n(e){M&&(M.removeClass("mbsc-fr-btn-a"),M=null),"mouseup"===e.type?Me(document).off("mouseup",n):"pointerup"===e.type&&Me(document).off("pointerup",n)}function i(e){13==e.keyCode?z.select():27==e.keyCode&&z.cancel()}function r(e){e||We||H.focus(),z.ariaMessage(W.ariaMessage)}function l(e){var t=Ae,s=W.focusOnClose;z._markupRemove(),g.remove(),V&&(k.mbscModals--,W.scrollLock&&k.mbscLock--,k.mbscLock||v.removeClass("mbsc-fr-lock"),k.mbscModals||(v.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),N&&(p.css({top:"",left:""}),_.scrollLeft($),_.scrollTop(R)),e||(t||(t=G),setTimeout(function(){void 0===s||s===!0?(Le=!0,t[0].focus()):s&&Me(s)[0].focus()},200)))),z._isVisible=!1,A=!1,B("onHide")}function o(e){clearTimeout(J[e.type]),J[e.type]=setTimeout(function(){var t,s="scroll"==e.type;s&&!j||(z.position(!s),"orientationchange"==e.type&&(Y.style.display="none",t=Y.offsetHeight,Y.style.display=""))},200)}function c(e){e.target.nodeType&&!H.contains(e.target)&&H.focus()}function d(e,t){e&&e(),z.show()!==!1&&(Ae=t)}function u(){z._fillValue(),B("onSet",{valueText:z._value})}function m(){B("onCancel",{valueText:z._value})}function h(){z.setVal(null,!0)}var f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,L,E,O,I,N,H,Y,P,F,W,$,j,R,q,B,X,U,z=this,G=Me(e),Z=[],J={};Oe.Base.call(this,e,t,!0),z.position=function(e){var t,s,a,n,i,r,l,o,c,d,u,m,h,f,b,v,y={},T=0,M=0,D=0,N=0;!F&&A&&(z._position(g),m=L.offsetHeight,h=L.offsetWidth,X===h&&U===m&&e||(z._isFullScreen||/top|bottom/.test(W.display)?w.width(h):C.width(""),B("onPosition",{target:L,windowWidth:h,windowHeight:m})!==!1&&V&&(Me(".mbsc-comp",g).each(function(){var e=K.instances[this.id];e&&e!==z&&e.position&&e.position()}),!z._isFullScreen&&/center|bubble/.test(W.display)&&(Me(".mbsc-w-p",g).each(function(){f=this.getBoundingClientRect().width,N+=f,D=f>D?f:D}),C.css({width:z._isLiquid?Math.min(W.maxPopupWidth,h-16):Math.ceil(N>h?D:N),"white-space":N>h?"":"nowrap"})),E=Y.offsetWidth,O=Y.offsetHeight,j=O<=m&&E<=h,I&&(T=_.scrollLeft(),M=_.scrollTop()),"center"==W.display?(v=Math.max(0,T+(h-E)/2),b=Math.max(0,M+(m-O)/2)):"bubble"==W.display?(t=void 0===W.anchor?G:Me(W.anchor),l=Me(".mbsc-fr-arr-i",g)[0],n=t.offset(),i=n.top+(S?M-p.offset().top:0),r=n.left+(S?T-p.offset().left:0),s=t[0].offsetWidth,a=t[0].offsetHeight,o=l.offsetWidth,c=l.offsetHeight,v=Ne(r-(E-s)/2,T+8,T+h-E-8),b=i-O-c/2,b<M||i>M+m?(w.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=i+a+c/2):w.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),Me(".mbsc-fr-arr",g).css({left:Ne(r+s/2-(v+(E-o)/2),0,o)}),j=b>M&&v>T&&b+O<=M+m&&v+E<=T+h):(v=T,b="top"==W.display?M:Math.max(0,M+m-O)),I&&(d=Math.max(b+O,S?k.scrollHeight:Me(document).height()),u=Math.max(v+E,S?k.scrollWidth:Me(document).width()),x.css({width:u,height:d}),W.scroll&&"bubble"==W.display&&(b+O+8>M+m||i>M+m||i+a<M)&&(F=!0,setTimeout(function(){F=!1},300),_.scrollTop(Math.min(i,b+O-m+8,d-m)))),y.top=Math.floor(b),y.left=Math.floor(v),w.css(y),X=h,U=m)))},z.attachShow=function(e,t){var s,a=Me(e),n=a.prop("readonly");
if("inline"!==W.display){if((W.showOnFocus||W.showOnTap)&&a.is("input,select")&&(a.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){z._isVisible&&this.blur()}),s=Me('label[for="'+a.attr("id")+'"]'),s.length||(s=a.closest("label"))),a.is("select"))return;W.showOnFocus&&a.on("focus.mbsc",function(){Le?Le=!1:d(t,a)}),W.showOnTap&&(a.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),d(t,a))}),z.tap(a,function(){d(t,a)}),s&&s.length&&z.tap(s,function(){d(t,a)})),Z.push({readOnly:n,el:a,lbl:s})}},z.select=function(){V?z.hide(!1,"set",!1,u):u()},z.cancel=function(){V?z.hide(!1,"cancel",!1,m):m()},z.clear=function(){z._clearValue(),B("onClear"),V&&z._isVisible&&!z.live?z.hide(!1,"clear",!1,h):h()},z.enable=function(){W.disabled=!1,z._isInput&&G.prop("disabled",!1)},z.disable=function(){W.disabled=!0,z._isInput&&G.prop("disabled",!0)},z.show=function(e,t){function s(){g.off(Pe,s).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+D).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+D),r(t)}var l,d;if(!W.disabled&&!z._isVisible){if(z._readValue(),B("onBeforeShow")===!1)return!1;if(Ae=null,D=W.animate,T=W.buttons||[],I=S||"bubble"==W.display,N=Fe&&!I&&W.scrollLock,l=T.length>0,q=!1,D!==!1&&("top"==W.display?D=D||"slidedown":"bottom"==W.display?D=D||"slideup":"center"!=W.display&&"bubble"!=W.display||(D=D||"pop")),V&&(R=Math.max(0,_.scrollTop()),$=Math.max(0,_.scrollLeft()),X=0,U=0,N&&!v.hasClass("mbsc-fr-lock-ios")&&p.css({top:-R+"px",left:-$+"px"}),v.addClass((W.scrollLock?"mbsc-fr-lock":"")+(N?" mbsc-fr-lock-ios":"")+(S?" mbsc-fr-lock-ctx":"")),Me(document.activeElement).is("input,textarea")&&document.activeElement.blur(),K.activeInstance&&K.activeInstance.hide(),K.activeInstance=z,k.mbscModals=k.mbscModals||0,k.mbscLock=k.mbscLock||0,k.mbscModals++,W.scrollLock&&k.mbscLock++),d='<div lang="'+W.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+W.theme+(W.baseTheme?" mbsc-"+W.baseTheme:"")+" mbsc-fr-"+W.display+" "+(W.cssClass||"")+" "+(W.compClass||"")+(z._isLiquid?" mbsc-fr-liq":"")+(N?" mbsc-platform-ios":"")+(l?T.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(V?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(W.rtl?" mbsc-rtl":" mbsc-ltr")+(W.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===W.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(W.headerText?'<div class="mbsc-fr-hdr">'+(He(W.headerText)?W.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',d+=z._generateContent(),d+="</div>",l&&(d+='<div class="mbsc-fr-btn-cont">',Me.each(T,function(e,t){t=He(t)?z.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),d+="<div"+(W.btnWidth?' style="width:'+100/T.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?W.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),d+="</div>"),d+="</div></div></div></div>"+(V?"</div></div>":""),g=Me(d),x=Me(".mbsc-fr-persp",g),y=Me(".mbsc-fr-scroll",g),C=Me(".mbsc-fr-w",g),b=Me(".mbsc-fr-hdr",g),w=Me(".mbsc-fr-popup",g),f=Me(".mbsc-fr-aria",g),L=g[0],H=y[0],Y=w[0],z._markup=g,z._header=b,z._isVisible=!0,P="orientationchange resize",z._markupReady(g),B("onMarkupReady",{target:L}),V){if(Me(window).on("keydown",i),W.scrollLock&&g.on("touchmove mousewheel wheel",function(e){j&&e.preventDefault()}),W.focusTrap&&_.on("focusin",c),W.closeOnOverlayTap){var u,m,h,M;y.on("touchstart mousedown",function(e){m||e.target!=y[0]||(m=!0,u=!1,h=Ye(e,"X"),M=Ye(e,"Y"))}).on("touchmove mousemove",function(e){m&&!u&&(Math.abs(Ye(e,"X")-h)>9||Math.abs(Ye(e,"Y")-M)>9)&&(u=!0)}).on("touchcancel",function(){m=!1}).on("touchend touchcancel mouseup",function(e){m&&!u&&(z.cancel(),"mouseup"!=e.type&&Ee.preventClick()),m=!1})}I&&(P+=" scroll")}setTimeout(function(){if(V)g.appendTo(p);else if(G.is("div")&&!z._hasContent)G.empty().append(g);else if(G.hasClass("mbsc-control")){var i=G.closest(".mbsc-control-w");g.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else g.insertAfter(G);A=!0,z._markupInserted(g),B("onMarkupInserted",{target:L}),g.on("selectstart mousedown",qe).on("click",".mbsc-fr-btn-e",qe).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&V&&W.focusTrap){var t=g.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(Me(":focus",g)),a=t.length-1,n=0;e.shiftKey&&(a=0,n=-1),s===a&&(t.eq(n)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",a).on("touchend",".mbsc-fr-btn-e",n),Me("input,select,textarea",g).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),L.addEventListener("touchstart",function(){q||(q=!0,p.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Me.each(T,function(e,t){z.tap(Me(".mbsc-fr-btn"+e,g),function(e){t=He(t)?z.buttons[t]:t,(He(t.handler)?z.handlers[t.handler]:t.handler).call(this,e,z)},!0)}),z._attachEvents(g),z.position(),_.on(P,o),V&&(D&&!e?g.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+D).on(Pe,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+D):r(t)),B("onShow",{target:L,valueText:z._tempValue})},N?100:0)}},z.hide=function(e,t,s,a){function n(){g.off(Pe,n),l(e)}return!(!z._isVisible||!s&&!z._isValid&&"set"==t||!s&&B("onBeforeClose",{valueText:z._tempValue,button:t})===!1)&&(V&&(Me(document.activeElement).is("input,textarea")&&Y.contains(document.activeElement)&&document.activeElement.blur(),Me(window).off("keydown",i),delete K.activeInstance),g&&(V&&D&&!e?g.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+D).on(Pe,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+D):l(e),z._detachEvents(g),_.off(P,o).off("focusin",c)),a&&a(),void B("onClose",{valueText:z._value}))},z.ariaMessage=function(e){f.html(""),setTimeout(function(){f.html(e)},100)},z.isVisible=function(){return z._isVisible},z.setVal=Re,z.getVal=Re,z._generateContent=Re,z._attachEvents=Re,z._detachEvents=Re,z._readValue=Re,z._clearValue=Re,z._fillValue=Re,z._markupReady=Re,z._markupInserted=Re,z._markupRemove=Re,z._position=Re,z.__processSettings=Re,z.__init=Re,z.__destroy=Re,z._destroy=function(){z.hide(!0,!1,!0),G.off(".mbsc"),Me.each(Z,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),z.__destroy()},z._processSettings=function(){var e,t;for(z.__processSettings(),W.buttons=W.buttons||("inline"!==W.display?["set","cancel"]:[]),W.headerText=void 0===W.headerText?"inline"!==W.display&&"{value}":W.headerText,T=W.buttons||[],V="inline"!==W.display,S="body"!=W.context,p=Me(W.context),v=S?p:Me("body,html"),k=p[0],z._window=_=Me(S?W.context:window),z.live=!0,t=0;t<T.length;t++)e=T[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(z.live=!1);z.buttons.set={text:W.setText,icon:W.setIcon,handler:"set"},z.buttons.cancel={text:W.cancelText,icon:W.cancelIcon,handler:"cancel"},z.buttons.close={text:W.closeText,icon:W.closeIcon,handler:"cancel"},z.buttons.clear={text:W.clearText,icon:W.clearIcon,handler:"clear"},z._isInput=G.is("input")},z._init=function(){z._isVisible&&z.hide(!0,!1,!0),G.off(".mbsc"),z.__init(),z._isLiquid="liquid"==W.layout,V?(z._readValue(),z._hasContent||z.attachShow(G)):z.show(),G.on("change.mbsc",function(){z._preventChange||z.setVal(G.val(),!0,!1),z._preventChange=!1})},z.buttons={},z.handlers={set:z.select,cancel:z.cancel,clear:z.clear},z._value=null,z._isValid=!0,z._isVisible=!1,W=z.settings,B=z.trigger,s||z.init(t)};Be.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:We||$e,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!je},Oe.Frame=Be,Ie.frame.mobiscroll={headerText:!1,btnWidth:!1},Ie.scroller.mobiscroll=Se({},Ie.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),he&&Me(window).on("focus",function(){Ae&&(Le=!0)});var Xe=K.classes,Ue=K.util,ze=Ue.constrain,Ke=Ue.jsPrefix,Ge=Ue.prefix,Ze=Ue.getCoord,Je=Ue.getPosition,Qe=Ue.testTouch,et=Ue.isNumeric,tt=Ue.isString,st="ios"==oe,at=function(e,t,s){function a(e){q("onStart",{domEvent:e}),G.stopProp&&e.stopPropagation(),(G.prevDef||"mousedown"==e.type)&&e.preventDefault(),G.readonly||G.lock&&D||Qe(e,this)&&!k&&(d&&d.removeClass("mbsc-btn-a"),_=!1,D||(d=Me(e.target).closest(".mbsc-btn-e",this),d.length&&!d.hasClass("mbsc-btn-d")&&(_=!0,u=setTimeout(function(){d.addClass("mbsc-btn-a")},100))),k=!0,L=!1,S=!1,U.scrolled=D,P=Ze(e,"X"),F=Ze(e,"Y"),y=P,h=0,f=0,p=0,Y=new Date,H=+Je($,B)||0,D&&c(H,st?0:1),"mousedown"===e.type&&Me(document).on("mousemove",n).on("mouseup",r))}function n(e){k&&(G.stopProp&&e.stopPropagation(),y=Ze(e,"X"),x=Ze(e,"Y"),h=y-P,f=x-F,p=B?f:h,_&&(Math.abs(f)>G.thresholdY||Math.abs(h)>G.thresholdX)&&(clearTimeout(u),d.removeClass("mbsc-btn-a"),_=!1),(U.scrolled||!S&&Math.abs(p)>R)&&(L||q("onGestureStart",w),U.scrolled=L=!0,A||(A=!0,V=be(i))),B||G.scrollLock?e.preventDefault():U.scrolled?e.preventDefault():Math.abs(f)>7&&(S=!0,U.scrolled=!0,Z.trigger("touchend")))}function i(){T&&(p=ze(p,-I*T,I*T)),c(ze(H+p,M-g,C+g)),A=!1}function r(e){if(k){var t,s=new Date-Y;G.stopProp&&e.stopPropagation(),ve(V),A=!1,!S&&U.scrolled&&(G.momentum&&s<300&&(t=p/s,p=Math.max(Math.abs(p),t*t/G.speedUnit)*(p<0?-1:1)),o(p)),_&&(clearTimeout(u),d.addClass("mbsc-btn-a"),setTimeout(function(){d.removeClass("mbsc-btn-a")},100),S||U.scrolled||q("onBtnTap",{target:d[0]})),"mouseup"==e.type&&Me(document).off("mousemove",n).off("mouseup",r),k=!1}}function l(e){if(e=e.originalEvent||e,p=B?e.deltaY||e.wheelDelta||e.detail:e.deltaX,q("onStart",{domEvent:e}),G.stopProp&&e.stopPropagation(),p){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(p*=5),p=ze(-p,-20,20),H=X,G.readonly||H+p<M||H+p>C)return;L||(w={posX:B?0:X,posY:B?X:0,originX:B?0:H,originY:B?H:0,direction:p>0?B?270:360:B?90:180},q("onGestureStart",w)),A||(A=!0,V=be(i)),L=!0,clearTimeout(E),E=setTimeout(function(){ve(V),A=!1,L=!1,o(p)},200)}}function o(e){var t,s,a;if(T&&(e=ze(e,-I*T,I*T)),a=ze(Math.round((H+e)/I)*I,M,C),z=Math.round(a/I),N){if(e<0){for(t=N.length-1;t>=0;t--)if(Math.abs(a)+m>=N[t].breakpoint){z=t,K=2,a=N[t].snap2;break}}else if(e>=0)for(t=0;t<N.length;t++)if(Math.abs(a)<=N[t].breakpoint){z=t,K=1,a=N[t].snap1;break}a=ze(a,M,C)}s=G.time||(X<M||X>C?1e3:Math.max(1e3,Math.abs(a-X)*G.timeUnit)),w.destinationX=B?0:a,w.destinationY=B?a:0,w.duration=s,w.transitionTiming=v,q("onGestureEnd",w),c(a,s)}function c(e,t,s,a){var n=e!=X,i=t>1,r=function(){clearInterval(O),clearTimeout(j),D=!1,X=e,w.posX=B?0:e,w.posY=B?e:0,n&&q("onMove",w),i&&q("onAnimationEnd",w),a&&a()};w={posX:B?0:X,posY:B?X:0,originX:B?0:H,originY:B?H:0,direction:e-X>0?B?270:360:B?90:180},X=e,i&&(w.destinationX=B?0:e,w.destinationY=B?e:0,w.duration=t,w.transitionTiming=v,q("onAnimationStart",w)),W[Ke+"Transition"]=t?Ge+"transform "+Math.round(t)+"ms "+v:"",W[Ke+"Transform"]="translate3d("+(B?"0,"+e+"px,":e+"px,0,")+"0)",!n&&!D||!t||t<=1?r():t&&(D=!s,clearInterval(O),O=setInterval(function(){var t=+Je($,B)||0;w.posX=B?0:t,w.posY=B?t:0,q("onMove",w),Math.abs(t-e)<2&&r()},100),clearTimeout(j),j=setTimeout(function(){r()},t)),G.sync&&G.sync(e,t,v)}var d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,L,E,O,I,N,H,Y,P,F,W,$,j,R,q,B,X,U=this,z=0,K=1,G=t,Z=Me(e);Xe.Base.call(this,e,t,!0),U.scrolled=!1,U.scroll=function(t,s,a,n){t=et(t)?Math.round(t/I)*I:Math.ceil((Me(t,e).length?Math.round($.offset()[b]-Me(t,e).offset()[b]):X)/I)*I,t=ze(t,M,C),z=Math.round(t/I),H=X,c(t,s,a,n)},U.refresh=function(e){var t;m=void 0===G.contSize?B?Z.height():Z.width():G.contSize,M=void 0===G.minScroll?Math.min(0,B?m-$.height():m-$.width()):G.minScroll,C=void 0===G.maxScroll?0:G.maxScroll,N=null,!B&&G.rtl&&(t=C,C=-M,M=-t),tt(G.snap)&&(N=[],$.find(G.snap).each(function(){var e=B?this.offsetTop:this.offsetLeft,t=B?this.offsetHeight:this.offsetWidth;N.push({breakpoint:e+t/2,snap1:-e,snap2:m-e-t})})),I=et(G.snap)?G.snap:1,T=G.snap?G.maxSnapScroll:0,v=G.easing,g=G.elastic?et(G.snap)?I:et(G.elastic)?G.elastic:0:0,void 0===X&&(X=G.initialPos,z=Math.round(X/I)),e||U.scroll(G.snap?N?N[z]["snap"+K]:z*I:X)},U._processSettings=function(){B="Y"==G.axis,b=B?"top":"left",$=G.moveElement||Z.children().eq(0),W=$[0].style,R=B?G.thresholdY:G.thresholdX},U._init=function(){U.refresh(),Z.on("touchstart mousedown",a).on("touchmove",n).on("touchend touchcancel",r),G.mousewheel&&Z.on("wheel mousewheel",l),e.addEventListener&&e.addEventListener("click",function(e){U.scrolled&&(U.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},U._destroy=function(){clearInterval(O),Z.off("touchstart mousedown",a).off("touchmove",n).off("touchend touchcancel",r).off("wheel mousewheel",l)},G=U.settings,q=U.trigger,s||U.init(t)};at.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},Xe.ScrollView=at,K.presetShort("scrollview","ScrollView",!1);var nt=K.util,it=nt.jsPrefix,rt=nt.prefix,lt=nt.getCoord,ot=nt.testTouch,ct=he?window.CSS:null,dt=ct&&ct.supports&&ct.supports("(transform-style: preserve-3d)"),ut=!dt||"wp"==oe||"android"==oe;K.presetShort("scroller","Scroller",!1);var mt=function(e,t,s){function a(e){var t=+Me(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),ot(e,this)&&!v(t)&&(D=Me(this).addClass("mbsc-sc-btn-a"),H=lt(e,"X"),Y=lt(e,"Y"),I=!0,N=!1,setTimeout(function(){f(t,"inc"==D.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&Me(document).on("mousemove",n).on("mouseup",i))}function n(e){(Math.abs(H-lt(e,"X"))>7||Math.abs(Y-lt(e,"Y"))>7)&&p(!0)}function i(e){p(),e.preventDefault(),"mouseup"===e.type&&Me(document).off("mousemove",n).off("mouseup",i)}function r(e){var t,s,a=Me(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,o(a,B[a]._$markup.find('.mbsc-sc-itm[data-val="'+P[a]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),s&&!I&&(I=!0,N=!1,f(a,s)))}function l(){p()}function o(e,t){var s=B[e],a=t.attr("data-index"),n=h(s,a),i=K._tempSelected[e],r=nt.isNumeric(s.multiple)?s.multiple:1/0;R("onItemTap",{target:t[0],index:e,value:n,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(s.multiple&&!s._disabled[n]&&(void 0!==i[n]?(t.removeClass(L).removeAttr("aria-selected"),delete i[n]):(1==r&&(K._tempSelected[e]=i={},s._$markup.find(".mbsc-sc-itm-sel").removeClass(L).removeAttr("aria-selected")),nt.objectToArray(i).length<r&&(t.addClass(L).attr("aria-selected","true"),i[n]=n))),T(s,e,a,z,!0,!0,s.multiple),!K.live||s.multiple||j.setOnTap!==!0&&!j.setOnTap[e]||setTimeout(function(){K.select()},200))}function c(e,t){return(e._array?e._map[t]:e.getIndex(t,K))||0}function d(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Me(s).get(t%e._length):s[t]:Me.isFunction(s)?s(t,K):""}function u(e){return Me.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function m(e){var t=Me.isPlainObject(e)?e.display:e;return void 0===t?"":t}function h(e,t){return u(d(e,t))}function f(e,t){N||b(e,t),I&&(clearInterval(O),O=setInterval(function(){b(e,t)},j.delay))}function p(e){clearInterval(O),N=e,I=!1,D&&D.removeClass("mbsc-sc-btn-a")}function b(e,t){var s=B[e];T(s,e,s._current+t,z,1==t?1:2)}function v(e){return Me.isArray(j.readonly)?j.readonly[e]:j.readonly}function g(e,t,s){var a=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Me.isArray(e.data),e._array&&(e._length=e.data.length,Me.each(e.data,function(t,s){e._map[u(s)]=t})),e.circular=void 0===j.circular?void 0===e.circular?e._array&&e._length>j.rows:e.circular:Me.isArray(j.circular)?j.circular[t]:j.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=c(e,P[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-U,e._last=e._index+U,e._offset=e._first,s?(e._offset-=e._margin/F+(e._index-a),e._margin+=(e._index-a)*F):e._margin=0,e._refresh=function(t){var s=-(e.min-e._offset+(e.multiple&&!A?Math.floor(j.rows/2):0))*F,a=Math.min(s,-(e.max-e._offset-(e.multiple&&!A?Math.floor(j.rows/2):0))*F);Se(e._scroller.settings,{minScroll:a,maxScroll:s}),e._scroller.refresh(t)},X[e.key]=e,e}function y(e,t,s,a,n){var i,r,l,o,c,h,f,p,b="",v=K._tempSelected[t],g=e._disabled||{};for(i=s;i<=a;i++)l=d(e,i),c=m(l),o=u(l),r=l&&void 0!==l.cssClass?l.cssClass:"",h=l&&void 0!==l.label?l.label:"",f=l&&l.invalid,p=void 0!==o&&o==P[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+r+" "+(p?"mbsc-sc-itm-sel ":"")+(v[o]?L:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(f?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[o]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+o+'"'+(h?' aria-label="'+h+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+F+"px;line-height:"+F+"px;"+(n?rt+"transform:rotateX("+(e._offset-i)*V%360+"deg) translateZ("+F*j.rows/2+"px);":"")+'">'+(q>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(F/q)+"px;font-size:"+Math.round(F/q*.8)+'px;">':"")+c+(q>1?"</div>":"")+"</div>";return b}function x(t){var s=j.headerText;return s?"function"==typeof s?s.call(e,t):s.replace(/\{value\}/i,t):""}function w(e,t,s){var a=Math.round(-s/F)+e._offset,n=a-e._current,i=e._first,r=e._last,l=i+U-S+1,o=r-U+S;n&&(e._first+=n,e._last+=n,e._current=a,n>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+n),r+n)),Me(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,r-i+1)).remove(),A&&(e._$3d.append(y(e,t,Math.max(o+1,l+n),o+n,!0)),Me(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,o-l+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,r+n))),Me(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-r-1)).remove(),A&&(e._$3d.prepend(y(e,t,l+n,Math.min(l-1,o+n),!0)),Me(".mbsc-sc-itm",e._$3d).slice(Math.max(n,l-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*F,e._$scroller.css("margin-top",e._margin+"px"))}function _(e,t,s,a){var n,i=B[e],r=a||i._disabled,l=c(i,t),o=t,d=t,u=0,m=0;if(void 0===t&&(t=h(i,l)),r[t]===!0){for(n=0;l-u>=i.min&&r[o]&&n<100;)n++,u++,o=h(i,l-u);for(n=0;l+m<i.max&&r[d]&&n<100;)n++,m++,d=h(i,l+m);t=(m<u&&m&&2!==s||!u||l-u<0||1==s)&&!r[d]?d:o}return t}function C(t,s,a,n,i,r){var l,o,d,u,m=K._isVisible;$=!0,u=j.validate.call(e,{values:P.slice(0),index:s,direction:a},K)||{},$=!1,u.valid&&(K._tempWheelArray=P=u.valid.slice(0)),r||Me.each(B,function(e,n){if(m&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),n._disabled={},u.disabled&&u.disabled[e]&&Me.each(u.disabled[e],function(e,t){n._disabled[t]=!0,m&&n._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),P[e]=n.multiple?P[e]:_(e,P[e],a),m){if(n.multiple&&void 0!==s||n._$markup.find(".mbsc-sc-itm-sel").removeClass(L).removeAttr("aria-selected"),n.multiple){if(void 0===s)for(var r in K._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+r+'"]').addClass(L).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+P[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");o=c(n,P[e]),l=o-n._index+n._batch,Math.abs(l)>2*U+1&&(d=l+(2*U+1)*(l>0?-1:1),n._offset+=d,n._margin-=d*F,n._refresh()),n._index=o+n._batch,n._scroller.scroll(-(o-n._offset+n._batch)*F,s===e||void 0===s?t:z,i)}}),R("onValidated"),K._tempValue=j.formatValue(P,K),m&&K._header.html(x(K._tempValue)),K.live&&(K._hasValue=n||K._hasValue,M(n,n,0,!0),n&&R("onSet",{valueText:K._value})),n&&R("onChange",{valueText:K._tempValue})}function T(e,t,s,a,n,i,r){var l=h(e,s);void 0!==l&&(P[t]=l,e._batch=e._array?Math.floor(s/e._length)*e._length:0,setTimeout(function(){C(a,t,n,!0,i,r)},10))}function M(e,t,s,a,n){if(a?K._tempValue=j.formatValue(K._tempWheelArray,K):C(s),!n){K._wheelArray=[];for(var i=0;i<P.length;i++)K._wheelArray[i]=B[i]&&B[i].multiple?Object.keys(K._tempSelected[i])[0]:P[i];K._value=K._hasValue?K._tempValue:null,K._selected=Se(!0,{},K._tempSelected)}e&&(K._isInput&&G.val(K._hasValue?K._tempValue:""),R("onFill",{valueText:K._hasValue?K._tempValue:"",change:t}),t&&(K._preventChange=!0,G.trigger("change")))}var k,D,S,V,A,L,E,O,I,N,H,Y,P,F,W,$,j,R,q,B,X,U=40,z=1e3,K=this,G=Me(e);Be.call(this,e,t,!0),K.setVal=K._setVal=function(t,s,a,n,i){K._hasValue=null!==t&&void 0!==t,K._tempWheelArray=P=Me.isArray(t)?t.slice(0):j.parseValue.call(e,t,K)||[],M(s,void 0===a?s:a,i,!1,n)},K.getVal=K._getVal=function(e){var t=K._hasValue||e?K[e?"_tempValue":"_value"]:null;return nt.isNumeric(t)?+t:t},K.setArrayVal=K.setVal,K.getArrayVal=function(e){return e?K._tempWheelArray:K._wheelArray},K.changeWheel=function(e,t,s){var a,n;Me.each(e,function(e,t){n=X[e],n&&(a=n._nr,Se(n,t),g(n,a,!0),K._isVisible&&(A&&n._$3d.html(y(n,a,n._first+U-S+1,n._last-U+S,!0)),n._$scroller.html(y(n,a,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh($)))}),!K._isVisible||K._isLiquid||$||K.position(),$||C(t,void 0,void 0,s)},K.getValidValue=_,K._generateContent=function(){var e,t=0,s="",a=A?rt+"transform: translateZ("+(F*j.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+a+"height:"+F+"px;margin-top:-"+(F/2+(j.selectedLineBorder||0))+'px;"></div>',i=0;return Me.each(j.wheels,function(r,l){s+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(A?" mbsc-sc-whl-gr-3d-c":"")+(j.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(A?" mbsc-sc-whl-gr-3d":"")+(E?" mbsc-sc-cp":"")+(j.width||j.maxWidth?'"':'" style="max-width:'+j.maxPopupWidth+'px;"')+">",Me.each(l,function(r,l){K._tempSelected[i]=Se({},K._selected[i]),B[i]=g(l,i),t+=j.maxWidth?j.maxWidth[i]||j.maxWidth:j.width?j.width[i]||j.width:0,e=void 0!==l.label?l.label:r,s+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(j.width?"width:"+(j.width[i]||j.width)+"px;":(j.minWidth?"min-width:"+(j.minWidth[i]||j.minWidth)+"px;":"")+(j.maxWidth?"max-width:"+(j.maxWidth[i]||j.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+a+'"></div>'+n+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+j.rows*F*(A?1.1:1)+'px;">'+(E?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(j.btnPlusClass||"")+'" style="height:'+F+"px;line-height:"+F+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(j.btnMinusClass||"")+'" style="height:'+F+"px;line-height:"+F+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+W+"px;margin-top:-"+(W/2+1)+"px;"+a+'"><div class="mbsc-sc-whl-sc" style="top:'+(W-F)/2+'px;">',s+=y(l,i,l._first,l._last)+"</div></div>",A&&(s+='<div class="mbsc-sc-whl-3d" style="height:'+F+"px;margin-top:-"+F/2+'px;">',s+=y(l,i,l._first+U-S+1,l._last-U+S,!0),s+="</div>"),s+="</div></div>",i++}),s+="</div></div>"}),t&&(j.maxPopupWidth=t),s},K._attachEvents=function(e){Me(".mbsc-sc-btn",e).on("touchstart mousedown",a).on("touchmove",n).on("touchend touchcancel",i),Me(".mbsc-sc-whl",e).on("keydown",r).on("keyup",l)},K._detachEvents=function(){for(var e=0;e<B.length;e++)B[e]._scroller.destroy()},K._markupReady=function(e){k=e,Me(".mbsc-sc-whl-w",k).each(function(e){var t,s=Me(this),a=B[e],n=-(a.min-a._offset+(a.multiple&&!A?Math.floor(j.rows/2):0))*F,i=Math.min(n,-(a.max-a._offset-(a.multiple&&!A?Math.floor(j.rows/2):0))*F);a._$markup=s,a._$scroller=Me(".mbsc-sc-whl-sc",this),a._$3d=Me(".mbsc-sc-whl-3d",this),a._scroller=new at(this,{mousewheel:j.mousewheel,moveElement:a._$scroller,initialPos:(a._first-a._index)*F,contSize:0,snap:F,minScroll:i,maxScroll:n,maxSnapScroll:U,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){A&&(a._$3d[0].style[it+"Transition"]=t?rt+"transform "+Math.round(t)+"ms "+s:"",a._$3d[0].style[it+"Transform"]="rotateX("+-e/F*V+"deg)")},onStart:function(t,s){s.settings.readonly=v(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),R("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var n=90==s.direction?1:2,i=s.duration,r=s.destinationY;t=Math.round(-r/F)+a._offset,T(a,e,t,i,n)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),R("onWheelAnimationEnd",{index:e}),a._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){w(a,e,t.posY)},onBtnTap:function(t){o(e,Me(t.target))}})}),C()},K._fillValue=function(){K._hasValue=!0,M(!0,!0,0,!0)},K._clearValue=function(){Me(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass(L).removeAttr("aria-selected")},K._readValue=function(){var t=G.val()||"",s=0;""!==t&&(K._hasValue=!0),K._tempWheelArray=P=K._hasValue&&K._wheelArray?K._wheelArray.slice(0):j.parseValue.call(e,t,K)||[],K._tempSelected=Se(!0,{},K._selected),Me.each(j.wheels,function(e,t){Me.each(t,function(e,t){B[s]=g(t,s),s++})}),M(!1,!1,0,!0),R("onRead")},K.__processSettings=function(){j=K.settings,R=K.trigger,q=j.multiline,L="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+j.checkIcon,B=[],X={}},K.__init=function(){E=j.showScrollArrows,A=j.scroll3d&&!ut&&!E,F=j.height,W=A?2*Math.round((F-.03*(F*j.rows/2+3))/2):F,S=Math.round(1.8*j.rows),V=360/(2*S),E&&(j.rows=Math.max(3,j.rows)),j.cssClass=(j.cssClass||"")+" mbsc-sc"},K._getItemValue=u,K._tempSelected={},K._selected={},s||K.init(t)};mt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:Se({},Be.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var s,a,n=[],i=[],r=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),Me.each(t.settings.wheels,function(e,l){Me.each(l,function(e,l){a=l.data,s=t._getItemValue(a[0]),Me.each(a,function(e,a){if(n[r]==t._getItemValue(a))return s=t._getItemValue(a),!1}),i.push(s),r++})}),i}})},K.classes.Scroller=mt;var ht=function(){},ft=K.util,pt=ft.isString,bt={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};K.presetShort("select"),K.presets.scroller.select=function(e){function t(e){var t,s,a,n,i,r,l=0,o=0,c={};if(Y={},C={},D=[],_=[],J.length=0,B)Me.each(v,function(l,d){i=d[I.dataText],s=d[I.dataHtml],r=d[I.dataValue],a=d[I.dataGroup],n={value:r,html:s,text:i,index:l},Y[r]=n,e&&!m(i,e)||(D.push(n),X&&(void 0===c[a]?(t={text:a,value:o,options:[],index:o},C[o]=t,c[a]=o,_.push(t),o++):t=C[c[a]],K&&(n.index=t.options.length),n.group=c[a],t.options.push(n)),d[I.dataDisabled]&&J.push(r))});else if(X){var d=!0;Me("optgroup",E).each(function(t){C[t]={text:this.label,value:t,options:[],index:t},d=!0,Me("option",this).each(function(s){n={value:this.value,text:this.text,index:K?s:l++,group:t},Y[this.value]=n,e&&!m(this.text,e)||(d&&(_.push(C[t]),d=!1),D.push(n),C[t].options.push(n),this.disabled&&J.push(this.value))})})}else Me("option",E).each(function(t){n={value:this.value,text:this.text,index:t},Y[this.value]=n,e&&!m(this.text,e)||(D.push(n),this.disabled&&J.push(this.value))});I.defaultValue?g=I.defaultValue:D.length&&(g=D[0].value),G&&(D=[],l=0,Me.each(C,function(e,t){t.options.length&&(r="__group"+e,n={text:t.text,value:r,group:e,index:l++,cssClass:"mbsc-sel-gr"},Y[r]=n,D.push(n),J.push(n.value),Me.each(t.options,function(e,t){t.index=l++,D.push(t)}))})),N&&(D.length?N.removeClass("mbsc-sel-empty-v"):N.addClass("mbsc-sel-empty-v"))}function s(e,t,s){var a,n=[];for(a=0;a<e.length;a++)n.push({value:e[a].value,display:e[a].html||e[a].text,cssClass:e[a].cssClass});return{circular:!1,multiple:t,data:n,label:s}}function a(){return s(_,!1,I.groupLabel)}function n(){return s(K?C[w].options:D,$,q)}function i(){var e,t,s=[[]];return z&&(e=a(),F?s[0][T]=e:s[T]=[e]),t=n(),F?s[0][S]=t:s[S]=[t],s}function r(e){W&&(e&&pt(e)&&(e=e.split(",")),Me.isArray(e)&&(e=e[0])),k=void 0===e||null===e||""===e?g:e,z&&(w=Y[k]?Y[k].group:null)}function l(t,s){var a=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return a?I.group&&s?a:a[S]:null}function o(e){return A[e]||(Y[e]?Y[e].text:"")}function c(t){var s,a,n=[];if($){for(s in e._tempSelected[S])n.push(o(s));return n.join(", ")}return a=t[S],o(a)}function d(){var t,s="",a=e.getVal(),n=c(e.getArrayVal());if(I.filter&&"inline"==I.display||b.val(n),E.is("select")&&B){if(W)for(t=0;t<a.length;t++)s+='<option value="'+a[t]+'">'+o(a[t])+"</option>";else s='<option value="'+a+'">'+n+"</option>";E.html(s)}E[0]!==b[0]&&E.val(a)}function u(){var t={};t[S]=n(),V=!0,e.changeWheel(t)}function m(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function h(e){return I.data.dataField?e[I.data.dataField]:I.data.processResponse?I.data.processResponse(e):e}function f(s){var l={};t(s),I.wheels=i(),r(k),l[S]=n(),e._tempWheelArray[S]=k,z&&(l[T]=a(),e._tempWheelArray[T]=w),e._isVisible&&e.changeWheel(l,0,!0)}var b,v,g,y,x,w,_,C,T,M,k,D,S,V,A={},L=1e3,E=Me(this),O=Se({},e.settings),I=Se(e.settings,bt,O),N=Me('<div class="mbsc-sel-empty">'+I.filterEmptyText+"</div>"),H=I.readonly,Y={},P=I.layout||(/top|bottom|inline/.test(I.display)||I.filter?"liquid":""),F="liquid"==P,W=ft.isNumeric(I.select)?I.select:"multiple"==I.select||E.prop("multiple"),$=W||!!I.filter&&1,j=this.id+"_dummy",R=Me('label[for="'+this.id+'"]').attr("for",j),q=void 0!==I.label?I.label:R.length?R.text():E.attr("name"),B=!!I.data,X=B?!!I.group:Me("optgroup",E).length,U=I.group,z=X&&U&&U.groupWheel!==!1,K=X&&U&&z&&U.clustered===!0,G=X&&(!U||U.header!==!1&&!K),Z=E.val()||(W?[]:[""]),J=[];return e.setVal=function(t,s,a,n,i){$&&(t&&!W&&(t=[t]),t&&pt(t)&&(t=t.split(",")),e._tempSelected[S]=ft.arrayToObject(t),n||(e._selected[S]=ft.arrayToObject(t)),t=t?t[0]:null),e._setVal(t,s,a,n,i)},e.getVal=function(t,s){if($){var a=ft.objectToArray(t?e._tempSelected[S]:e._selected[S]);return W?a:a.length?a[0]:null}return l(t,s)},e.refresh=function(e,t,s){s=s||ht,e?v=e:Me.isArray(I.data)&&(v=I.data),!e&&M&&void 0===t?p(I.data.url,function(e){v=h(e),f(),s()},I.data.dataType):(f(t),s())},I.invalid.length||(I.invalid=J),z?(T=0,S=1):(T=-1,S=0),$&&(W&&E.prop("multiple",!0),Z&&pt(Z)&&(Z=Z.split(",")),e._selected[S]=ft.arrayToObject(Z)),e._$input&&e._$input.remove(),E.next().is("input.mbsc-control")?b=E.next().removeAttr("tabindex"):I.input?b=Me(I.input):(I.filter&&"inline"==I.display?e._$input=Me('<div class="mbsc-sel-input-wrap"><input type="text" id="'+j+'" class="mbsc-control '+I.inputClass+'" readonly /></div>'):(b=Me('<input type="text" id="'+j+'" class="mbsc-control '+I.inputClass+'" readonly />'),e._$input=b),I.showInput&&(e._$input.insertBefore(E),b||(b=e._$input.find("#"+j)))),e.attachShow(b.attr("placeholder",I.placeholder||"")),b[0]!==E[0]&&E.addClass("mbsc-sel-hdn").attr("tabindex",-1),I.filter&&(y=I.filter.minLength||0),
M=I.data&&I.data.url,M?e.refresh(void 0,void 0,d):(B&&(v=I.data),t(),r(E.val())),{layout:P,headerText:!1,anchor:b,compClass:"mbsc-sel"+(z?" mbsc-sel-gr-whl":"")+($?" mbsc-sel-multi":""),setOnTap:!z||[!1,!0],formatValue:c,parseValue:function(e){return r(void 0===e?E.val():e),z?[w,k]:[k]},validate:function(e){var t=e.index,s=[];return s[S]=I.invalid,K&&!V&&void 0===t&&u(),V=!1,{disabled:s}},onRead:d,onFill:d,onMarkupReady:function(e,t){if(I.filter){var s,a,n,i=Me(".mbsc-fr-w",e.target),r=Me('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+I.filterClearIcon+'"></span>');"inline"==I.display?(s=b,b.parent().find(".mbsc-sel-filter-clear").remove()):(i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),s=i.find(".mbsc-sel-filter-input")),x="",n=s[0],s.prop("readonly",!1).attr("placeholder",I.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(N),t.tap(r,function(){n.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear")}),s.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(a),n.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),a=setTimeout(function(){x!==n.value&&t.trigger("onFilter",{filterText:n.value})!==!1&&(x=n.value,(x.length>=y||!x.length)&&(M&&I.data.remoteFilter?p(I.data.url+encodeURIComponent(x),function(e){t.refresh(h(e))},I.data.dataType):t.refresh(void 0,x)))},500)})}},onBeforeShow:function(){W&&I.counter&&(I.headerText=function(){var t=0;return Me.each(e._tempSelected[S],function(){t++}),(t>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,t)}),r(E.val()),I.filter&&t(void 0),e.settings.wheels=i(),V=!0},onWheelGestureStart:function(e){e.index==T&&(I.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var s=e.getArrayVal(!0);t.index==T?(I.readonly=H,s[T]!=w&&(w=s[T],k=C[w].options[0].value,s[S]=k,K?u():e.setArrayVal(s,!1,!1,!0,L))):t.index==S&&s[S]!=k&&(k=s[S],z&&Y[k]&&Y[k].group!=w&&(w=Y[k].group,s[T]=w,e.setArrayVal(s,!1,!1,!0,L)))},onItemTap:function(e){if(e.index==S&&(A[e.value]=Y[e.value].text,$&&!W&&e.selected))return!1},onClose:function(){M&&I.data.remoteFilter&&x&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),E.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var vt={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:b,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:b,formatDate:function(e,t,s){if(!t)return null;var a,n,i=Se({},vt.defaults,s),r=function(t){for(var s=0;a+1<e.length&&e.charAt(a+1)==t;)s++,a++;return s},l=function(e,t,s){var a=""+t;if(r(e))for(;a.length<s;)a="0"+a;return a},o=function(e,t,s,a){return r(e)?a[t]:s[t]},c="",d=!1;for(a=0;a<e.length;a++)if(d)"'"!=e.charAt(a)||r("'")?c+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=r("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=l("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":d=!0;break;default:c+=e.charAt(a)}return c},parseDate:function(e,t,s){var a=Se({},vt.defaults,s),n=a.defaultValue&&a.defaultValue.getTime?a.defaultValue:new Date;if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":G(t))?t.toString():t+"";var i,r=a.shortYearCutoff,l=a.getYear(n),o=a.getMonth(n)+1,c=a.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),h=0,f=-1,p=!1,b=function(t){var s=i+1<e.length&&e.charAt(i+1)==t;return s&&i++,s},v=function(e){b(e);var s="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,a=new RegExp("^\\d{1,"+s+"}"),n=t.substr(x).match(a);return n?(x+=n[0].length,parseInt(n[0],10)):0},g=function(e,s,a){var n,i=b(e)?a:s;for(n=0;n<i.length;n++)if(t.substr(x,i[n].length).toLowerCase()==i[n].toLowerCase())return x+=i[n].length,n+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",a.dayNamesShort,a.dayNames);break;case"o":d=v("o");break;case"m":o=v("m");break;case"M":o=g("M",a.monthNamesShort,a.monthNames);break;case"y":l=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":h=v("s");break;case"a":f=g("a",[a.amText,a.pmText],[a.amText,a.pmText])-1;break;case"A":f=g("A",[a.amText,a.pmText],[a.amText,a.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),d>-1)for(o=1,c=d;;){var w=32-new Date(l,o-1,32,12).getDate();if(c<=w)break;o++,c-=w}u=f==-1?u:f&&u<12?u+12:f||12!=u?u:0;var _=a.getDate(l,o-1,c,u,m,h);return a.getYear(_)!=l||a.getMonth(_)+1!=o||a.getDay(_)!=c?n:_}};K.util.datetime=vt;var gt=vt.adjustedDate,yt={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},xt=function e(t){function s(e){return e<10?"0"+e:e}function a(e){var t,s,a,n=[];if(e){for(t=0;t<e.length;t++)if(s=e[t],s.start&&s.start.getTime)for(a=new Date(s.start);a<=s.end;)n.push(gt(a.getFullYear(),a.getMonth(),a.getDate())),a.setDate(a.getDate()+1);else n.push(s);return n}return e}function n(e,t,s,a){return Math.min(a,Math.floor(e/t)*t+s)}function i(e,t,s){return Math.floor((s-t)/e)*e+t}function r(e){return F.getYear(e)}function l(e){return F.getMonth(e)}function o(e){return F.getDay(e)}function c(e){var t=e.getHours();return t=J&&t>=12?t-12:t,n(t,te,ie,oe)}function d(e){return n(e.getMinutes(),se,re,ce)}function u(e){return n(e.getSeconds(),ae,le,de)}function m(e){return e.getMilliseconds()}function h(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())}function p(e){return n(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),L,0,86400)}function b(e,t,s,a){var n;return void 0===I[t]||(n=+e[I[t]],isNaN(n))?s?pe[t](s):void 0!==N[t]?N[t]:pe[t](a):n}function v(e){var t,s=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==I.dd&&(t=e[I.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==I.tt&&(t=t||s,t=new Date(t.getTime()+e[I.tt]%86400*1e3));var a=b(e,"y",t,s),n=b(e,"m",t,s),i=Math.min(b(e,"d",t,s),F.getMaxDayOfMonth(a,n)),r=b(e,"h",t,s);return F.getDate(a,n,i,J&&b(e,"a",t,s)?r+12:r,b(e,"i",t,s),b(e,"s",t,s),b(e,"u",t,s))}function g(e,t){var s,a,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(s=0;s<n.length;s++)a=n[s],void 0!==I[a]&&(i[I[a]]=pe[a](e)),t&&(N[a]=pe[a](e));return i}function y(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function x(e){return{value:e,display:(/yy/i.test(X)?e:(e+"").substr(2,2))+(F.yearSuffix||"")}}function w(e){return e}function _(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:K?y(f(K),t):void 0,max:G?y(f(G),t):void 0,data:function(s){var a=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*s):new Date(1970,s,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!D(n,!0),value:f(n),display:a.getTime()==n.getTime()?F.todayText:vt.formatDate(e,n,F)}},getIndex:function(e){return y(e,t)}}}function C(e){var t,s,a,n=[];for(/s/i.test(e)?s=ae:/i/i.test(e)?s=60*se:/h/i.test(e)&&(s=3600*te),L=he.tt=s,t=0;t<86400;t+=s)a=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:vt.formatDate(e,a,F)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function T(){var t,a,n,i,r,l,o,c,d=0,u=[],m=[],h=[];if(e.match(/date/i)){for(t=q.split(/\|/.test(q)?"|":""),i=0;i<t.length;i++)if(n=t[i],l=0,n.length)if(/y/i.test(n)&&l++,/m/i.test(n)&&l++,/d/i.test(n)&&l++,l>1&&void 0===I.dd)I.dd=d,d++,m.push(_(n)),h=m,E=!0;else if(/y/i.test(n)&&void 0===I.y)I.y=d,d++,m.push({cssClass:"mbsc-dt-whl-y",label:F.yearText,min:K?F.getYear(K):void 0,max:G?F.getYear(G):void 0,data:x,getIndex:w});else if(/m/i.test(n)&&void 0===I.m){for(I.m=d,o=[],d++,r=0;r<12;r++)c=X.replace(/[dy]/gi,"").replace(/mm/,s(r+1)+(F.monthSuffix||"")).replace(/m/,r+1+(F.monthSuffix||"")),o.push({value:r,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+F.monthNames[r]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+F.monthNamesShort[r]+"</span>")});m.push({cssClass:"mbsc-dt-whl-m",label:F.monthText,data:o})}else if(/d/i.test(n)&&void 0===I.d){for(I.d=d,o=[],d++,r=1;r<32;r++)o.push({value:r,display:(/dd/i.test(X)?s(r):r)+(F.daySuffix||"")});m.push({cssClass:"mbsc-dt-whl-d",label:F.dayText,data:o})}u.push(m)}if(e.match(/time/i)){for(a=B.split(/\|/.test(B)?"|":""),i=0;i<a.length;i++)if(n=a[i],l=0,n.length&&(/h/i.test(n)&&l++,/i/i.test(n)&&l++,/s/i.test(n)&&l++,/a/i.test(n)&&l++),l>1&&void 0===I.tt)I.tt=d,d++,h.push(C(n));else if(/h/i.test(n)&&void 0===I.h){for(o=[],I.h=d,d++,r=ie;r<(J?12:24);r+=te)o.push({value:r,display:J&&0===r?12:/hh/i.test(U)?s(r):r});h.push({cssClass:"mbsc-dt-whl-h",label:F.hourText,data:o})}else if(/i/i.test(n)&&void 0===I.i){for(o=[],I.i=d,d++,r=re;r<60;r+=se)o.push({value:r,display:/ii/i.test(U)?s(r):r});h.push({cssClass:"mbsc-dt-whl-i",label:F.minuteText,data:o})}else if(/s/i.test(n)&&void 0===I.s){for(o=[],I.s=d,d++,r=le;r<60;r+=ae)o.push({value:r,display:/ss/i.test(U)?s(r):r});h.push({cssClass:"mbsc-dt-whl-s",label:F.secText,data:o})}else/a/i.test(n)&&void 0===I.a&&(I.a=d,d++,h.push({cssClass:"mbsc-dt-whl-a",label:F.ampmText,data:/A/.test(n)?[{value:0,display:F.amText.toUpperCase()},{value:1,display:F.pmText.toUpperCase()}]:[{value:0,display:F.amText},{value:1,display:F.pmText}]}));h!=m&&u.push(h)}return u}function M(e){var t,s,a,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,s=e.attr("min"),a=e.attr("max"),s&&"undefined"!=s&&(n.min=vt.parseDate(t,s)),a&&"undefined"!=a&&(n.max=vt.parseDate(t,a))}return n}function k(e,t){var s,a,n=!1,i=!1,r=0,l=0,o=K?v(g(K)):-(1/0),c=G?v(g(G)):1/0;if(D(e))return e;if(e<o&&(e=o),e>c&&(e=c),s=e,a=e,2!==t)for(n=D(s,!0);!n&&s<c;)s=new Date(s.getTime()+864e5),n=D(s,!0),r++;if(1!==t)for(i=D(a,!0);!i&&a>o;)a=new Date(a.getTime()-864e5),i=D(a,!0),l++;return 1===t&&n?s:2===t&&i?a:l<=r&&i?a:s}function D(e,t){return!(!t&&e<K)&&(!(!t&&e>G)&&(!!S(e,$)||!S(e,W)))}function S(e,t){var s,a,n;if(t)for(a=0;a<t.length;a++)if(s=t[a],n=s+"",!s.start)if(s.getTime){if(e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0}else if(n.match(/w/i)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0;return!1}function V(e,t,s,a,n,i,r){var l,o,c,d;if(e)for(o=0;o<e.length;o++)if(l=e[o],d=l+"",!l.start)if(l.getTime)F.getYear(l)==t&&F.getMonth(l)==s&&(i[F.getDay(l)]=r);else if(d.match(/w/i))for(d=+d.replace("w",""),c=d-a;c<n;c+=7)c>=0&&(i[c+1]=r);else d=d.split("/"),d[1]?d[0]-1==s&&(i[d[1]]=r):i[d[0]]=r}function A(e,t,s,a,i,r,l,o){var c,d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V={},A=F.getDate(a,i,r),E=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,u=y.d,M=u+"",k=M.split("/"),u&&(u.getTime&&a==F.getYear(u)&&i==F.getMonth(u)&&r==F.getDay(u)||!M.match(/w/i)&&(k[1]&&r==k[1]&&i==k[0]-1||!k[1]&&r==k[0])||M.match(/w/i)&&A.getDay()==+M.replace("w",""))&&(y.apply=!0,V[A]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=ue[s],v=me[s],_=!0,C=!0,d=!1,y.start&&(y.apply||!y.d&&!V[A])){for(x=y.start.split(":"),w=y.end.split(":"),g=0;g<3;g++)void 0===x[g]&&(x[g]=0),void 0===w[g]&&(w[g]=59),x[g]=+x[g],w[g]=+w[g];if("tt"==s)b=n(Math.round((new Date(A).setHours(x[0],x[1],x[2])-new Date(A).setHours(0,0,0,0))/1e3),L,0,86400),v=n(Math.round((new Date(A).setHours(w[0],w[1],w[2])-new Date(A).setHours(0,0,0,0))/1e3),L,0,86400);else{for(x.unshift(x[0]>11?1:0),w.unshift(w[0]>11?1:0),J&&(x[1]>=12&&(x[1]=x[1]-12),w[1]>=12&&(w[1]=w[1]-12)),g=0;g<t;g++)void 0!==H[g]&&(D=n(x[g],he[E[g]],ue[E[g]],me[E[g]]),S=n(w[g],he[E[g]],ue[E[g]],me[E[g]]),m=0,h=0,f=0,J&&1==g&&(m=x[0]?12:0,h=w[0]?12:0,f=H[0]?12:0),_||(D=0),C||(S=me[E[g]]),(_||C)&&D+m<H[g]+f&&H[g]+f<S+h&&(d=!0),H[g]!=D&&(_=!1),H[g]!=S&&(C=!1));if(!o)for(g=t+1;g<4;g++)x[g]>0&&(c=he[s]),w[g]<me[E[g]]&&(T=he[s]);d||(D=n(x[t],he[s],ue[s],me[s])+c,S=n(w[t],he[s],ue[s],me[s])-T,_&&(b=D),C&&(v=S))}if(_||C||d)for(g=b;g<=v;g+=he[s])l[g]=!o}}}var L,E,O,I={},N={},H=[],Y=M(Me(this)),P=Se({},t.settings),F=Se(t.settings,vt.defaults,yt,Y,P),W=a(F.invalid),$=a(F.valid),e=F.preset,j="datetime"==e?F.dateFormat+F.separator+F.timeFormat:"time"==e?F.timeFormat:F.dateFormat,R=Y.format||j,q=F.dateWheels||F.dateFormat,B=F.timeWheels||F.timeFormat,X=F.dateWheels||F.dateDisplay,U=B,z=F.baseTheme||F.theme,K=F.min,G=F.max,Z=/time/i.test(e),J=/h/.test(U),Q=/D/.test(X),ee=F.steps||{},te=ee.hour||F.stepHour||1,se=ee.minute||F.stepMinute||1,ae=ee.second||F.stepSecond||1,ne=ee.zeroBased,ie=ne||!K?0:K.getHours()%te,re=ne||!K?0:K.getMinutes()%se,le=ne||!K?0:K.getSeconds()%ae,oe=i(te,ie,J?11:23),ce=i(se,re,59),de=i(se,re,59),ue={y:K?K.getFullYear():-(1/0),m:0,d:1,h:ie,i:re,s:le,a:0,tt:0},me={y:G?G.getFullYear():1/0,m:11,d:31,h:oe,i:ce,s:de,a:1,tt:86400},he={y:1,m:1,d:1,h:te,i:se,s:ae,a:1,tt:1},fe={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},pe={y:r,m:l,d:o,h:c,i:d,s:u,u:m,a:h,dd:f,tt:p};return t.getDate=t.getVal=function(e){return t._hasValue||e?v(t.getArrayVal(e)):null},t.setDate=function(e,s,a,n,i){t.setArrayVal(g(e),s,i,n,a)},O=T(),t.format=j,t.order=I,t.handlers.now=function(){t.setDate(new Date,t.live,1e3,!0,!0)},t.buttons.now={text:F.nowText,icon:F.nowIcon,handler:"now"},{minWidth:E&&Z?fe[z]:void 0,compClass:"mbsc-dt",wheels:O,headerText:!!F.headerText&&function(){return vt.formatDate(j,v(t.getArrayVal(!0)),F)},formatValue:function(e){return vt.formatDate(R,v(e),F)},parseValue:function(e){return e||(N={}),g(e?vt.parseDate(R,e,F):F.defaultValue&&F.defaultValue.getTime?F.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(e){var s,a,n,i,r=e.values,l=e.index,o=e.direction,c=t.settings.wheels[0][I.d],d=k(v(r),o),u=g(d),m=[],h={},f=pe.y(d),p=pe.m(d),b=F.getMaxDayOfMonth(f,p),y=!0,x=!0;if(Me.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==I[t]){var s=ue[t],n=me[t],i=pe[t](d);if(m[I[t]]=[],y&&K&&(s=pe[t](K)),x&&G&&(n=pe[t](G)),"y"!=t&&"dd"!=t)for(a=ue[t];a<=me[t];a+=he[t])(a<s||a>n)&&m[I[t]].push(a);if(i<s&&(i=s),i>n&&(i=n),y&&(y=i==s),x&&(x=i==n),"d"==t){var r=F.getDate(f,p,1).getDay(),l={};V(W,f,p,r,b,l,1),V($,f,p,r,b,l,0),Me.each(l,function(e,s){s&&m[I[t]].push(e)})}}}),Z&&Me.each(["a","h","i","s","tt"],function(e,s){var a=pe[s](d),n=pe.d(d),i={};void 0!==I[s]&&(A(W,e,s,f,p,n,i,0),A($,e,s,f,p,n,i,1),Me.each(i,function(e,t){t&&m[I[s]].push(e)}),H[e]=t.getValidValue(I[s],a,o,i))}),c&&(c._length!==b||Q&&(void 0===l||l===I.y||l===I.m))){for(h[I.d]=c,c.data=[],s=1;s<=b;s++)i=F.getDate(f,p,s).getDay(),n=X.replace(/[my]/gi,"").replace(/dd/,(s<10?"0"+s:s)+(F.daySuffix||"")).replace(/d/,s+(F.daySuffix||"")),c.data.push({value:s,display:n.match(/DD/)?n.replace(/DD/,'<span class="mbsc-dt-day">'+F.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+F.dayNamesShort[i]+"</span>")});t._tempWheelArray[I.d]=u[I.d],t.changeWheel(h)}return{disabled:m,valid:u}}}};Me.each(["date","time","datetime"],function(e,t){K.presets.scroller[t]=xt}),["date","time","datetime"].forEach(function(e){K.presetShort(e)});var wt={inputClass:"",values:5,order:"desc",style:"icon",invalid:[],icon:{filled:"star3",empty:"star3"}};K.presetShort("rating"),K.presets.scroller.rating=function(e){var t,s,a,n,i,r,l,o,c,d,u=Se({},e.settings),m=Se(e.settings,wt,u),h=Me(this),f=this.id+"_dummy",p=Me('label[for="'+this.id+'"]').attr("for",f),b=void 0!==m.label?m.label:p.length?p.text():h.attr("name"),v=m.defaultValue,g=[[]],y={data:[],label:b,circular:!1},x={},w=[],_=!1,C="grade"===m.style?"circle":"icon";if(h.is("select")&&(m.values={},Me("option",h).each(function(){m.values[Me(this).val()]=Me(this).text()}),Me("#"+f).remove()),Me.isArray(m.values))for(s=0;s<m.values.length;s++)o=+m.values[s],isNaN(o)&&(o=s+1,_=!0),w.push({order:o,key:m.values[s],value:m.values[s]});else if(Me.isPlainObject(m.values)){s=1,_=!0;for(c in m.values)o=+c,isNaN(o)&&(o=s),w.push({order:o,key:c,value:m.values[c]}),s++}else for(s=1;s<=m.values;s++)w.push({order:s,key:s,value:s});for(void 0===m.showText&&_&&(m.showText=!0),void 0===m.icon.empty&&(m.icon.empty=m.icon.filled),w.sort(function(e,t){return"desc"==m.order?t.order-e.order:e.order-t.order}),d="desc"==m.order?w[0].order:w[w.length-1].order,s=0;s<w.length;s++){for(l=w[s].order,i=w[s].key,r=w[s].value,n="",a=1;a<l+1;a++)n+='<span class="mbsc-rating-'+C+("circle"===C?"":" mbsc-ic mbsc-ic-"+m.icon.filled)+' ">'+("circle"==C?a:" ")+"</span>";for(a=l+1;a<=d;a++)n+='<span class="mbsc-rating-'+C+("circle"===C?" mbsc-rating-circle-unf":" mbsc-ic mbsc-ic-"+(m.icon.empty?m.icon.empty+" mbsc-rating-icon-unf":"")+(m.icon.empty===m.icon.filled?" mbsc-rating-icon-same":""))+'"></span>';void 0===v&&(v=i),n+=m.showText?'<span class="mbsc-rating-txt">'+r+"</span>":"",y.data.push({value:i,display:n,label:r}),x[i]=r}return h.is("select")&&(t=Me('<input type="text" id="'+f+'" value="'+x[h.val()]+'" class="'+m.inputClass+'" placeholder="'+(m.placeholder||"")+'" readonly />').insertBefore(h)),g[0].push(y),t&&e.attachShow(t),h.is("select")&&h.hide().closest(".ui-field-contain").trigger("create"),e.getVal=function(t){var s=e._hasValue?e[t?"_tempWheelArray":"_wheelArray"][0]:null;return K.util.isNumeric(s)?+s:s},{anchor:t,wheels:g,headerText:!1,compClass:"mbsc-rating",setOnTap:!0,formatValue:function(e){return x[e[0]]},parseValue:function(e){var s;for(s in x)if(t&&s==e||!t&&x[s]==e)return[s];return[v]},validate:function(){return{disabled:[m.invalid]}},onFill:function(s){t&&(t.val(s.valueText),h.val(e._tempWheelArray[0]))},onDestroy:function(){t&&t.remove(),h.show()}}};var _t={invalid:[],showInput:!0,inputClass:""};K.presets.scroller.list=function(e){function t(e,t,a){for(var n=0,i=[];n<e;)i[n]=s(a,n,t),n++;return i}function s(e,t,s){for(var a,n=0,i=s,r=[];n<t;){var l=e[n];for(a in i)if(i[a].key==l){i=i[a].children;break}n++}for(n=0;n<i.length;)i[n].invalid&&r.push(i[n].key),n++;return r}function a(e,t){for(var s=[];e;)s[--e]=!0;return s[t]=!1,s}function n(e){var t,s=[];for(t=0;t<e;t++)s[t]=v.labels&&v.labels[t]?v.labels[t]:t;return s}function i(e,t,s){var a,n,i,o=0,c=[[]],d=k;if(t)for(a=0;a<t;a++)y?c[0][a]={}:c[a]=[{}];for(;o<e.length;){for(y?c[0][o]=l(d,D[o]):c[o]=[l(d,D[o])],a=0,i=void 0;a<d.length&&void 0===i;)d[a].key==e[o]&&(void 0!==s&&o<=s||void 0===s)&&(i=a),a++;if(void 0!==i&&d[i].children)o++,d=d[i].children;else{if(!(n=r(d))||!n.children)return c;o++,d=n.children}}return c}function r(e,t){if(!e)return!1;for(var s,a=0;a<e.length;)if(!(s=e[a++]).invalid)return t?a-1:s;return!1}function l(e,t){for(var s={data:[],label:t},a=0;a<e.length;)s.data.push({value:e[a].key,display:e[a].value}),a++;return s}function o(t){e._isVisible&&Me(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,s=[],a=e,n=!0,i=0;n;)t=r(a),s[i++]=t.key,n=t.children,n&&(a=n);return s}function d(e,t){var s,a,n,i=[],l=k,o=0,c=!1;if(void 0!==e[o]&&o<=t)for(s=0,a=e[o],n=void 0;s<l.length&&void 0===n;)l[s].key!=e[o]||l[s].invalid||(n=s),s++;else n=r(l,!0),a=l[n].key;for(c=void 0!==n&&l[n].children,i[o]=a;c;){if(l=l[n].children,o++,c=!1,n=void 0,void 0!==e[o]&&o<=t)for(s=0,a=e[o],n=void 0;s<l.length&&void 0===n;)l[s].key!=e[o]||l[s].invalid||(n=s),s++;else n=r(l,!0),n=n===!1?void 0:n,a=l[n].key;c=!(void 0===n||!r(l[n].children))&&l[n].children,i[o]=a}return{lvl:o+1,nVector:i}}function u(t){var s=[];return C=C>T++?C:T,t.children("li").each(function(t){var a=Me(this),n=a.clone();n.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(n):n.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=!!a.attr("data-invalid"),l={key:void 0===a.attr("data-val")||null===a.attr("data-val")?t:a.attr("data-val"),value:i,invalid:r,children:null},o=a.children("ul,ol");o.length&&(l.children=u(o)),s.push(l)}),T--,s}function m(t,s,a){var n,r=(s||0)+1,l=[],c={},d={};for(c=i(t,null,s),n=0;n<t.length;n++)e._tempWheelArray[n]=t[n]=a.nVector[n]||0;for(;r<a.lvl;)d[r]=y?c[0][r]:c[r][0],l.push(r++);o(a.lvl),M=t.slice(0),l.length&&(f=!0,e.changeWheel(d))}var h,f,p,b=Se({},e.settings),v=Se(e.settings,_t,b),g=v.layout||(/top|bottom/.test(v.display)?"liquid":""),y="liquid"==g,x=v.readonly,w=Me(this),_=this.id+"_dummy",C=0,T=0,M=[],k=v.wheelArray||u(w),D=n(C),S=c(k),V=i(S,C);return Me("#"+_).remove(),v.input?h=Me(v.input):v.showInput&&(h=Me('<input type="text" id="'+_+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(w)),h&&e.attachShow(h),v.wheelArray||w.hide(),{wheels:V,anchor:h,layout:g,headerText:!1,setOnTap:1==C,formatValue:function(e){return void 0===p&&(p=d(e,e.length).lvl),e.slice(0,p).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||S).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);M=t.slice(0),v.wheels=i(t,C,C),f=!0},onWheelGestureStart:function(e){v.readonly=a(C,e.index)},onWheelAnimationEnd:function(t){var s=t.index,a=e.getArrayVal(!0),n=d(a,s);p=n.lvl,v.readonly=x,a[s]!=M[s]&&m(a,s,n)},onFill:function(e){p=void 0,h&&h.val(e.valueText)},validate:function(e){var s=e.values,a=e.index,n=d(s,s.length);return p=n.lvl,void 0===a&&(o(n.lvl),f||m(s,a,n)),f=!1,{disabled:t(p,k,s)}},onDestroy:function(){h&&Me("#"+_).remove(),w.show()}}};var Ct=K.presets.scroller;K.presetShort("image"),Ct.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=Me(t),t.is("img")?Me('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),Ct.list.call(this,e)},K.presets.scroller.treelist=K.presets.scroller.list,K.presetShort("list"),K.presetShort("treelist");var Tt=K.presets.scroller,Mt=K.classes,kt=K.util,Dt=kt.datetime.adjustedDate,St=kt.jsPrefix,Vt=kt.testTouch,At=kt.getCoord,Lt=kt.animEnd,Et=new Date,Ot={min:new Date(Et.getFullYear()-100,0,1),max:new Date(Et.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};Tt.calbase=function(e){function t(e){var t;Ce=Me(this),Te=!1,"keydown"!=e.type?(we=At(e,"X"),_e=At(e,"Y"),t=Vt(e,this)):t=32===e.keyCode,ke||!t||Ce.hasClass("mbsc-fr-btn-d")||(ke=!0,setTimeout(n,100),"mousedown"==e.type&&Me(document).on("mousemove",s).on("mouseup",a))}function s(e){(Math.abs(we-At(e,"X"))>7||Math.abs(_e-At(e,"Y"))>7)&&(ke=!1,Ce.removeClass("mbsc-fr-btn-a"))}function a(e){"touchend"==e.type&&e.preventDefault(),Ce&&!Te&&n(),ke=!1,"mouseup"==e.type&&Me(document).off("mousemove",s).off("mouseup",a)}function n(){Te=!0,Ce.hasClass("mbsc-cal-prev-m")?C():Ce.hasClass("mbsc-cal-next-m")?_():Ce.hasClass("mbsc-cal-prev-y")?M(Ce):Ce.hasClass("mbsc-cal-next-y")&&T(Ce)}function i(e){return!(e<Dt(ce.getFullYear(),ce.getMonth(),ce.getDate()))&&(!(e>de)&&(void 0===ve[e]||void 0!==be[e]))}function r(e,t,s){var a,n,i,r,l={},o=st+Ae;return e&&Me.each(e,function(e,c){if(a=c.d||c.start||c,n=a+"",c.start&&c.end)for(r=new Date(c.start);r<=c.end;)i=Dt(r.getFullYear(),r.getMonth(),r.getDate()),l[i]=l[i]||[],l[i].push(c),r.setDate(r.getDate()+1);else if(a.getTime)i=Dt(a.getFullYear(),a.getMonth(),a.getDate()),l[i]=l[i]||[],l[i].push(c);else if(n.match(/w/i)){var d=+n.replace("w",""),u=0,m=Be.getDate(t,s-st-Le,1).getDay();for(Be.firstDay-m+1>1&&(u=7),O=0;O<5*Ve;O++)i=Be.getDate(t,s-st-Le,7*O-u-m+1+d),l[i]=l[i]||[],l[i].push(c)}else if(n=n.split("/"),n[1])s+o>=11&&(i=Be.getDate(t+1,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c)),s-o<=1&&(i=Be.getDate(t-1,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c)),i=Be.getDate(t,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c);else for(O=0;O<Ve;O++)i=Be.getDate(t,s-st-Le+O,n[0]),Be.getDay(i)==n[0]&&(l[i]=l[i]||[],l[i].push(c))}),l}function l(t,s){ve=r(Be.invalid,t,s),be=r(Be.valid,t,s),e.onGenMonth(t,s)}function o(e,t,s,a,n,i,r){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(Be.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(E=1;E<=t;E++)l+=E<=12||E>s?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[E-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(a+E-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[E-13]:a+E-13+n)+"</div></div></div>",E<t&&(E%12===0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(et?"top":Ze?"right":"left")+":"+100*Math.round(E/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':E%3===0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function c(t,s){var a,n,r,l,o,c,d,u,m,h,f,p,b,v,g,y,x=1,w=0,_=Be.getDate(t,s,1),C=Be.getYear(_),T=Be.getMonth(_),M=null!==Be.defaultValue||e._hasValue?e.getDate(!0):null,k=Be.getDate(C,T,1).getDay(),D='<div class="mbsc-cal-table">',S='<div class="mbsc-cal-week-nr-c">';for(Be.firstDay-k+1>1&&(w=7),y=0;y<42;y++)g=y+Be.firstDay-w,a=Be.getDate(C,T,g-k+1),r=a.getFullYear(),l=a.getMonth(),o=a.getDate(),c=Be.getMonth(a),d=Be.getDay(a),v=Be.getMaxDayOfMonth(r,l),u=r+"-"+l+"-"+o,m=Se({valid:i(a),selected:M&&M.getFullYear()===r&&M.getMonth()===l&&M.getDate()===o},e.getDayProps(a,M)),h=m.valid,f=m.selected,n=m.cssClass,p=new Date(a).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==T,je[u]=m,y%7===0&&(D+=(y?"</div>":"")+'<div class="mbsc-cal-row'+(Be.highlight&&M&&M-a>=0&&M-a<6048e5?" mbsc-cal-week-hl":"")+'">'),Ue&&1==a.getDay()&&("month"==Ue&&b&&x>1?x=1==o?1:2:"year"==Ue&&(x=Be.getWeekNumber(a)),S+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+x+"</div></div>",x++),D+='<div role="button" tabindex="-1" aria-label="'+(p?Be.todayText+", ":"")+Be.dayNames[a.getDay()]+", "+Be.monthNames[c]+" "+d+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(b&&!Oe?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(h?"":' aria-disabled="true"')+' data-day="'+g%7+'" data-full="'+u+'"class="mbsc-cal-day '+(Be.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+Be.todayClass:"")+(n?" "+n:"")+(1==d?" mbsc-cal-day-first":"")+(d==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(h?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?ot:"")+" "+(Be.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+d+"</div>"+(m.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return D+="</div></div>"+S+"</div>"}function d(e,t,s){var a=Be.getDate(e,t,1),n=Be.getYear(a),i=Be.getMonth(a),r=n+lt;if(tt){if(Ne&&Ne.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(ot),He&&He.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(ot),Ne=Me('.mbsc-cal-year-s[data-val="'+n+'"]',H).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),He=Me('.mbsc-cal-month-s[data-val="'+i+'"]',H).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Ne.find(".mbsc-cal-sc-cell-i").addClass(ot),He.find(".mbsc-cal-sc-cell-i").addClass(ot),Ie&&Ie.scroll(Ne,s),Me(".mbsc-cal-month-s",H).removeClass("mbsc-fr-btn-d"),n===ae)for(E=0;E<ie;E++)Me('.mbsc-cal-month-s[data-val="'+E+'"]',H).addClass("mbsc-fr-btn-d");if(n===ne)for(E=re+1;E<=12;E++)Me('.mbsc-cal-month-s[data-val="'+E+'"]',H).addClass("mbsc-fr-btn-d")}for(1==te.length&&te.attr("aria-label",n).html(r),E=0;E<De;++E)a=Be.getDate(e,t-Le+E,1),n=Be.getYear(a),i=Be.getMonth(a),r=n+lt,Me(Q[E]).attr("aria-label",Be.monthNames[i]+(at?"":" "+n)).html((!at&&se<ee?r+" ":"")+G[i]+(!at&&se>ee?" "+r:"")),te.length>1&&Me(te[E]).html(r);Be.getDate(e,t-Le-1,1)<le?m(Me(".mbsc-cal-prev-m",H)):u(Me(".mbsc-cal-prev-m",H)),Be.getDate(e,t+De-Le,1)>oe?m(Me(".mbsc-cal-next-m",H)):u(Me(".mbsc-cal-next-m",H)),Be.getDate(e,t,1).getFullYear()<=le.getFullYear()?m(Me(".mbsc-cal-prev-y",H)):u(Me(".mbsc-cal-prev-y",H)),Be.getDate(e,t,1).getFullYear()>=oe.getFullYear()?m(Me(".mbsc-cal-next-y",H)):u(Me(".mbsc-cal-next-y",H))}function u(e){e.removeClass(ut).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function m(e){e.addClass(ut).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function h(t){e.trigger("onDayHighlight",{date:t}),Be.highlight&&(Me(".mbsc-cal-day-sel .mbsc-cal-day-i",P).removeClass(ot),Me(".mbsc-cal-day-sel",P).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),Me(".mbsc-cal-week-hl",P).removeClass("mbsc-cal-week-hl"),(null!==Be.defaultValue||e._hasValue)&&Me('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',P).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(ot).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function f(t,s){if(R&&("calendar"===ye||s)){var a,n,i=Be.getDate(me,he,1),r=Math.abs(12*(Be.getYear(t)-Be.getYear(i))+Be.getMonth(t)-Be.getMonth(i));e.needsSlide&&r&&(me=Be.getYear(t),he=Be.getMonth(t),t>i?(n=r>st-Le+De-1,he-=n?0:r-st,a="next"):t<i&&(n=r>st+Le,he+=n?0:r-st,a="prev"),g(me,he,a,Math.min(r,st),n,!0)),s||(ue=t,h(t)),e.needsSlide=!0}}function p(t,s,a){if(a||e.trigger("onMonthLoading",{year:t,month:s}),l(t,s),Fe.length)for(E=0;E<Ve;E++)Fe[E].html(c(t,s-Le-st+E));v(),Ee=void 0,e.trigger("onMonthLoaded",{year:t,month:s})}function b(e,t){for(var s=st,a=st;a&&Be.getDate(e,t+a+De-Le-1,1)>oe;)a--;for(;s&&Be.getDate(e,t-s-Le,1)<le;)s--;Se(Z.settings,{contSize:De*W,snap:W,minScroll:$-(Ze?s:a)*W,maxScroll:$+(Ze?a:s)*W}),Z.refresh()}function v(){Ue&&U.html(Me(".mbsc-cal-week-nr-c",Fe[st]).html()),Me(".mbsc-cal-slide-a .mbsc-cal-day",F).attr("tabindex",0)}function g(t,s,a,n,i,r,o){if(t&&We.push({y:t,m:s,dir:a,slideNr:n,load:i,active:r,callback:o}),!xe&&We.length){
var u,m=We.shift();if(t=m.y,s=m.m,a="next"===m.dir,n=m.slideNr,i=m.load,r=m.active,o=m.callback||Re,u=Be.getDate(t,s,1),t=Be.getYear(u),s=Be.getMonth(u),xe=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:s}),e.trigger("onMonthLoading",{year:t,month:s}),l(t,s),i)for(E=0;E<De;E++)Fe[a?Ve-De+E:E].html(c(t,s-Le+E));r&&Pe.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(Be.monthNames[s]+" "+t),d(t,s,200),$=a?$-W*n*Je:$+W*n*Je,Z.scroll($,r?200:0,!1,function(){var r;if(X=$,Fe.length){if(Pe.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),a)for(r=Fe.splice(0,n),E=0;E<n;E++)Fe.push(r[E]),x(Fe[Fe.length-1],+Fe[Fe.length-2].attr("data-curr")+100*Je);else for(r=Fe.splice(Ve-n,n),E=n-1;E>=0;E--)Fe.unshift(r[E]),x(Fe[0],+Fe[1].attr("data-curr")-100*Je);for(E=0;E<n;E++)Fe[a?Ve-n+E:E].html(c(t,s-Le-st+E+(a?Ve-n:0))),i&&Fe[a?E:Ve-n+E].html(c(t,s-Le-st+E+(a?0:Ve-n)));for(E=0;E<De;E++)Fe[st+E].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");b(t,s),xe=!1}We.length?setTimeout(function(){g()},10):(me=t,he=s,e.changing=!1,Me(".mbsc-cal-day",F).attr("tabindex",-1),v(),void 0!==Ee?p(t,s,Ee):e.trigger("onMonthLoaded",{year:t,month:s}),o())})},10)}}function y(){var t=Me(this),s=e.live,a=e.getDate(!0),n=t.attr("data-full"),i=n.split("-"),r=Dt(i[0],i[1],i[2]),l=Dt(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),o=t.hasClass("mbsc-cal-day-sel");!Oe&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",Se(je[n],{date:l,target:this,selected:o}))!==!1&&(e.needsSlide=!1,j=!0,e.setDate(l,s,.2,!s,!0),Be.outerMonthChange&&(ke=!0,r<Be.getDate(me,he-Le,1)?C():r>Be.getDate(me,he-Le+De,0)&&_(),ke=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function x(e,t){e.attr("data-curr",t),e[0].style[St+"Transform"]="translate3d("+(et?"0,"+t+"%,":t+"%,0,")+"0)"}function w(t){e.isVisible()&&R&&(e.changing?Ee=t:p(me,he,t))}function _(){ke&&Be.getDate(me,he+De-Le,1)<=oe&&g(me,++he,"next",1,!1,!0,_)}function C(){ke&&Be.getDate(me,he-Le-1,1)>=le&&g(me,--he,"prev",1,!1,!0,C)}function T(e){ke&&Be.getDate(me,he,1)<=Be.getDate(Be.getYear(oe)-1,Be.getMonth(oe)-Ae,1)?g(++me,he,"next",st,!0,!0,function(){T(e)}):ke&&!e.hasClass("mbsc-fr-btn-d")&&g(Be.getYear(oe),Be.getMonth(oe)-Ae,"next",st,!0,!0)}function M(e){ke&&Be.getDate(me,he,1)>=Be.getDate(Be.getYear(le)+1,Be.getMonth(le)+Le,1)?g(--me,he,"prev",st,!0,!0,function(){M(e)}):ke&&!e.hasClass("mbsc-fr-btn-d")&&g(Be.getYear(le),Be.getMonth(le)+Le,"prev",st,!0,!0)}function k(t,s){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(s?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function D(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function S(e,t){(t||e).hasClass("mbsc-cal-v")?D(e):k(e)}function V(){Me(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function A(e){return e[0].innerWidth||e.innerWidth()}var L,E,O,I,N,H,Y,P,F,W,$,j,R,q,B,X,U,z,K,G,Z,J,Q,ee,te,se,ae,ne,ie,re,le,oe,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,we,_e,Ce,Te,ke,De,Ve,Ae,Le,Ee,Oe,Ie,Ne,He,Ye=this,Pe=[],Fe=[],We=[],$e={},je={},Re=function(){},qe=Se({},e.settings),Be=Se(e.settings,Ot,qe),Xe="full"==Be.weekDays?"":"min"==Be.weekDays?"Min":"Short",Ue=Be.weekCounter,ze=Be.layout||(/top|bottom|inline/.test(Be.display)?"liquid":""),Ke="liquid"==ze&&"bubble"!==Be.display,Ge="center"==Be.display,Ze=Be.rtl,Je=Ze?-1:1,Qe=Ke?null:Be.calendarWidth,et="vertical"==Be.calendarScroll,tt=Be.quickNav,st=Be.preMonths,at=Be.yearChange,nt=Be.controls.join(","),it=(Be.tabs===!0||Be.tabs!==!1&&Ke)&&Be.controls.length>1,rt=!it&&void 0===Be.tabs&&!Ke&&Be.controls.length>1,lt=Be.yearSuffix||"",ot=Be.activeClass||"",ct="mbsc-cal-tab-sel "+(Be.activeTabClass||""),dt=Be.activeTabInnerClass||"",ut="mbsc-fr-btn-d "+(Be.disabledClass||""),mt=et?"Y":"X",ht="",ft="";return nt.match(/calendar/)?R=!0:tt=!1,nt.match(/date/)&&($e.date=1),nt.match(/time/)&&($e.time=1),R&&$e.date&&(it=!0,rt=!1),Be.layout=ze,Be.preset=($e.date||R?"date":"")+($e.time?"time":""),"inline"==Be.display&&Me(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=Re,e.onGenMonth=Re,e.prepareObj=r,e.refresh=function(){w(!1)},e.redraw=function(){w(!0)},e.navigate=function(t,s){var a,n,i=e.isVisible();We=[],s&&i?f(t,!0):(a=Be.getYear(t),n=Be.getMonth(t),!i||a==me&&n==he||(xe=!1,e.changing=!1,e.trigger("onMonthChange",{year:a,month:n}),d(a,n),p(a,n),$=X,Z.scroll($),b(t.getFullYear(),t.getMonth())),me=a,he=n)},e.showMonthView=function(){tt&&!K&&(D(ft,!0),D(ht,!0),k(z,!0),K=!0)},e.changeTab=function(t){e._isVisible&&$e[t]&&ye!=t&&(ye=t,Me(".mbsc-cal-pnl",H).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),Me(".mbsc-cal-tab",H).removeClass(ct).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(dt),Me('.mbsc-cal-tab[data-control="'+t+'"]',H).addClass(ct).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(dt),$e[ye].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==ye&&(L=e.getDate(!0),L.getFullYear()===ue.getFullYear()&&L.getMonth()===ue.getMonth()&&L.getDate()===ue.getDate()||f(L)),e.showMonthView(),e.trigger("onTabChange",{tab:ye}))},I=Tt.datetime.call(this,e),ee=(Be.dateWheels||Be.dateFormat).search(/m/i),se=(Be.dateWheels||Be.dateFormat).search(/y/i),Se(I,{ariaMessage:Be.calendarText,onMarkupReady:function(n){var i,r,l="";if(H=Me(n.target),Y="inline"==Be.display?Me(this).is("div")?Me(this):Me(this).parent():e._window,ue=e.getDate(!0),me||(me=Be.getYear(ue),he=Be.getMonth(ue)),$=0,X=0,B=!0,xe=!1,G=Be.monthNames,ye="calendar",Be.min&&(le=Dt(Be.min.getFullYear(),Be.min.getMonth(),1),ce=Be.min),Be.max&&(oe=Dt(Be.max.getFullYear(),Be.max.getMonth(),1),de=Be.max),H.addClass("mbsc-calendar"),N=Me(".mbsc-fr-popup",H),ge=Me(".mbsc-fr-c",H),$e.date?$e.date=Me(".mbsc-sc-whl-gr-c",H).eq(0):R&&Me(".mbsc-sc-whl-gr-c",H).eq(0).addClass("mbsc-cal-hdn"),$e.time&&($e.time=Me(".mbsc-sc-whl-gr-c",H).eq(1)),R){for(De="auto"==Be.months?Math.max(1,Math.min(3,Math.floor((Qe||A(Y))/280))):Be.months,Ve=De+2*st,Ae=Math.floor(De/2),Le=Math.round(De/2)-1,Oe=void 0===Be.showOuterDays?De<2:Be.showOuterDays,et=et&&De<2,r='<div class="mbsc-cal-btnw"><div class="'+(Ze?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalPrevClass||"")+'" aria-label="'+Be.prevMonthText+'"></div></div>',E=0;E<De;++E)r+='<div class="mbsc-cal-btnw-m" style="width: '+100/De+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(r+='<div class="'+(Ze?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalNextClass||"")+'" aria-label="'+Be.nextMonthText+'"></div></div></div>',at&&(l='<div class="mbsc-cal-btnw"><div class="'+(Ze?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalPrevClass||"")+'" aria-label="'+Be.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(Ze?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Be.btnCalNextClass||"")+'" aria-label="'+Be.nextYearText+'"></div></div></div>'),tt&&(ae=Be.getYear(le),ne=Be.getYear(oe),ie=Be.getMonth(le),re=Be.getMonth(oe),pe=Math.ceil((ne-ae+1)/12)+2,ht=o("month",36,24,0,"",Be.monthNames,Be.monthNamesShort),ft=o("year",12*pe,ne-ae+13,ae,lt)),q='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(De>1?" mbsc-cal-multi ":"")+(Ue?" mbsc-cal-weeks ":"")+(et?" mbsc-cal-vertical":"")+(Oe?"":" mbsc-cal-hide-diff ")+(Be.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(at?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(se<ee||De>1?l+r:r+l)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',O=0;O<De;++O){for(q+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/De+'%"><table cellpadding="0" cellspacing="0"><tr>',E=0;E<7;E++)q+="<th>"+Be["dayNames"+Xe][(E+Be.firstDay)%7]+"</th>";q+="</tr></table></div>"}for(q+='</div><div class="mbsc-cal-week-nrs-c '+(Be.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(Be.calendarClass||"")+'"><div class="mbsc-cal-anim">',E=0;E<De+2*st;E++)q+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';q+="</div></div></div>"+ht+ft+"</div></div></div>",$e.calendar=Me(q)}if(Me.each(Be.controls,function(e,t){$e[t]=Me('<div class="mbsc-cal-pnl" id="'+(Ye.id+"_dw_pnl_"+e)+'"></div>').append(Me('<div class="mbsc-cal-pnl-i"></div>').append($e[t])).appendTo(ge)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',Me.each(Be.controls,function(e,t){$e[t]&&(i+='<li role="tab" aria-controls="'+(Ye.id+"_dw_pnl_"+e)+'" class="mbsc-cal-tab '+(e?"":ct)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":dt)+'">'+Be[t+"Text"]+"</a></li>")}),i+="</ul></div>",ge.before(i),P=Me(".mbsc-cal-anim-c",H),F=Me(".mbsc-cal-anim",P),U=Me(".mbsc-cal-week-nrs",H),R){for(K=!0,Pe=Me(".mbsc-cal-slide",F).each(function(e,t){Fe.push(Me(t))}),Pe.slice(st,st+De).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),E=0;E<Ve;E++)x(Fe[E],100*(E-st)*Je);p(me,he),Z=new Mt.ScrollView(P[0],{axis:mt,easing:"",contSize:0,snap:1,maxSnapScroll:st,moveElement:F,mousewheel:Be.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round((e["pos"+mt]-$)/W)*Je;t&&g(me,he-t,t>0?"prev":"next",t>0?t:-t)}})}Q=Me(".mbsc-cal-month",H),te=Me(".mbsc-cal-year",H),z=Me(".mbsc-cal-m-c",H),tt&&(z.on(Lt,V),ht=Me(".mbsc-cal-month-c",H).on(Lt,V),ft=Me(".mbsc-cal-year-c",H).on(Lt,V),fe={axis:mt,contSize:0,snap:1,maxSnapScroll:1,rtl:Be.rtl,mousewheel:Be.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},Ie=new Mt.ScrollView(ft[0],fe),J=new Mt.ScrollView(ht[0],fe)),Ke?H.addClass("mbsc-cal-liq"):Me(".mbsc-cal",H).width(Qe||280*De),Be.calendarHeight&&Me(".mbsc-cal-anim-c",H).height(Be.calendarHeight),e.tap(P,function(e){var t=Me(e.target);xe||Z.scrolled||Be.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&y.call(t[0]))}),Me(".mbsc-cal-btn",H).on("touchstart mousedown keydown",t).on("touchmove",s).on("touchend touchcancel keyup",a),Me(".mbsc-cal-tab",H).on("touchstart click",function(t){Vt(t,this)&&e.changeTab(Me(this).attr("data-control"))}),tt&&(e.tap(Me(".mbsc-cal-month",H),function(){ft.hasClass("mbsc-cal-v")||(S(z),K=z.hasClass("mbsc-cal-v")),S(ht),D(ft)}),e.tap(Me(".mbsc-cal-year",H),function(){ft.hasClass("mbsc-cal-v")||Ie.scroll(Ne),ht.hasClass("mbsc-cal-v")||(S(z),K=z.hasClass("mbsc-cal-v")),S(ft),D(ht)}),e.tap(Me(".mbsc-cal-month-s",H),function(){J.scrolled||Me(this).hasClass("mbsc-fr-btn-d")||e.navigate(Be.getDate(me,Me(this).attr("data-val"),1))}),e.tap(Me(".mbsc-cal-year-s",H),function(){Ie.scrolled||(L=Be.getDate(me,he,1),L=Be.getDate(Me(this).attr("data-val"),L.getMonth(),1),e.navigate(new Date(kt.constrain(L,le,oe))))}),e.tap(ft,function(){Ie.scrolled||(D(ft),k(z),K=!0)}),e.tap(ht,function(){J.scrolled||(D(ht),k(z),K=!0)}))},onShow:function(){R&&d(me,he)},onPosition:function(t){var s,a,n,i,r,l,o=0,c=0,d=0,u=t.windowHeight;if(Ke&&(Ge&&P.height(""),ge.height(""),F.width("")),W&&(r=W),R&&(W=Math.round(Math.round(P[0][et?"offsetHeight":"offsetWidth"])/De)),W&&(H.removeClass("mbsc-cal-m mbsc-cal-l"),W>1024?H.addClass("mbsc-cal-l"):W>640&&H.addClass("mbsc-cal-m")),(it&&(B||Ke)||rt)&&(Me(".mbsc-cal-pnl",H).removeClass("mbsc-cal-pnl-h"),Me.each($e,function(e,t){s=t[0].offsetWidth,o=Math.max(o,s),c=Math.max(c,t[0].offsetHeight),d+=s}),it||rt&&d>A(Y)?(a=!0,ye=Me(".mbsc-cal-tabs .mbsc-cal-tab-sel",H).attr("data-control"),N.addClass("mbsc-cal-tabbed")):(ye="calendar",o="",c="",N.removeClass("mbsc-cal-tabbed"),ge.css({width:"",height:""}))),Ke&&Ge&&R&&(e._isFullScreen=!0,a&&ge.height($e.calendar[0].offsetHeight),i=N[0].offsetHeight,u>=i&&P.height(u-i+P[0].offsetHeight),c=Math.max(c,$e.calendar[0].offsetHeight)),a&&(ge.css({width:Ke?"":o,height:c}),R&&(W=Math.round(Math.round(P[0][et?"offsetHeight":"offsetWidth"])/De))),W){if(F[et?"height":"width"](W),W!==r){if(at)for(G=Be.maxMonthWidth>Me(".mbsc-cal-btnw-m",H).width()?Be.monthNamesShort:Be.monthNames,E=0;E<De;++E)Me(Q[E]).text(G[Be.getMonth(Be.getDate(me,he-Le+E,1))]);tt&&(l=ft[0][et?"offsetHeight":"offsetWidth"],Se(Ie.settings,{contSize:l,snap:l,minScroll:(2-pe)*l,maxScroll:-l}),Se(J.settings,{contSize:l,snap:l,minScroll:-l,maxScroll:-l}),Ie.refresh(),J.refresh(),ft.hasClass("mbsc-cal-v")&&Ie.scroll(Ne)),Ke&&!B&&r&&(n=$/r,$=n*W,X=$),b(me,he)}}else W=r;a&&(Me(".mbsc-cal-pnl",H).addClass("mbsc-cal-pnl-h"),$e[ye].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),B=!1},onHide:function(){We=[],Fe=[],ye=null,me=null,he=null,xe=!0,W=0,Z&&Z.destroy(),tt&&Ie&&J&&(Ie.destroy(),J.destroy())},onValidated:function(t){var s,a,n;if(a=e.getDate(!0),j)s="calendar";else for(n in e.order)n&&e.order[n]===t&&(s=/[mdy]/.test(n)?"date":"time");e.trigger("onSetDate",{date:a,control:s}),f(a),j=!1}}),I};var It=K.util,Nt=It.datetime,Ht=Nt.adjustedDate,Yt=K.presets.scroller,Pt={};K.presetShort("calendar"),Yt.calendar=function(e){function t(e){if(e){if(m[e])return m[e];var t=Me('<div style="background-color:'+e+';"></div>').appendTo("body"),s=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,a=s.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*a[0]+.587*a[1]+.114*a[2],i=n>130?"#000":"#fff";return t.remove(),m[e]=i,i}}function s(e){return Ht(e.getFullYear(),e.getMonth(),e.getDate())}function a(e){if(y={},e&&e.length)for(o=0;o<e.length;o++)y[s(e[o])]=e[o]}function n(){e.refresh()}var i,r,l,o,c,d,u,m={},h=Se({},e.settings),f=Se(e.settings,Pt,h),p=f.activeClass||"",b="multiple"==f.select||f.select>1||"week"==f.selectType,v=It.isNumeric(f.select)?f.select:1/0,g=!!f.events,y={};if(u=Yt.calbase.call(this,e),i=Se({},u),l=void 0===f.firstSelectDay?f.firstDay:f.firstSelectDay,b&&f.defaultValue&&f.defaultValue.length)for(o=0;o<f.defaultValue.length;o++)y[s(f.defaultValue[o])]=f.defaultValue[o];return e.onGenMonth=function(t,s){c=e.prepareObj(f.events||f.marked,t,s)},e.getDayProps=function(e){var s,a=b?void 0!==y[e]:void 0,n=!!c[e]&&c[e],i=n&&n[0]&&n[0].text,r=n&&n[0]&&n[0].color,l=g&&i?t(r):"",o="",d="";if(n){for(s=0;s<n.length;s++)n[s].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+n[s].icon+'"'+(n[s].text?"":n[s].color?' style="color:'+n[s].color+';"':"")+"></span>\n");for(d='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',s=0;s<n.length;s++)d+='<div class="mbsc-cal-day-m-c"'+(n[s].color?' style="background:'+n[s].color+';"':"")+"></div>";d+="</div></div>"}return{marked:n,selected:a,cssClass:n?"mbsc-cal-day-marked":"",ariaLabel:g?i:"",markup:g&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+Me("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+l+';text-shadow:none;"':"")+">"+o+i+"</div></div>":g&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":n?d:""}},e.addValue=function(e){y[s(e)]=e,n()},e.removeValue=function(e){delete y[s(e)],n()},e.setVal=function(t,s,i,r,l){b&&(a(t),t=t?t[0]:null),e._setVal(t,s,i,r,l),n()},e.getVal=function(t){return b?It.objectToArray(y):e.getDate(t)},Se(u,{highlight:!b,outerMonthChange:!b,parseValue:function(t){var a,n;if(b&&t&&"string"==typeof t){for(y={},t=t.split(","),a=0;a<t.length;a++)n=Nt.parseDate(e.format,t[a].replace(/^\s+|\s+$/g,""),f),y[s(n)]=n;t=t[0]}return b&&f.defaultValue&&f.defaultValue.length&&(f.defaultValue=f.defaultValue[0]),i.parseValue.call(this,t)},formatValue:function(t){var s,a=[];if(b){for(s in y)a.push(Nt.formatDate(e.format,y[s],f));return a.join(", ")}return i.formatValue.call(this,t)},onClear:function(){b&&(y={},e.refresh())},onBeforeShow:function(){void 0!==f.setOnDayTap||f.buttons&&f.buttons.length||(f.setOnDayTap=!0),f.setOnDayTap&&"inline"!=f.display&&(f.outerMonthChange=!1),f.counter&&b&&(f.headerText=function(){var e=0,t="week"==f.selectType?7:1;return Me.each(y,function(){e++}),e=Math.round(e/t),(e>1?f.selectedPluralText||f.selectedText:f.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=Me(e.target),b&&(Me(".mbsc-fr-hdr",r).attr("aria-live","off"),d=Se({},y)),g&&Me(".mbsc-cal",r).addClass("mbsc-cal-ev")},onDayChange:function(t){var a=t.date,i=s(a),o=Me(t.target),c=t.selected;if(b)if("week"==f.selectType){var d,u,m=i.getDay()-l;for(m=m<0?7+m:m,"multiple"!=f.select&&(y={}),d=0;d<7;d++)u=Ht(i.getFullYear(),i.getMonth(),i.getDate()-m+d),c?delete y[u]:It.objectToArray(y).length/7<v&&(y[u]=u);n()}else{var h=Me('.mbsc-cal .mbsc-cal-day[data-full="'+o.attr("data-full")+'"]',r);c?(h.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(p),delete y[i]):It.objectToArray(y).length<v&&(h.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(p),y[i]=i)}if(f.setOnDayTap&&"multiple"!=f.select&&"inline"!=f.display)return e.needsSlide=!1,e.setDate(a),e.select(),!1},onCancel:function(){!e.live&&b&&(y=Se({},d))}}),u};var Ft={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};K.presetShort("timespan"),K.presets.scroller.timespan=function(e){function t(e){var t={};return Me(p).each(function(s,a){t[a]=y[a]?Math.floor(e/b[a].limit):0,e-=t[a]*b[a].limit}),t}function s(e){var t=!1,s=g[y[e]-1]||1,n=b[e],i=n.label,l=n.wheel;if(l.data=[],l.label=n.label,h.match(new RegExp(n.re+n.re,"i"))&&(t=!0),e==x)l.min=c[e],l.max=d[e],l.data=function(e){return{value:e*s,display:a(e*s,t,i)}},l.getIndex=function(e){return Math.round(e/s)};else for(r=0;r<=n.until;r+=s)l.data.push({value:r,display:a(r,t,i)})}function a(e,t,s){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+s+"</span>"}function n(e){var t=0,s=0;return Me.each(v,function(a,n){isNaN(+e[t])||(s+=b[n.v].limit*e[a])}),s}function i(e,t){return Math.floor(e/t)*t}var r,l,o,c,d,u=Se({},e.settings),m=Se(e.settings,Ft,u),h=m.wheelOrder,f=m.useShortLabels?m.labelsShort:m.labels,p=["years","months","days","hours","minutes","seconds"],b={years:{ord:0,index:6,until:10,limit:31536e6,label:f[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:f[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:f[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:f[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:f[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:f[5],re:"s",wheel:{}}},v=[],g=m.steps||[],y={},x="seconds",w=m.defaultValue||Math.max(m.min,Math.min(0,m.max)),_=[[]];return Me(p).each(function(e,t){l=h.search(new RegExp(b[t].re,"i")),l>-1&&(v.push({o:l,v:t}),b[t].index>b[x].index&&(x=t))}),v.sort(function(e,t){return e.o>t.o?1:-1}),Me.each(v,function(e,t){y[t.v]=e+1,_[0].push(b[t.v].wheel)}),c=t(m.min),d=t(m.max),Me.each(v,function(e,t){s(t.v)}),e.getVal=function(t,s){return s?e._getVal(t):e._hasValue||t?n(e.getArrayVal(t)):null},{showLabel:!0,wheels:_,compClass:"mbsc-ts",parseValue:function(e){var s,a=[];return K.util.isNumeric(e)||!e?(o=t(e||w),Me.each(v,function(e,t){a.push(o[t.v])})):Me.each(v,function(t,n){s=new RegExp("(\\d+)\\s?("+m.labels[b[n.v].ord]+"|"+m.labelsShort[b[n.v].ord]+")","gi").exec(e),a.push(s?s[1]:0)}),Me(a).each(function(e,t){a[e]=i(t,g[e]||1)}),a},formatValue:function(e){var t="";return Me.each(v,function(s,a){t+=+e[s]?e[s]+" "+b[a.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(s){var a,i,r,l,o=s.values,u=s.direction,m=[],h=!0,f=!0;return Me(p).each(function(s,p){if(void 0!==y[p]){if(r=y[p]-1,m[r]=[],l={},p!=x){if(h)for(i=d[p]+1;i<=b[p].until;i++)l[i]=!0;if(f)for(i=0;i<c[p];i++)l[i]=!0}o[r]=e.getValidValue(r,o[r],u,l),a=t(n(o)),h=h&&a[p]==d[p],f=f&&a[p]==c[p],Me.each(l,function(e){m[r].push(e)})}}),{disabled:m}}}};var Wt={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};K.presetShort("timer"),K.presets.scroller.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function s(e){var s={};if(N&&T[E].index>T.days.index){var a,n,i,r,l=new Date,o=b?l:I,c=b?I:l;for(c=t(c),o=t(o),s.years=o.getFullYear()-c.getFullYear(),s.months=o.getMonth()-c.getMonth(),s.days=o.getDate()-c.getDate(),s.hours=o.getHours()-c.getHours(),s.minutes=o.getMinutes()-c.getMinutes(),s.seconds=o.getSeconds()-c.getSeconds(),s.fract=(o.getMilliseconds()-c.getMilliseconds())/10,a=C.length;a>0;a--)n=C[a-1],i=T[n],r=C[Me.inArray(n,C)-1],T[r]&&s[n]<0&&(s[r]--,s[n]+="months"==r?32-new Date(o.getFullYear(),o.getMonth(),32).getDate():i.until+1);"months"==E&&(s.months+=12*s.years,delete s.years)}else Me(C).each(function(t,a){T[a].index<=T[E].index&&(s[a]=Math.floor(e/T[a].limit),e-=s[a]*T[a].limit)});return s}function a(e){var t=1,s=T[e],a=s.wheel,i=s.prefix,r=0,l=s.until,c=T[C[Me.inArray(e,C)-1]];if(s.index<=T[E].index&&(!c||c.limit>L))if(M[e]||H[0].push(a),M[e]=1,a.data=[],a.label=s.label||"",a.cssClass="mbsc-timer-whl-"+e,L>=s.limit&&(t=Math.max(Math.round(L/s.limit),1),d=t*s.limit),e==E)a.min=0,a.data=function(e){return{value:e,display:n(e,i,s.label)}},a.getIndex=function(e){return e};else for(o=r;o<=l;o+=t)a.data.push({value:o,display:n(o,i,s.label)})}function n(e,t,s){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+s+"</span>"}function i(e){var t,a=[],n=s(e);return Me(C).each(function(e,s){M[s]&&(t=Math.max(Math.round(L/T[s].limit),1),a.push(Math.round(n[s]/t)*t))}),a}function r(e){N?(f=I-new Date,f<0?(f*=-1,b=!0):b=!1,p=0,A=!0):void 0!==I?(A=!1,f=1e3*I,b="countdown"!=x.mode,e&&(p=0)):(f=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function l(){S?(Me(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),Me(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&Me(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Me(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Me(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&Me(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Me(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(Me(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),Me(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&Me(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&Me(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(Me(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&Me(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&Me(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var o,c,d,u,m,h,f,p,b,v,g,y=Se({},e.settings),x=Se(e.settings,Wt,y),w=x.useShortLabels?x.labelsShort:x.labels,_=["toggle","resetlap"],C=["years","months","days","hours","minutes","seconds","fract"],T={years:{index:6,until:10,limit:31536e6,label:w[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:w[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:w[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:w[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:w[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:w[5],wheel:{}},fract:{index:0,until:99,limit:10,label:w[6],prefix:".",wheel:{}}},M={},k=[],D=0,S=!1,V=!0,A=!1,L=Math.max(10,1e3*x.step),E=x.maxWheel,O="stopwatch"==x.mode||N,I=x.targetTime,N=I&&void 0!==I.getTime,H=[[]];return e.start=function(){if(V&&e.reset(),!S){if(r(),!A&&p>=f)return;S=!0,V=!1,m=new Date,u=p,x.readonly=!0,e.setVal(i(b?p:f-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-m+u,e.setVal(i(b?p:f-p),!0,!0,!1,Math.min(100,d-10)),!A&&p+d>=f&&(clearInterval(c),setTimeout(function(){e.stop(),p=f,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:f}),V=!0},f-p))},d),l(),e.trigger("onStart")}},e.stop=function(){S&&(S=!1,clearInterval(c),p=new Date-m+u,l(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){S?e.stop():e.start()},e.reset=function(){e.stop(),p=0,k=[],D=0,e.setVal(i(b?0:f),!0,!0,!1,100),e.settings.readonly=O,V=!0,O||Me(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){S&&(h=new Date-m+u,g=h-D,D=h,k.push(h),e.trigger("onLap",{ellapsed:h,lap:g,laps:k}))},e.resetlap=function(){S&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return f},e.setTime=function(e){I=e/1e3,f=e},e.getEllapsedTime=function(){return S?new Date-m+u:0},e.setEllapsedTime=function(t,s){V||(u=p=t,m=new Date,e.setVal(i(b?p:f-p),!0,s,!1,100))},r(!0),E||f||(E="minutes"),"inline"!==x.display&&_.push("hide"),E||Me(C).each(function(e,t){if(!E&&f>=T[t].limit)return E=t,!1}),Me(C).each(function(e,t){a(t)}),d=Math.max(87,d),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:H,headerText:!1,readonly:O,buttons:_,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return i(b?0:f)},formatValue:function(e){var t="",s=0;return Me(C).each(function(a,n){"fract"!=n&&M[n]&&(t+=e[s]+("seconds"==n&&M.fract?"."+e[s+1]:"")+" "+w[a]+" ",s++)}),t},validate:function(e){var t=e.values,s=e.index,a=0;V&&void 0!==s&&(I=0,Me(C).each(function(e,s){M[s]&&(I+=T[s].limit*t[a],a++)}),I/=1e3,r(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=Me(e.target),l(),O&&Me(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){Me(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",Me(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}};var $t=function(){},jt=function(e,t,s){var a,n,i,r,l=this;K.classes.Base.call(this,e,t,!0),l.__init=$t,l.__destroy=$t,l._init=function(t){var s;r=l.settings,a=Me(e),s=!!n,n=a.parent(),n=n.hasClass("mbsc-input-wrap")?n.parent():n,l._$parent=n,i&&n.removeClass(i),i=l._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),n.addClass(i),a.addClass("mbsc-control"),l.__init(t),s||l._attachChange(),l.refresh()},l._destroy=function(){l.__destroy(),n.removeClass(i),a.removeClass("mbsc-control")},s||l.init(t)};jt.prototype={_class:"progressbase"};var Rt="mbsc-input-wrap",qt=function(e,t,s){function a(){var e=n("value",m);e!==b&&i(e)}function n(e,t){var s=l.attr(e);return void 0===s||""===s?t:+s}function i(e,t,s,a){e=Math.min(h,Math.max(e,m)),c.css("width",100*(e-m)/(h-m)+"%"),void 0===s&&(s=!0),void 0===a&&(a=s),(e!==b||t)&&x._display(e),e!==b&&(b=e,s&&l.attr("value",b),a&&l.trigger("change"))}var r,l,o,c,d,u,m,h,f,p,b,g,x=this;jt.call(this,e,t,!0),x._display=function(e){g=p&&f.returnAffix?p.replace(/\{value\}/,e).replace(/\{max\}/,h):e,d&&d.html(g),r&&r.html(g)},x._attachChange=function(){l.on("change",a)},x.__init=function(t){var s,a,i,g;if(f=x.settings,l=Me(e),g=!!o,o=x._$parent,m=x._min=void 0===t.min?n("min",f.min):t.min,h=x._max=void 0===t.max?n("max",f.max):t.max,b=n("value",m),s=l.attr("data-val")||f.val,i=l.attr("data-step-labels"),i=i?JSON.parse(i):f.stepLabels,p=l.attr("data-template")||(100!=h||f.template?f.template:"{value}%"),g?(s&&(r.remove(),o.removeClass("mbsc-progress-value-"+("right"==s?"right":"left"))),i&&Me(".mbsc-progress-step-label",u).remove()):(y(o),v(l),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=x._$progress=o.find(".mbsc-progress-bar"),u=x._$track=o.find(".mbsc-progress-track")),l.attr("min",m).attr("max",h),s&&(r=Me('<span class="mbsc-progress-value"></span>'),o.addClass("mbsc-progress-value-"+("right"==s?"right":"left")).find(".mbsc-input-wrap").append(r)),i)for(a=0;a<i.length;++a)u.append('<span class="mbsc-progress-step-label" style="'+(f.rtl?"right":"left")+": "+100*(i[a]-m)/(h-m)+'%" >'+i[a]+"</span>");d=Me(l.attr("data-target")||f.target)},x.__destroy=function(){o.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),o.find(".mbsc-input-ic").remove(),l.off("change",a)},x.refresh=function(){i(n("value",m),!0,!1)},x.getVal=function(){return b},x.setVal=function(e,t,s){i(e,!0,t,s)},s||x.init(t)};qt.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},K.classes.Progress=qt,K.presetShort("progress","Progress");var Bt=function(){},Xt=K.util,Ut=Xt.getCoord,zt=Xt.testTouch,Kt=function(e,t,s){function a(t){!zt(t,this)||C||e.disabled||(F.stopProp&&t.stopPropagation(),C=!0,N=!1,T=!1,$=Ut(t,"X"),j=Ut(t,"Y"),S=$,_.removeClass("mbsc-progress-anim"),v=H?Me(".mbsc-slider-handle",this):y,g&&g.removeClass("mbsc-handle-curr"),g=v.parent().addClass("mbsc-active mbsc-handle-curr"),A=+v.attr("data-index"),B=_[0].offsetWidth,D=_[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),Me(document).on("mousemove",n).on("mouseup",i)))}function n(e){C&&(S=Ut(e,"X"),V=Ut(e,"Y"),M=S-$,k=V-j,(Math.abs(M)>5||N)&&(N=!0,Math.abs(z-new Date)>50&&(z=new Date,h(S,F.round,E))),N?e.preventDefault():Math.abs(k)>7&&m(e))}function i(e){C&&(e.preventDefault(),H||_.addClass("mbsc-progress-anim"),h(S,!0,!0),N||T||("touchend"==e.type&&Xt.preventClick(),U._onTap(X[A])),m())}function r(){C&&m()}function l(){var e=U._readValue(Me(this)),t=+Me(this).attr("data-index");e!==X[t]&&(X[t]=e,p(e,t))}function o(e){e.stopPropagation()}function c(e){e.preventDefault()}function d(t){var s;if(!e.disabled){switch(t.keyCode){case 38:case 39:s=1;break;case 40:case 37:s=-1}s&&(t.preventDefault(),q||(A=+Me(this).attr("data-index"),p(X[A]+P*s,A,!0),q=setInterval(function(){p(X[A]+P*s,A,!0)},200)))}}function u(e){e.preventDefault(),clearInterval(q),q=null}function m(){C=!1,g.removeClass("mbsc-active"),Me(document).off("mousemove",n).off("mouseup",i)}function h(e,t,s){var a=t?Math.min(Math.round(Math.max(100*(e-D)/B,0)/W/P)*P*100/(O-I),100):Math.max(0,Math.min(100*(e-D)/B,100));L&&(a=100-a),p(Math.round((I+a/W)*R)/R,A,s,a)}function f(e){return 100*(e-I)/(O-I)}function p(e,t,s,a,n,i){var r=y.eq(t),l=r.parent();e=Math.min(O,Math.max(e,I)),void 0===i&&(i=s),U._update?e=U._update(e,X,t,a,H,n,l):l.css({left:L?"auto":(a||f(e))+"%",right:L?(a||f(e))+"%":"auto"}),e>I?l.removeClass("mbsc-slider-start"):(X[t]>I||n)&&l.addClass("mbsc-slider-start"),s&&Y[t]!=e&&(T=!0,Y[t]=e,X[t]=e,U._fillValue(e,t,i)),r.attr("aria-valuenow",e)}var b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,L,E,O,I,N,H,Y,P,F,W,$,j,R,q,B,X,U=this,z=new Date;jt.call(this,e,t,!0),U._onTap=Bt,U.___init=Bt,U.___destroy=Bt,U._attachChange=function(){b.on(F.changeEvent,l)},U.__init=function(e){var t;y&&(t=!0,y.parent().remove()),U.___init(e),
w=U._$parent,_=U._$track,b=w.find("input"),F=U.settings,I=U._min,O=U._max,P=U._step,E=U._live,R=P%1!==0?100/(100*+(P%1).toFixed(2)):1,W=100/(O-I)||100,H=b.length>1,L=F.rtl,X=[],Y=[],b.each(function(e){X[e]=U._readValue(Me(this)),Me(this).attr("data-index",e)}),y=w.find(".mbsc-slider-handle"),x=w.find(H?".mbsc-slider-handle-cont":".mbsc-progress-cont"),y.on("keydown",d).on("keyup",u).on("blur",u),x.on("touchstart mousedown",a).on("touchmove",n).on("touchend touchcancel",i).on("pointercancel",r),t||(b.on("click",o),w.on("click",c))},U.__destroy=function(){w.off("click",c),b.off(F.changeEvent,l).off("click",o),y.off("keydown",d).off("keyup",u).off("blur",u),x.off("touchstart mousedown",a).off("touchmove",n).off("touchend touchcancel",i).off("pointercancel",r),U.___destroy()},U.refresh=function(){b.each(function(e){p(U._readValue(Me(this)),e,!0,!1,!0,!1)})},U.getVal=function(){return H?X.slice(0):X[0]},U.setVal=U._setVal=function(e,t,s){Me.isArray(e)||(e=[e]),Me.each(e,function(e,t){X[e]=t}),Me.each(e,function(e,t){p(t,e,!0,!1,!0,s)})},s||U.init(t)};Kt.prototype={_class:"sliderbase"};var Gt=function(e,t,s){function a(e){return 100*(e-p)/(f-p)}function n(e,t){var s=i.attr(e);return void 0===s||""===s?t:"true"===s}var i,r,l,o,c,d,u,m,h,f,p,b,v,g=this;qt.call(this,e,t,!0);var y=g.__init,x=g.__destroy;Kt.call(this,e,t,!0);var w=g.__init,_=g.__destroy;g.__init=function(e){y(e),w(e)},g.__destroy=function(){x(),_()},g._update=function(e,t,s,n,i,r,c){return m?0===s?(e=Math.min(e,t[1]),l.css({width:a(t[1])-a(e)+"%",left:h?"auto":a(e)+"%",right:h?a(e)+"%":"auto"})):(e=Math.max(e,t[0]),l.css({width:a(e)-a(t[0])+"%"})):i||!d?c.css({left:h?"auto":(n||a(e))+"%",right:h?(n||a(e))+"%":"auto"}):l.css("width",(n||a(e))+"%"),u&&o.eq(s).html(e),i||t[s]==e&&!r||g._display(e),e},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,s){i.eq(t).val(e),s&&i.eq(t).trigger("change")},g.___init=function(e){var t,s;if(r&&(r.removeClass("mbsc-slider-has-tooltip"),1!=b&&Me(".mbsc-slider-step",c).remove()),r=g._$parent,c=g._$track,l=g._$progress,i=r.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===e.step?+i.attr("step")||v.step:e.step,g._live=n("data-live",v.live),u=n("data-tooltip",v.tooltip),d=n("data-highlight",v.highlight)&&i.length<3,m=d&&2==i.length,h=v.rtl,u&&r.addClass("mbsc-slider-has-tooltip"),1!=b)for(s=(f-p)/b,t=0;t<=s;++t)c.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/s*t+'%"></span>');i.each(function(e){"range"==this.type&&Me(this).attr("min",p).attr("max",f).attr("step",b),(d?l:c).append('<span class="mbsc-slider-handle-cont'+(m&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(u?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=r.find(".mbsc-slider-tooltip")},s||g.init(t)};Gt.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},K.classes.Slider=Gt,K.presetShort("slider","Slider");var Zt=K.util,Jt=function(){},Qt=K.classes,es=function(e,t,s){function a(e,t,s){if(!s){Z._value=Z._hasValue?Z._tempValue.slice(0):null;for(var a=0;a<_.length;++a)_[a].tempChangedColor&&Z._value&&Z._value.indexOf(_[a].tempChangedColor)!=-1&&(_[a].changedColor=_[a].tempChangedColor),delete _[a].tempChangedColor}e&&(Z._isInput&&J.val(Z._hasValue?Z._tempValue:""),T("onFill",{valueText:Z._hasValue?Z._tempValue:"",change:t}),t&&(ee=Se(!0,{},te),Z._preventChange=!0,J.trigger("change")),m(Z._value,!0))}function n(e,t){return t=void 0!==t?t:r(e),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:e)+'" style="background: '+e+';">'+(R?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function i(e){Y[0].style.background=e?Zt.prefix+"linear-gradient(left, "+(g.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(g.rtl?"#FFFFFF":"#000000")+" 100%)":""}function r(e){if(Object.keys(te).length&&!isNaN(e))return e;for(var t in _)if(e==_[t].color||e==_[t].changedColor)return t}function l(){if(j){var e,t="";if(X.empty(),Z._value){if(R)t+=n(Z._value,$);else for(e=0;e<Z._value.length;++e)t+=n(Z._value[e],Object.keys(te).length&&te[e].colorIndex?te[e].colorIndex:r(Z._value[e]));X.append(t),Z.tap(Me(".mbsc-color-input-item",X),function(e){if(Me(e.target).hasClass("mbsc-color-input-item-close")){var t=Me(this).index();e.stopPropagation(),e.preventDefault(),void 0===$&&($=Me(e.target).parent().attr("data-color")),H&&(Q=_[$].previewInd,z.eq(Q).parent().removeClass("mbsc-color-active"),ee[t]={},te[t]={}),Z._value.splice(t,1),Z.setVal(Z._value,!0,!0)}else P&&"inline"!==g.display&&(I=!0,$=Me(e.target).attr("data-color"),isNaN($)&&($=r($)),$&&(_[$].selected=!0,Q=_[$].previewInd,setTimeout(function(){M.scroll(U.eq($),400),H&&A.scroll(z.eq(Q),400)},200)))})}}}function o(e,t){var s,a=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:s=x({r:a[0],g:a[1],b:a[2]});break;case e.indexOf("hsl")>-1:s=D({h:a[0],s:a[1],l:a[2]});break;case e.indexOf("hsv")>-1:s=S({h:a[0],s:a[1],v:a[2]});break;case e.indexOf("#")>-1:s=e}return c(s,t||g.format)}function c(e,t){switch(t){case"rgb":return w(e);case"hsl":return k(e);case"hsv":return V(e);default:return e}}function d(){var e;for(e=0;e<g.select;++e)if(void 0===te[e].colorIndex)return e}function u(e,t){Me(".mbsc-color-active",t).removeClass("mbsc-color-active"),P&&(e.parent().addClass("mbsc-color-active"),H&&e&&void 0!==Q&&z.eq(Q).parent().addClass("mbsc-color-active"))}function m(e,t){var s,a,n=[],i=0,r=Me.map(_,function(e){return e.changedColor||e.color});if(R){if(e=Me.isArray(e)?e[0]:e,a=r.indexOf(e),a>-1&&n.push(a),e&&!n.length){var o=+Me(".mbsc-color-input-item",X).attr("data-color");isNaN(o)||n.push(o),$=o}}else if(e)if(H&&P)for(var c in ee)void 0!==ee[c].colorIndex&&n.push(+ee[c].colorIndex);else for(s=0;s<e.length;++s)a=r.indexOf(e[s]),a>-1&&(n.push(a),r[a]="temp"+s);for(s=0;s<n.length;++s)h(!0,n[s],i++,_[n[s]].changedColor||_[n[s]].color,!0);for(s=0;s<_.length;++s)n.indexOf(s)==-1&&h(!1,s,void 0,_[s].changedColor||_[s].color,!1);if(H)for(s=i;s<g.select;++s)te[s]={},z&&z.eq(s).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ee=Se(!0,{},te),t!==!1&&l()}function h(e,t,s,a,n,i){if(H&&n&&(te[s].colorIndex=e?t:void 0,te[s].color=e?a:void 0,z)){var r=z.eq(s);r.removeClass("mbsc-color-preview-item-empty").css({background:e?a:"transparent"}),e||r.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?Z._tempValue.splice(s,0,a):Z._tempValue.splice(Z._tempValue.indexOf(a),1)),U&&(e?U.eq(t).addClass("mbsc-color-selected"):U.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),_[t].previewInd=e?s:void 0,_[t].selected=e}function f(e,t){void 0!==e&&(R||_[e].selected)?($=e,E=_[e].changedColor||_[e].color,K=U.eq(e),P&&(u(U.eq(e),t||""),O=o(_[e].color,"hsl"),O.l=o(E,"hsl").l,i(_[e].color),W.setVal(100-O.l,!1,!1))):P&&i()}function p(){var e,t=[];for(e=0;e<_.length;++e)_[e].selected&&t.push(_[e]);return t}function b(e,t){var s=Me(e.target).index();$=te[s].colorIndex,K=U.eq($),Q=s,f($,t),M.scroll(K,250),T("onPreviewItemTap",{target:e.target,value:te[s].color,index:s})}function v(e,t){var s=!1,a=Me(".mbsc-color-selected",t);return K=Me(e.target),K.hasClass("mbsc-color-clear-item")?(E="",void Z.clear()):void((R||q>+a.length||K.hasClass("mbsc-color-selected"))&&($=K.attr("data-index"),H&&(Q=void 0!==_[$].previewInd?_[$].previewInd:d(),s=P&&K.hasClass("mbsc-color-selected")&&!K.parent().hasClass("mbsc-color-active"),z.length>6&&A.scroll(z.eq(Q))),E=_[$].changedColor||_[$].color,R?(a.removeClass("mbsc-color-selected"),Z._tempValue=E,E&&K.toggleClass("mbsc-color-selected"),u(K,t)):(u(K,t),s||h(!_[$].selected,$,Q,E,!0,!0)),f($,t),Z.live&&(Z._fillValue(),T("onSet",{value:Z._value})),T("onItemTap",{target:e.target,value:E,selected:_[$].selected,index:$})))}var g,y,_,C,T,M,A,L,E,O,I,N,H,Y,P,F,W,$,j,R,q,B,X,U,z,K,G,Z=this,J=Me(e),Q=0,ee={},te={};Qt.Frame.call(this,e,t,!0),Z.setVal=Z._setVal=function(e,t,s,n){Z._hasValue=null!==e&&void 0!==e,Z._tempValue=R?Me.isArray(e)?e[0]:e:Me.isArray(e)?e:[e],a(t,void 0===s?t:s,n)},Z.getVal=Z._getVal=function(e){return Z._hasValue||e?B?p():Z[e?"_tempValue":"_value"]:null},Z._readValue=function(){var e=J.val()||"";Z._hasValue=!1,0!==e.length&&""!==e&&(Z._hasValue=!0),Z._hasValue?(Z._tempValue=R?e:"hex"==g.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),a(!0)):Z._tempValue=[],m(Z._tempValue,Z._hasValue)},Z._fillValue=function(){Z._hasValue=!0,a(!0,!0)},Z._generateContent=function(){var e,t,s,a=L?1:0;for(F=N?Math.ceil((_.length+a)/g.rows):g.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(N?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(N?'<div class="mbsc-color-row">':""),e=0;e<_.length;++e)s=_[e].changedColor||_[e].color,L&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+a)%F===0&&(t+=N?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(_[e].selected?"mbsc-color-selected":"")+'"  style="background:'+s+'"></div></div>';if(t+="</div></div>"+(N?"</div>":""),P&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),H){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var n in ee)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ee[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ee[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},Z._position=function(e){var t,s;N||(t=e.find(".mbsc-color-cont"),s=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/s),Math.round(_.length/g.rows))*s+1)),M&&M.refresh(),A&&A.refresh()},Z._markupInserted=function(e){N||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*g.rows),M=new Qt.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:N?"X":"Y",rtl:g.rtl,elastic:60,stopProp:!1,mousewheel:g.mousewheel,onBtnTap:function(t){v(t,e)}})},Z._attachEvents=function(e){var t;U=Me(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?v(t,e):b(t,e))}),H&&(z=Me(".mbsc-color-preview-item",e)),P&&(e.addClass("mbsc-color-refine"),G=Me(".mbsc-color-slider",e),W=new Qt.Slider(G[0],{theme:g.theme,rtl:g.rtl}),Y=e.find(".mbsc-progress-track"),$&&Z._value&&f($,e),G.on("change",function(){void 0!==$&&(R||_[$].selected)&&(O.l=100-this.value,t=o(O.toString()).toString(),R?Z._tempValue=t:Z._tempValue[void 0!==Q?Q:Z._tempValue.length]=t,_[$].tempChangedColor=t,U.eq($).css("background",t),H&&(te[Q].color=t,z.eq(Q).removeClass("mbsc-color-preview-item-empty").css({background:t})),Z.live&&Zt.throttle(Z._fillValue()))})),H&&(A=new Qt.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:g.rtl,mousewheel:g.mousewheel,onBtnTap:function(t){b(t,e)}}))},Z._detachEvents=function(){M.destroy(),W&&W.destroy(),A&&A.destroy()},Z.__processSettings=function(){var t,s;if(g=Z.settings,C=g.format,T=Z.trigger,N="horizontal"==g.navigation,Z._value=[],Z._tempValue=[],R="single"==g.select,L=void 0!==g.clear?g.clear:R,s=g.data||[],!s.length)switch(g.format){case"rgb":s=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],L&&s.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":s=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],L&&s.splice(10,0,"hsl(20, 12%, 29%)");break;default:s=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],L&&s.splice(10,0,"#534741")}if(P="refine"==g.mode,H=!isNaN(g.select),q=isNaN(g.select)?R?2:s.length:g.select,B=Me.isPlainObject(s[0]),H&&!Object.keys(ee).length)for(t=0;t<g.select;++t)ee[t]={},te[t]={};if(!_)for(_=s.slice(0),t=0;t<_.length;++t)Me.isPlainObject(s[t])?_[t].color=s[t].color:(s[t]=s[t].toLowerCase(),_[t]={key:t,name:s[t],color:s[t]});y=g.defaultValue||_[0].color,E=y,O=o(E,"hsl"),j=g.enhance&&J.is("input"),j&&(J.hasClass("mbsc-color-input-hdn")?X=J.prev():(X=Me("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(g.inputClass||"")+'" readonly ></div>'),X.insertBefore(J),J.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),g.anchor=X,Z.attachShow(X))},Z.__init=function(){g.cssClass=(g.cssClass||"")+" mbsc-color"},Z.__destroy=function(){j&&(J.removeClass("mbsc-color-input-hdn"),X.remove())},s||Z.init(t)};es.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:Se({},Qt.Frame.prototype._defaults,{headerText:!1,validate:Jt,parseValue:Jt,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},K.classes.Color=es,K.themes.color=K.themes.frame,K.presetShort("color","Color",!1),Zt.color={hsv2hex:S,hsv2rgb:_,rgb2hsv:C,rgb2hex:x,rgb2hsl:T,hex2rgb:w,hex2hsv:V,hex2hsl:k};var ts=K.presets.scroller,ss=K.util.datetime,as=K.util,ns=as.testTouch,is={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};K.presetShort("range"),ts.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function s(t){e._startDate=k=g,e._endDate=D=x,L.startInput&&(Me(L.startInput).val(b),t&&Me(L.startInput).trigger("change")),L.endInput&&(Me(L.endInput).val(v),t&&Me(L.endInput).trigger("change"))}function a(e,t){var s=!0;return e&&g&&x&&(x-g>L.maxRange-1&&(S?g=new Date(x-L.maxRange+1):x=new Date(+g+L.maxRange-1)),x-g<L.minRange-1&&(S?g=new Date(x-L.minRange+1):x=new Date(+g+L.minRange-1))),g&&x||(s=!1),t&&l(),s}function n(){return g&&x?Math.max(1,Math.round((new Date(x).setHours(0,0,0,0)-new Date(g).setHours(0,0,0,0))/864e5)+1):0}function i(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(I)}function r(){M&&d&&(Me(".mbsc-range-btn-c",d).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",d).removeClass(I),i(Me(".mbsc-range-btn-c",d).eq(S)))}function l(){var e,t,s,a,n,i=0,r=O||!S?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=O||S?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(b=g?ss.formatDate(m,g,L):"",v=x?ss.formatDate(m,x,L):"",d&&(Me(".mbsc-range-btn-v-start",d).html(b||"&nbsp;"),Me(".mbsc-range-btn-v-end",d).html(v||"&nbsp;"),e=g?new Date(g):null,s=x?new Date(x):null,!e&&s&&(e=new Date(s)),!s&&e&&(s=new Date(e)),n=S?s:e,Me(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",d).removeClass(I),Me(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(H),Me(".mbsc-cal-table .mbsc-cal-day-sel",d).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&s))for(t=e.setHours(0,0,0,0),a=s.setHours(0,0,0,0);s>=e&&i<84;)Me('.mbsc-cal-day[data-full="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]',d).addClass("mbsc-cal-day-sel"+(n.getTime()===t?r:"")+(n.getTime()===a?l:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(I),n.setDate(n.getDate()+(S?-1:1)),i++}function o(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var c,d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,k=e._startDate,D=e._endDate,S=0,V=new Date,A=Se({},e.settings),L=Se(e.settings,is,A),E=L.anchor,O=L.rangeTap,I=L.activeClass||"",N="mbsc-fr-btn-d "+(L.disabledClass||""),H="mbsc-cal-day-hl",Y=null===L.defaultValue?[]:L.defaultValue||[new Date(V.setHours(0,0,0,0)),new Date(V.getFullYear(),V.getMonth(),V.getDate()+6,23,59,59,999)];return O&&(L.tabs=!0),h=ts.calbase.call(this,e),c=Se({},h),m=e.format,_="time"===L.controls.join(""),M=1!=L.controls.length||"calendar"!=L.controls[0]||L.showSelector,L.startInput&&(C=Me(L.startInput).prop("readonly"),e.attachShow(Me(L.startInput).prop("readonly",!0),function(){S=0,L.anchor=E||Me(L.startInput)})),L.endInput&&(T=Me(L.endInput).prop("readonly"),e.attachShow(Me(L.endInput).prop("readonly",!0),function(){S=1,L.anchor=E||Me(L.endInput)})),e.setVal=function(t,s,a,n,i){var r=t||[],l=t;(void 0===r[0]||null===r[0]||r[0].getTime)&&(p=!0,g=r[0]||null,b=g?ss.formatDate(m,g,L):"",S||(l=c.parseValue(b,e))),(void 0===r[1]||null===r[1]||r[1].getTime)&&(p=!0,x=r[1]||null,v=x?ss.formatDate(m,x,L):"",S&&(l=c.parseValue(v,e))),n||(e._startDate=k=g,e._endDate=D=x),e._setVal(l,s,a,n,i)},e.getVal=function(t){return t?[g,x]:e._hasValue?[k,D]:null},e.getDayProps=function(e){var t=g?new Date(g.getFullYear(),g.getMonth(),g.getDate()):null,s=x?new Date(x.getFullYear(),x.getMonth(),x.getDate()):null;return{selected:t&&s&&e>=t&&e<=x,cssClass:((O||!S)&&t&&t.getTime()===e.getTime()||(O||S)&&s&&s.getTime()===e.getTime()?H:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var s;S="start"==t?0:1,s="start"==t?g:x,e.isVisible()&&(r(),O||(Me(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(H),s&&Me('.mbsc-cal-day[data-full="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]',d).addClass(H)),s&&(f=!0,e.setDate(s,!1,1e3,!0)))},e.getValue=e.getVal,Se(h,{highlight:!1,outerMonthChange:!1,formatValue:function(){return b+(L.endInput?"":v?" - "+v:"")},parseValue:function(t){var s=t?t.split(" - "):[];return L.defaultValue=Y[1],D=L.endInput?Me(L.endInput).val()?ss.parseDate(m,Me(L.endInput).val(),L):Y[1]:s[1]?ss.parseDate(m,s[1],L):Y[1],L.defaultValue=Y[0],k=L.startInput?Me(L.startInput).val()?ss.parseDate(m,Me(L.startInput).val(),L):Y[0]:s[0]?ss.parseDate(m,s[0],L):Y[0],L.defaultValue=Y[S],b=k?ss.formatDate(m,k,L):"",v=D?ss.formatDate(m,D,L):"",e._startDate=k,e._endDate=D,c.parseValue(S?v:b,e)},onFill:function(e){s(e.change)},onBeforeClose:function(t){if("set"===t.button&&!a(!0,!0))return e.setActiveDate(S?"start":"end"),!1},onHide:function(){c.onHide.call(e),S=0,d=null,L.anchor=E},onClear:function(){O&&(S=0)},onBeforeShow:function(){L.headerText=!1,g=k||Y[0],x=D||Y[1],y=o(g,0),w=o(x,1),L.counter&&(L.headerText=function(){var e=n();return(e>1?L.selectedPluralText||L.selectedText:L.selectedText).replace(/{count}/,e)}),p=!0},onMarkupReady:function(t){var s;g&&(f=!0,e.setDate(g,!1,0,!0),g=e.getDate(!0)),x&&(f=!0,e.setDate(x,!1,0,!0),x=e.getDate(!0)),(S&&x||!S&&g)&&(f=!0,e.setDate(S?x:g,!1,0,!0)),l(),c.onMarkupReady.call(this,t),d=Me(t.target),d.addClass("mbsc-range"),M&&(s='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+L.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(b||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+L.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(v||"&nbsp;")+"</div></div></div></div>",Me(".mbsc-cal-tabs",d).before(s),r()),Me(".mbsc-range-btn-c",d).on("touchstart click",function(t){ns(t,this)&&(e.showMonthView(),e.setActiveDate(Me(this).index()?"end":"start"))})},onDayChange:function(e){e.active=S?"end":"start",u=!0},onSetDate:function(s){var n=s.date,i=e.order;f||(void 0===i.h&&n.setHours(S?23:0),void 0===i.i&&n.setMinutes(S?59:0),void 0===i.s&&n.setSeconds(S?59:0),n.setMilliseconds(S?999:0),p&&!u||(O&&u&&(1==S&&n<g&&(S=0),S?n.setHours(w.h,w.i,w.s,999):n.setHours(y.h,y.i,y.s,0)),S?(x=new Date(n),w=o(x)):(g=new Date(n),y=o(g)),_&&L.autoCorrect&&(t(g,n),t(x,n)),O&&u&&!S&&(x=null))),_&&!L.autoCorrect&&x<g&&(x=new Date(x.setDate(x.getDate()+1))),e._isValid=a(p||u||L.autoCorrect,!f),s.active=S?"end":"start",!f&&O&&(u&&(S=S?0:1),r()),e.isVisible()&&(e._isValid?Me(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(N):Me(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(N)),u=!1,p=!1,f=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(S?x:g,!1,1e3,!0),a(!0,!0)},onDestroy:function(){Me(L.startInput).prop("readonly",C),Me(L.endInput).prop("readonly",T)}}),h};var rs,ls=K.classes,os=K.util,cs=os.prefix,ds=os.jsPrefix,us=os.getCoord,ms=os.testTouch,hs=os.vibrate,fs=os.animEnd,ps=1,bs=function(){},vs="transparent",gs=function(e,t){function s(){mt=!1,nt=!1,X=0,wt=0,_t=new Date,$e=ee.width(),ae=A(ee),qe=ae.index(je),Re=je[0].offsetHeight,Bt=je[0].offsetTop,Et=Ot[je.attr("data-type")||"defaults"],xt=Et.stages}function a(e){var t;"touchstart"===e.type&&(it=!0,clearTimeout(rt)),!ms(e,this)||R||Rt||rs||Kt||(R=!0,U=!0,Ct=us(e,"X"),Tt=us(e,"Y"),ce=0,de=0,je=Me(this),t=je,s(),Vt=pt.onItemTap||Et.tap||je.hasClass("mbsc-lv-parent")||je.hasClass("mbsc-lv-back"),Ue=je.offset().top,Vt&&(B=setTimeout(function(){t.addClass("mbsc-lv-item-active"),xe("onItemActivate",{target:t[0],domEvent:e})},120)),Wt.sortable&&!je.hasClass("mbsc-lv-back")&&(Wt.sortable.group||(st=je.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),lt=je.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),Ze=(Wt.sortable.group?ee.children(Xe).eq(0):lt.length?lt.eq(-1):je)[0].offsetTop-Bt,Ge=(Wt.sortable.group?ee.children(Xe).eq(-1):st.length?st.eq(-1):je)[0].offsetTop-Bt,Wt.sortable.handle?Me(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(B),"Moz"===ds?(e.preventDefault(),c()):Lt=setTimeout(function(){c()},100)):Lt=setTimeout(function(){we.appendTo(je),we[0].style[ds+"Animation"]="mbsc-lv-fill "+(pt.sortDelay-100)+"ms linear",clearTimeout(pe),clearTimeout(B),U=!1,Lt=setTimeout(function(){we[0].style[ds+"Animation"]="",c()},pt.sortDelay-80)},80)),"mousedown"==e.type&&Me(document).on("mousemove",n).on("mouseup",i))}function n(e){var t=!1,s=!0;if(R)if(ge=us(e,"X"),ye=us(e,"Y"),ce=ge-Ct,de=ye-Tt,clearTimeout(pe),he||kt||bt||je.hasClass("mbsc-lv-back")||(Math.abs(de)>10?(bt=!0,i(Se({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(B)):Math.abs(ce)>7&&r()),kt)e.preventDefault(),X=ce/$e*100,l();else if(he){e.preventDefault();var a,n=Ht.scrollTop(),o=Math.max(Ze,Math.min(de+Pt,Ge)),c=De?Ue-Ft+n-Pt:Ue;Yt+n<c+o+Re?(Ht.scrollTop(c+o-Yt+Re),a=!0):c+o<n&&(Ht.scrollTop(c+o),a=!0),a&&(Pt+=Ht.scrollTop()-n),et&&(Wt.sortable.multiLevel&&Qe.hasClass("mbsc-lv-parent")?Bt+Re/4+o>et?t=!0:Bt+Re-Re/4+o>et&&(ue=Qe.addClass("mbsc-lv-item-hl"),s=!1):Bt+Re/2+o>et&&(Qe.hasClass("mbsc-lv-back")?Wt.sortable.multiLevel&&(me=Qe.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(ot.insertAfter(Qe),ct=Qe,Qe=O(Qe,"next"),dt=et,et=Qe.length&&Qe[0].offsetTop,Q++)),!t&&dt&&(Wt.sortable.multiLevel&&ct.hasClass("mbsc-lv-parent")?Bt+Re-Re/4+o<dt?t=!0:Bt+Re/4+o<dt&&(ue=ct.addClass("mbsc-lv-item-hl"),s=!1):Bt+Re/2+o<dt&&(ct.hasClass("mbsc-lv-back")?Wt.sortable.multiLevel&&(me=ct.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(ot.insertBefore(ct),Qe=ct,ct=O(ct,"prev"),et=dt,dt=ct.length&&ct[0].offsetTop+ct[0].offsetHeight,Q--)),s&&(ue&&(ue.removeClass("mbsc-lv-item-hl"),ue=!1),me&&(me.removeClass("mbsc-lv-item-hl"),me=!1)),t&&xe("onSortChange",[je,Q]),w(je,o),xe("onSort",[je,Q])}else(Math.abs(ce)>5||Math.abs(de)>5)&&_()}function i(e){var t,s,a,r,l=je;R&&(R=!1,_(),"mouseup"==e.type&&Me(document).off("mousemove",n).off("mouseup",i),bt||(rt=setTimeout(function(){it=!1},300)),(kt||bt||he)&&(nt=!0),kt?o():he?(a=ee,ue?(k(je.detach()),s=zt[ue.attr("data-ref")],Q=A(s.child).length,ue.removeClass("mbsc-lv-item-hl"),pt.navigateOnDrop?F(ue,function(){Wt.add(null,je,null,null,ue,!0),Y(je),d(je,qe,a,!0)}):(Wt.add(null,je,null,null,ue,!0),d(je,qe,a,!0))):me?(k(je.detach()),s=zt[me.attr("data-back")],Q=A(s.parent).index(s.item)+1,me.removeClass("mbsc-lv-item-hl"),pt.navigateOnDrop?F(me,function(){Wt.add(null,je,Q,null,ee,!0),Y(je),d(je,qe,a,!0)}):(Wt.add(null,je,Q,null,s.parent,!0),d(je,qe,a,!0))):(t=ot[0].offsetTop-Bt,w(je,t,6*Math.abs(t-Math.max(Ze,Math.min(de+Pt,Ge))),function(){k(je),je.insertBefore(ot),d(je,qe,a,Q!==qe)})),he=!1):!bt&&Math.abs(ce)<5&&Math.abs(de)<5&&(Et.tap&&(r=Et.tap.call($t,{target:je,index:qe,domEvent:e},Wt)),Vt&&("touchend"===e.type&&os.preventClick(),je.addClass("mbsc-lv-item-active"),xe("onItemActivate",{target:je[0],domEvent:e})),r=xe("onItemTap",{target:je[0],index:qe,domEvent:e}),r!==!1&&F(je)),clearTimeout(B),setTimeout(function(){l.removeClass("mbsc-lv-item-active"),xe("onItemDeactivate",{target:l[0]})},100),bt=!1,ne=null)}function r(){kt=D(Et.swipe,{target:je[0],index:qe,direction:ce>0?"right":"left"}),kt&&(_(),clearTimeout(B),Et.actions?(q=H(Et,ce),Je.html(Et.icons).show().children().css("width",q+"%"),Fe.hide(),Me(".mbsc-lv-ic-m",We).removeClass("mbsc-lv-ic-disabled"),Me(Et.leftMenu).each(p),Me(Et.rightMenu).each(p)):(Fe.show(),Je.hide(),ie=Et.start+(ce>0?0:1),ut=xt[ie-1],tt=xt[ie]),je.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),At.css("line-height",Re+"px"),We.css({top:Bt,height:Re,backgroundColor:I(ce)}).addClass("mbsc-lv-stage-c-v").appendTo(ee.parent()),pt.iconSlide&&je.append(Fe),xe("onSlideStart",{target:je[0],index:qe}))}function l(){var e=!1;ft||(Et.actions?We.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(X<0?"right":"left")):(ut&&X<=ut.percent?(ie--,tt=ut,ut=xt[ie],e=!0):tt&&X>=tt.percent&&(ie++,ut=tt,tt=xt[ie],e=!0),e&&(ne=X>0?ut:tt,ne&&(C(ne,pt.iconSlide),xe("onStageChange",{target:je[0],index:qe,stage:ne})))),vt||(ft=!0,ht=be(g)))}function o(e){var t,s,a,n=!1,i=!0;ve(ht),ft=!1,vt||g(),Et.actions?Math.abs(X)>10&&q&&(x(je,X<0?-q:q,200),n=!0,rs=!0,z=je,Z=qe,Me(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),y(je,!0,e)})):X&&(pt.quickSwipe&&!vt&&(a=new Date-_t,t=a<300&&ce<-50,s=a<300&&ce>50,t?(mt=!0,ne=Et.left,C(ne,pt.iconSlide)):s&&(mt=!0,ne=Et.right,C(ne,pt.iconSlide))),ne&&ne.action&&(oe=D(ne.disabled,{target:je[0],index:qe}),oe||(n=!0,rs=vt||D(ne.confirm,{target:je[0],index:qe}),rs?(x(je,(X<0?-1:1)*Fe[0].offsetWidth*100/$e,200,!0),v(ne,je,qe,!1,e)):b(ne,je,qe,e)))),n||y(je,i,e),kt=!1}function c(){he=!0,ue=!1,me=!1,Pt=0,Q=qe,pt.vibrate&&hs(),Qe=O(je,"next"),et=Qe.length&&Qe[0].offsetTop,ct=O(je,"prev"),dt=ct.length&&ct[0].offsetTop+ct[0].offsetHeight,ot.height(Re).insertAfter(je),je.css({top:Bt}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(fe),xe("onSortStart",{target:je[0],index:Q})}function d(e,t,s,a){e.removeClass("mbsc-lv-item-dragging"),ot.remove(),xe("onSortEnd",{target:e[0],index:Q}),pt.vibrate&&hs(),a&&(Wt.addUndoAction(function(a){Wt.move(e,t,null,a,s,!0)},!0),xe("onSortUpdate",{target:e[0],index:Q}))}function u(){it||(clearTimeout(Ne),rs&&Me(document).trigger("touchstart"),Ee&&(Wt.close(Le,Oe),Ee=!1,Le=null))}function m(){clearTimeout(re),re=setTimeout(function(){Yt=Ht[0].innerHeight||Ht.innerHeight(),Ft=De?Ht.offset().top:0,R&&(Bt=je[0].offsetTop,Re=je[0].offsetHeight,We.css({top:Bt,height:Re}))},200)}function h(e){nt&&(e.stopPropagation(),e.preventDefault(),nt=!1)}function f(){if(he||!R){var e,t=Ht.scrollTop(),s=jt.offset().top,a=jt[0].offsetHeight,n=De?Ht.offset().top:t;Me(".mbsc-lv-gr-title",jt).each(function(t,s){Me(s).offset().top<n&&(e=s)}),s<n&&s+a>n?Ce.show().empty().append(Me(e).clone()):Ce.hide()}}function p(e,t){D(t.disabled,{target:je[0],index:qe})&&Me(".mbsc-ic-"+t.icon,We).addClass("mbsc-lv-ic-disabled")}function b(e,t,s,a){var n,i={icon:"undo2",text:pt.undoText,color:"#b1b1b1",action:function(){Wt.undo()}};e.undo&&(Wt.startActionTrack(),Me.isFunction(e.undo)&&Wt.addUndoAction(function(){e.undo.call($t,{target:t[0],index:s},Wt)}),It=t.attr("data-ref")),n=e.action.call($t,{target:t[0],index:s},Wt),e.undo?(Wt.endActionTrack(),n!==!1&&x(t,+t.attr("data-pos")<0?-100:100,200),ot.height(Re).insertAfter(t),t.css("top",Bt).addClass("mbsc-lv-item-undo"),Je.hide(),Fe.show(),We.append(Fe),C(i),v(i,t,s,!0,a)):y(t,n,a)}function v(e,t,s,a,n){var i,r;rs=!0,Me(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),a&&M(t),y(t,!0,n)}),le||Fe.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),i=us(e,"X"),r=us(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(l){l.preventDefault(),"touchend"===l.type&&os.preventClick(),Math.abs(us(l,"X")-i)<10&&Math.abs(us(l,"Y")-r)<10&&(b(e,t,s,n),a&&(Nt=null,M(t)))})}function g(){x(je,wt+100*ce/$e),ft=!1}function y(e,t,s){Me(document).off(".mbsc-lv-conf"),Fe.off(".mbsc-lv-conf"),t!==!1?x(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){T(e,s),k(e)}):T(e,s),rs=!1}function x(e,t,s,a,n){t=Math.max("right"==kt?0:-100,Math.min(t,"left"==kt?0:100)),Mt=e[0].style,e.attr("data-pos",t),Mt[ds+"Transform"]="translate3d("+(a?$e*t/100+"px":t+"%")+",0,0)",Mt[ds+"Transition"]=cs+"transform "+(s||0)+"ms",n&&(Rt++,setTimeout(function(){n(),Rt--},s)),X=t}function w(e,t,s,a){t=Math.max(Ze,Math.min(t,Ge)),Mt=e[0].style,Mt[ds+"Transform"]="translate3d(0,"+t+"px,0)",Mt[ds+"Transition"]=cs+"transform "+(s||0)+"ms ease-out",a&&(Rt++,setTimeout(function(){a(),Rt--},s))}function _(){clearTimeout(Lt),!U&&Wt.sortable&&(U=!0,we.remove())}function C(e,t){var s=D(e.text,{target:je[0],index:qe})||"";D(e.disabled,{target:je[0],index:qe})?We.addClass("mbsc-lv-ic-disabled"):We.removeClass("mbsc-lv-ic-disabled"),We.css("background-color",e.color||(0===e.percent?I(X):vs)),Fe.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(X<0?"right":"left")),Pe.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),At.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(s?"":" mbsc-lv-ic-only")).html(s||"&nbsp;"),pt.animateIcons&&(mt?Pe.addClass("mbsc-lv-ic-v"):setTimeout(function(){Pe.addClass("mbsc-lv-ic-a")},10))}function T(e,t){R||(Pe.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),We.attr("style","").removeClass("mbsc-lv-stage-c-v"),At.html("")),We.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(xe("onSlideEnd",{target:e[0],index:qe}),t&&t())}function M(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Nt?Wt.animate(ot,"collapse",function(){ot.remove()}):ot.remove(),T(),It=null,Nt=null}function k(e){Mt=e[0].style,Mt[ds+"Transform"]="",Mt[ds+"Transition"]="",Mt.top="",e.removeClass("mbsc-lv-item-swiping")}function D(e,t){return Me.isFunction(e)?e.call(this,t,Wt):e}function S(e){var t,s=e.attr("data-role");if(e.attr("data-ref")||(t=ps++,e.attr("data-ref",t),zt[t]={item:e,child:e.children(Ke),parent:e.parent(),ref:e.parent()[0]===$t?null:e.parent().parent().attr("data-ref")}),e.addClass("list-divider"==s?"mbsc-lv-gr-title":"mbsc-lv-item"),Wt.sortable.handle&&"list-divider"!=s&&!e.children(".mbsc-lv-handle-c").length&&e.append(Ve),pt.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var a=e.attr("data-icon"),n=e.find("img").eq(0).addClass("mbsc-lv-img");n.is(":first-child")?e.addClass("mbsc-lv-img-"+(pt.rtl?"right":"left")):n.length&&e.addClass("mbsc-lv-img-"+(pt.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=Me(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),a&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(pt.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+a+'"></div>')}}function V(e){Me(Xe,e).not(".mbsc-lv-item").each(function(){S(Me(this))}),Me(Ke,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(He).parent().addClass("mbsc-lv-parent").prepend(Ye),Me(".mbsc-lv-back",e).each(function(){Me(this).attr("data-back",Me(this).parent().parent().attr("data-ref"));
})}function A(e){return e.children(Xe).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function L(e){return"object"!==("undefined"==typeof e?"undefined":G(e))&&(e=Me(Xe,J).filter('[data-id="'+e+'"]')),Me(e)}function E(e){for(var t=0,s=zt[e.attr("data-ref")];s&&s.ref;)t++,s=zt[s.ref];return t}function O(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!Wt.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function I(e){return(e>0?Et.right:Et.left).color||vs}function N(e){return os.isNumeric(e)?e+"":0}function H(e,t){return+(t<0?N((e.actionsWidth||0).right)||N(e.actionsWidth)||N(pt.actionsWidth.right)||N(pt.actionsWidth):N((e.actionsWidth||0).left)||N(e.actionsWidth)||N(pt.actionsWidth.left)||N(pt.actionsWidth))}function Y(e,t){if(e){var s=Ht.scrollTop(),a=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,n=e.offset().top+(De?s-Ft:0);t?(n<s||n+a>s+Yt)&&Ht.scrollTop(n):n<s?Ht.scrollTop(n):n+a>s+Yt&&Ht.scrollTop(Math.min(n,n+a-Yt/2))}}function P(e,t,s,a,n){var i=t.parent(),r=t.prev();a=a||bs,r[0]===Fe[0]&&(r=Fe.prev()),ee[0]!==t[0]?(xe("onNavStart",{level:qt,direction:e,list:t[0]}),gt.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),Y(J),W(gt,"mbsc-lv-sl-"+e,function(){ee.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),te&&te.length?ee.removeClass("mbsc-lv-v").insertAfter(te):se.append(ee.removeClass("mbsc-lv-v")),te=r,se=i,ee=t,Y(s,n),a.call($t,s),xe("onNavEnd",{level:qt,direction:e,list:t[0]})})):(Y(s,n),a.call($t,s))}function F(e,t){Rt||(e.hasClass("mbsc-lv-parent")?(qt++,P("r",zt[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(qt--,P("l",zt[e.attr("data-back")].parent,zt[e.attr("data-back")].item,t)))}function W(e,t,s){function a(){clearTimeout(n),Rt--,e.off(fs,a).removeClass(t),s.call($t,e)}var n;s=s||bs,pt.animation&&"mbsc-lv-item-none"!==t?(Rt++,e.on(fs,a).addClass(t),n=setTimeout(a,500)):s.call($t,e)}function $(e,t){var s,a=e.attr("data-ref");s=Ut[a]=Ut[a]||[],t&&s.push(t),e.attr("data-action")||(t=s.shift(),e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?$(e):delete Ut[a]}))}function j(e,t,s){var a,n;e&&e.length&&(a=100/(e.length+2),Me.each(e,function(i,r){void 0===r.key&&(r.key=yt++),void 0===r.percent&&(r.percent=t*a*(i+1),s&&(n=Se({},r),n.key=yt++,n.percent=-a*(i+1),e.push(n),Xt[n.key]=n)),Xt[r.key]=r}))}var R,q,B,X,U,z,Z,J,Q,ee,te,se,ae,ne,ie,re,le,oe,ce,de,ue,me,he,fe,pe,ge,ye,xe,we,_e,Ce,Te,ke,De,Ve,Ae,Le,Ee,Oe,Ie,Ne,He,Ye,Pe,Fe,We,$e,je,Re,qe,Be,Xe,Ue,ze,Ke,Ge,Ze,Je,Qe,et,tt,st,at,nt,it,rt,lt,ot,ct,dt,ut,mt,ht,ft,pt,bt,vt,gt,yt,xt,wt,_t,Ct,Tt,Mt,kt,Dt,St,Vt,At,Lt,Et,Ot,It,Nt,Ht,Yt,Pt,Ft,Wt=this,$t=e,jt=Me($t),Rt=0,qt=0,Bt=0,Xt={},Ut={},zt={};ls.Base.call(this,e,t,!0),Wt.animate=function(e,t,s){W(e,"mbsc-lv-item-"+t,s)},Wt.add=function(e,t,s,a,n,i){var r,l,o,c,d,u,m="",h=void 0===n?jt:L(n),f=h,p=Me("object"!==("undefined"==typeof t?"undefined":G(t))?"<"+Be+' data-ref="'+ps++ +'" data-id="'+e+'">'+t+"</"+Be+">":t),b=p.attr("data-pos")<0?"left":"right",v=p.attr("data-ref");a=a||bs,v||(v=ps++,p.attr("data-ref",v)),S(p),i||Wt.addUndoAction(function(e){c?Wt.navigate(h,function(){f.remove(),h.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),d.child=h.children(Ke),Wt.remove(p,null,e,!0)}):Wt.remove(p,null,e,!0)},!0),$(p,function(e){k(p.css("top","").removeClass("mbsc-lv-item-undo")),h.is(Xe)?(u=h.attr("data-ref"),h.children(Ke).length||(c=!0,h.append("<"+ze+"></"+ze+">"))):u=h.children(".mbsc-lv-back").attr("data-back"),d=zt[u],d&&(d.child.length?f=d.child:(h.addClass("mbsc-lv-parent").prepend(Ye),f=h.children(Ke).prepend(He).addClass("mbsc-lv"),d.child=f,Me(".mbsc-lv-back",h).attr("data-back",u))),zt[v]={item:p,child:p.children(Ke),parent:f,ref:u},o=A(f),l=o.length,void 0!==s&&null!==s||(s=l),i&&(m="mbsc-lv-item-new-"+(i?b:"")),V(p.addClass(m)),s!==!1&&(l?s<l?p.insertBefore(o.eq(s)):p.insertAfter(o.eq(l-1)):(r=Me(".mbsc-lv-back",f),r.length?p.insertAfter(r):f.append(p))),f.hasClass("mbsc-lv-v")?Wt.animate(p.height(p[0].offsetHeight),i&&It===v?"none":"expand",function(t){Wt.animate(t.height(""),i?"add-"+b:"pop-in",function(t){a.call($t,t.removeClass(m)),e()})}):(a.call($t,p.removeClass(m)),e()),J.trigger("mbsc-refresh"),xe("onItemAdd",{target:p[0]})})},Wt.swipe=function(e,t,a,n,i){e=L(e),je=e,le=n,vt=!0,R=!0,a=void 0===a?300:a,ce=t>0?1:-1,s(),r(),x(e,t,a),clearTimeout(St),clearInterval(Dt),Dt=setInterval(function(){X=os.getPosition(e)/$e*100,l()},10),St=setTimeout(function(){clearInterval(Dt),X=t,l(),o(i),le=!1,vt=!1,R=!1},a)},Wt.openStage=function(e,t,s,a){Xt[t]&&Wt.swipe(e,Xt[t].percent,s,a)},Wt.openActions=function(e,t,s,a){e=L(e);var n=H(Ot[e.attr("data-type")||"defaults"],"left"==t?-1:1);Wt.swipe(e,"left"==t?-n:n,s,a)},Wt.close=function(e,t){Wt.swipe(e,0,t)},Wt.remove=function(e,t,s,a){var n,i,r;s=s||bs,e=L(e),e.length&&(i=e.parent(),n=A(i).index(e),r=e[0].style,a||(e.attr("data-ref")===It&&(Nt=!0),Wt.addUndoAction(function(t){Wt.add(null,e,n,t,i,!0)},!0)),$(e,function(n){t=t||(e.attr("data-pos")<0?"left":"right"),i.hasClass("mbsc-lv-v")?Wt.animate(e.addClass("mbsc-lv-removed"),a?"pop-out":"remove-"+t,function(e){r.height=e[0].offsetHeight+"px",Wt.animate(e,"collapse",function(e){r.height="",k(e.removeClass("mbsc-lv-removed")),s.call($t,e)!==!1&&e.remove(),n()})}):(s.call($t,e)!==!1&&e.remove(),n()),xe("onItemRemove",{target:e[0]})}))},Wt.move=function(e,t,s,a,n,i){e=L(e),i||Wt.startActionTrack(),We.append(Fe),Wt.remove(e,s,null,i),Wt.add(null,e,t,a,n,i),i||Wt.endActionTrack()},Wt.navigate=function(e,t){var s,a;e=L(e),s=zt[e.attr("data-ref")],a=E(e),s&&(P(a>=qt?"r":"l",s.parent,e,t,!0),qt=a)},Wt._processSettings=function(){jt.is("[mbsc-enhance]")&&(Te=!0,jt.removeAttr("mbsc-enhance"))},Wt._init=function(){var e,t,s,r=jt.find(Ke).length?"left":"right",l=0,o="",c="",d="";ze=pt.listNode,Ke=pt.listSelector,Be=pt.itemNode,Xe=pt.itemSelector,s=pt.sort||pt.sortable||!1,"group"===s&&(s={group:!1,multiLevel:!0}),s===!0&&(s={group:!0,multiLevel:!0,handle:pt.sortHandle}),s&&void 0===s.handle&&(s.handle=pt.sortHandle),s.handle&&(ke=s.handle===!0?r:s.handle,Ve='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+ke+' mbsc-lv-handle"><div class="'+pt.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+pt.handleMarkup+"</div></div>"),He="<"+Be+' class="mbsc-lv-item mbsc-lv-back">'+pt.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+pt.leftArrowClass+'"></div></'+Be+">",Ye='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+pt.rightArrowClass+'"></div>',e="mbsc-lv-cont mbsc-lv-"+pt.theme+(pt.rtl?" mbsc-lv-rtl":"")+(pt.baseTheme?" mbsc-lv-"+pt.baseTheme:"")+(pt.animateIcons?" mbsc-lv-ic-anim":"")+(pt.striped?" mbsc-lv-alt-row":"")+(pt.fixedHeader?" mbsc-lv-has-fixed-header":"")+(s.handle?" mbsc-lv-handle-"+ke:""),Wt.sortable=s||!1,J?(J.attr("class",e),s.handle&&Me(".mbsc-lv-handle-c",J).remove(),Me(Xe,J).not(".mbsc-lv-back").removeClass("mbsc-lv-item")):(o+='<div class="mbsc-lv-multi-c"></div>',o+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',jt.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(),We=Me('<div class="mbsc-lv-stage-c">'+o+"</div>"),Fe=Me(".mbsc-lv-ic-c",We),Je=Me(".mbsc-lv-multi-c",We),Pe=Me(".mbsc-lv-ic-s",We),At=Me(".mbsc-lv-ic-text",We),ot=Me("<"+Be+' class="mbsc-lv-item mbsc-lv-ph"></'+Be+">"),we=Me('<div class="mbsc-lv-fill-item"></div>'),J=Me('<div class="'+e+'"><'+ze+' class="mbsc-lv mbsc-lv-dummy"></'+ze+'><div class="mbsc-lv-sl-c"></div></div>'),De="body"!==pt.context,Ht=Me(De?pt.context:window),fe=Me(".mbsc-lv-dummy",J),J.insertAfter(jt),Ht.on("orientationchange resize",m),m(),J.on("touchstart mousedown",".mbsc-lv-item",a).on("touchmove",".mbsc-lv-item",n).on("touchend touchcancel",".mbsc-lv-item",i),$t.addEventListener("click",h,!0),J.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){le||(e.stopPropagation(),e.preventDefault()),Ct=us(e,"X"),Tt=us(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){le||("touchend"===e.type&&os.preventClick(),rs&&!Me(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(us(e,"X")-Ct)<10&&Math.abs(us(e,"Y")-Tt)<10&&b((X<0?Et.rightMenu:Et.leftMenu)[Me(this).index()],z,Z))}),gt=Me(".mbsc-lv-sl-c",J).append(jt.addClass("mbsc-lv-sl-curr")).attr("data-ref",ps++),ee=jt,se=J),V(jt),yt=0,Ot=pt.itemGroups||{},Ot.defaults={swipeleft:pt.swipeleft,swiperight:pt.swiperight,stages:pt.stages,actions:pt.actions,actionsWidth:pt.actionsWidth},Me.each(Ot,function(e,t){if(t.swipe=void 0!==t.swipe?t.swipe:pt.swipe,t.stages=t.stages||[],j(t.stages,1,!0),j(t.stages.left,1),j(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),_e=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),Me.each(t.stages,function(e,t){if(0===t.percent)return _e=!0,!1}),_e||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),Me.each(t.stages,function(e,s){if(0===s.percent)return t.start=e,!1}),_e?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,c="",d="",l=0;l<t.leftMenu.length;l++)c+="<div "+(t.leftMenu[l].color?'style="background-color: '+t.leftMenu[l].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[l].icon+'">'+(t.leftMenu[l].text||"")+"</div>";for(l=0;l<t.rightMenu.length;++l)d+="<div "+(t.rightMenu[l].color?'style="background-color: '+t.rightMenu[l].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[l].icon+'">'+(t.rightMenu[l].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+c+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+d+"</div>"}}),pt.fixedHeader&&(t="mbsc-lv-fixed-header"+(De?" mbsc-lv-fixed-header-ctx mbsc-lv-"+pt.theme+(pt.baseTheme?" mbsc-lv-"+pt.baseTheme:""):""),Ce?Ce.attr("class",t):(Ce=Me('<div class="'+t+'"></div>'),De?Ht.before(Ce):J.prepend(Ce),at=os.throttle(f,200),Ht.on("scroll touchmove",at))),pt.hover&&(Oe||J.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){Le&&Le[0]==this||(u(),Le=Me(this),Ot[Le.attr("data-type")||"defaults"].actions&&(Ne=setTimeout(function(){it?Le=null:(Ee=!0,Wt.openActions(Le,Ae,Oe,!1))},Ie)))}).on("mouseleave.mbsc-lv",u),Oe=pt.hover.time||200,Ie=pt.hover.timeout||200,Ae=pt.hover.direction||pt.hover||"right"),Te&&J.attr("mbsc-enhance",""),J.trigger("mbsc-enhance",[{theme:pt.theme,lang:pt.lang}])},Wt._destroy=function(){var e;se.append(ee),De&&Ce&&Ce.remove(),Te&&(jt.attr("mbsc-enhance",""),e=K.instances[J[0].id],e&&e.destroy()),$t.removeEventListener("click",h,!0),J.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),J.find(Ke).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(Xe).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),Me(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",J).remove(),jt.insertAfter(J),J.remove(),We.remove(),Ht.off("orientationchange resize",m),at&&Ht.off("scroll touchmove",at)};var Kt,Gt=[],Zt=[],Jt=[],Qt=0;Wt.startActionTrack=function(){Qt||(Jt=[]),Qt++},Wt.endActionTrack=function(){Qt--,Qt||Zt.push(Jt)},Wt.addUndoAction=function(e,t){var s={action:e,async:t};Qt?Jt.push(s):(Zt.push([s]),Zt.length>pt.undoLimit&&Zt.shift())},Wt.undo=function(){function e(){a<0?(Kt=!1,t()):(s=n[a],a--,s.async?s.action(e):(s.action(),e()))}function t(){n=Gt.shift(),n&&(Kt=!0,a=n.length-1,e())}var s,a,n;Zt.length&&Gt.push(Zt.pop()),Kt||t()},pt=Wt.settings,xe=Wt.trigger,Wt.init(t)};gs.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},ls.ListView=gs,K.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},K.presetShort("listview","ListView");var ys={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};K.presets.scroller.measurement=function(e){function t(e){return Math.max(y,Math.min(x,Y?e<0?Math.ceil(e):Math.floor(e):i(Math.round(e-R),$)+R))}function s(e){return Y?i((Math.abs(e)-Math.abs(t(e)))*W-q,$)+q:0}function a(e){var a=t(e),n=s(e),i=e<0?"-":"+";return n>=W&&(e<0?a--:a++,n=0),[i,a,n]}function n(e){var t=+e[p],s=Y?e[f]/W*(t<0?-1:1):0;return(O&&"-"==e[0]?-1:1)*(t+s)}function i(e,t){return Math.round(e/t)*t}function r(e,t){for(e+="";e.length<t;)e="0"+e;return e}function l(e,t,s){return t!==s&&k.convert?k.convert.call(this,e,t,s):e}function o(e,t,s){return e=e>s?s:e,e=e<t?t:e}function c(e){var t,a;v=l(k.min,N,e),g=l(k.max,N,e),Y?(y=v<0?Math.ceil(v):Math.floor(v),x=g<0?Math.ceil(g):Math.floor(g),w=s(v),_=s(g)):(y=Math.round(v),x=Math.round(g),x=y+Math.floor((x-y)/$)*$,R=y%$),t=y,a=x,O&&(a=Math.abs(t)>Math.abs(a)?Math.abs(t):Math.abs(a),t=t<0?0:t),A.min=t<0?Math.ceil(t/P):Math.floor(t/P),A.max=a<0?Math.ceil(a/P):Math.floor(a/P)}function d(e){return n(e).toFixed(Y?F:0)+(I?" "+H[e[b]]:"")}var u,m,h,f,p,b,v,g,y,x,w,_,C,T,M=Se({},e.settings),k=Se(e.settings,ys,M),D={},S=[[]],V={},A={},L={},E=[],O=k.sign,I=k.units&&k.units.length,N=I?k.defaultUnit||k.units[0]:"",H=[],Y=k.step<1,P=k.step>1?k.step:1,F=Y?Math.max(k.scale,(k.step+"").split(".")[1].length):1,W=Math.pow(10,F),$=Math.round(Y?k.step*W:k.step),j=-1,R=0,q=0,B=0;if(e.setVal=function(t,s,a,n,i){e._setVal(Me.isArray(t)?d(t):t,s,a,n,i)},k.units)for(T=0;T<k.units.length;++T)C=k.units[T],H.push(k.unitNames?k.unitNames[C]||C:C);if(O)if(O=!1,I)for(T=0;T<k.units.length;T++)l(k.min,N,k.units[T])<0&&(O=!0);else O=k.min<0;if(O&&(S[0].push({data:["-","+"],label:k.signText}),j=B++),A={label:k.wholeText,data:function(e){return y%P+e*P},getIndex:function(e){return Math.round((e-y%P)/P)}},S[0].push(A),p=B++,c(N),Y){for(S[0].push(L),L.data=[],L.label=k.fractionText,T=q;T<W;T+=$)E.push(T),L.data.push({value:T,display:"."+r(T,F)});f=B++,u=Math.ceil(100/$),k.invalid&&k.invalid.length&&(Me.each(k.invalid,function(e,t){var s=t>0?Math.floor(t):Math.ceil(t);0===s&&(s=t<=0?-.001:.001),V[s]=(V[s]||0)+1,0===t&&(s=.001,V[s]=(V[s]||0)+1)}),Me.each(V,function(e,t){t<u?delete V[e]:V[e]=e}))}if(I){for(D={data:[],label:k.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},T=0;T<k.units.length;T++)D.data.push({value:T,display:H[T]});S[0].push(D)}return b=B,{wheels:S,minWidth:O&&Y?70:80,showLabel:!1,formatValue:d,compClass:"mbsc-msr",parseValue:function(e){var t,s=("number"==typeof e?e+"":e)||k.defaultValue,n=(s+"").split(" "),i=+n[0],r=[],l="";return I&&(l=Me.inArray(n[1],H),l=l==-1?Me.inArray(N,k.units):l,l=l==-1?0:l),h=I?k.units[l]:"",c(h),i=isNaN(i)?0:i,i=o(i,v,g),t=a(i),t[1]=o(t[1],y,x),m=i,O&&(r[0]=t[0],t[1]=Math.abs(t[1])),r[p]=t[1],Y&&(r[f]=t[2]),I&&(r[b]=l),r},onCancel:function(){m=void 0},validate:function(t){var s,r,d,u,C,T=t.values,M=t.index,D=t.direction,S={},L=[],H={},F=I?k.units[T[b]]:"";if(O&&0===M&&(m=Math.abs(m)*("-"==T[0]?-1:1)),(M===p||M===f&&Y||void 0===m||void 0===M)&&(m=n(T),h=F),(I&&M===b&&h!==F||void 0===M)&&(c(F),m=l(m,h,F),h=F,r=a(m),void 0!==M&&(H[p]=A,e.changeWheel(H)),O&&(T[0]=r[0])),L[p]=[],O)for(L[0]=[],v>0&&(L[0].push("-"),T[0]="+"),g<0&&(L[0].push("+"),T[0]="-"),C=Math.abs("-"==T[0]?y:x),B=C+P;B<C+20*P;B+=P)L[p].push(B),S[B]=!0;if(m=o(m,v,g),r=a(m),d=O?Math.abs(r[1]):r[1],s=O?"-"==T[0]:m<0,T[p]=d,s&&(r[0]="-"),Y&&(T[f]=r[2]),Me.each(Y?V:k.invalid,function(e,t){if(O&&s){if(!(t<=0))return;t=Math.abs(t)}t=i(l(t,N,F),Y?1:$),S[t]=!0,L[p].push(t)}),T[p]=e.getValidValue(p,d,D,S),r[1]=T[p]*(O&&s?-1:1),Y){L[f]=[];var W=O?T[0]+T[1]:(m<0?"-":"+")+Math.abs(r[1]),j=(v<0?"-":"+")+Math.abs(y),R=(g<0?"-":"+")+Math.abs(x);W===j&&Me(E).each(function(e,t){(s?t>w:t<w)&&L[f].push(t)}),W===R&&Me(E).each(function(e,t){(s?t<_:t>_)&&L[f].push(t)}),Me.each(k.invalid,function(e,t){u=a(l(t,N,F)),(r[0]===u[0]||0===r[1]&&0===u[1]&&0===u[2])&&r[1]===u[1]&&L[f].push(u[2])})}return{disabled:L,valid:T}}}},K.presetShort("measurement"),K.presets.scroller.number=K.presets.scroller.measurement,K.presetShort("number");var xs=K.util,ws=K.presets.numpad,_s=xs.testTouch,Cs=xs.getCoord,Ts=xs.isNumeric,Ms=function(){},ks=function(e,t,s){function a(t){var s,a=g.validate.call(e,{values:S.slice(0),variables:Y},I)||[],i=a&&a.disabled||[];if(I._isValid=!a.invalid,I._tempValue=g.formatValue.call(e,S.slice(0),Y,I),v=S.length,V=a.length||L,I._isVisible){if(Me(".mbsc-np-ph",f).each(function(e){Me(this).html("ltr"==g.fill?e>=v?b:y||S[e]:e>=L-V?e+v<L?b:y||S[e+v-L]:"")}),Me(".mbsc-np-cph",f).each(function(){Me(this).html(Y[Me(this).attr("data-var")]||Me(this).attr("data-ph"))}),v===L)for(s=0;s<=9;s++)i.push(s);for(Me(".mbsc-np-btn",f).removeClass(p),s=0;s<i.length;s++)Me('.mbsc-np-btn[data-val="'+i[s]+'"]',f).addClass(p);I._isValid?Me(".mbsc-fr-btn-s .mbsc-fr-btn",f).removeClass(p):Me(".mbsc-fr-btn-s .mbsc-fr-btn",f).addClass(p),I.live&&(I._hasValue=t||I._hasValue,n(t,!1,t),t&&A("onSet",{valueText:I._value}))}}function n(e,t,s,n){t&&a(),n||(E=S.slice(0),P=Se({},Y),N=H.slice(0),I._value=I._hasValue?I._tempValue:null),e&&(I._isInput&&O.val(I._hasValue&&I._isValid?I._value:""),A("onFill",{valueText:I._hasValue?I._tempValue:"",change:s}),s&&(I._preventChange=!0,O.trigger("change")))}function i(e){var t,s,a=e||[],n=[];for(H=[],Y={},t=0;t<a.length;t++)/:/.test(a[t])?(s=a[t].split(":"),Y[s[0]]=s[1],H.push(s[0])):(n.push(a[t]),H.push("digit"));return n}function r(e,t){!(v||t||g.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||v<L&&(H.push("digit"),S.push(t),a(!0))}function l(e){var t,s,n=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(r&&(s=r.split(":"),i&&H.push(s[0]),Y[s[0]]=void 0===s[2]?s[1]:Y[s[0]]==s[1]?s[2]:s[1]),n.length+v<=V)for(t=0;t<n.length;++t)s=Ts(n[t])?+n[t]:n[t],(g.allowLeadingZero||v||s)&&(H.push("digit"),S.push(s),v=S.length);a(!0)}}function o(){var e,t,s=H.pop();if(v||"digit"!==s){if("digit"!==s&&Y[s])for(delete Y[s],t=H.slice(0),H=[],e=0;e<t.length;e++)t[e]!==s&&H.push(t[e]);else S.pop();a(!0)}}function c(e){k=!0,x=Cs(e,"X"),w=Cs(e,"Y"),clearInterval(D),clearTimeout(D),o(),D=setInterval(function(){o()},150)}function d(){clearInterval(D),k=!1}function u(e){if(_s(e,this)){if("keydown"==e.type&&32!=e.keyCode)return;c(e),"mousedown"==e.type&&Me(document).on("mousemove",m).on("mouseup",h)}}function m(e){k&&(_=Cs(e,"X"),C=Cs(e,"Y"),T=_-x,M=C-w,(Math.abs(T)>7||Math.abs(M)>7)&&d())}function h(e){k&&(e.preventDefault(),d(),"mouseup"==e.type&&Me(document).off("mousemove",m).off("mouseup",h))}var f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,L,E,O=Me(e),I=this,N=[],H=[],Y={},P={},F={107:"+",109:"-"},W={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};Be.call(this,e,t,!0),I.setVal=I._setVal=function(t,s,a,r){I._hasValue=null!==t&&void 0!==t,S=i(Me.isArray(t)?t.slice(0):g.parseValue.call(e,t,I)),n(s,!0,void 0===a?s:a,r)},I.getVal=I._getVal=function(e){return I._hasValue||e?I[e?"_tempValue":"_value"]:null},I.setArrayVal=I.setVal,I.getArrayVal=function(e){return e?S.slice(0):I._hasValue?E.slice(0):null},I._readValue=function(){var t=O.val()||"";""!==t&&(I._hasValue=!0),y?(Y={},H=[],S=[]):(Y=I._hasValue?P:{},H=I._hasValue?N:[],S=I._hasValue&&E?E.slice(0):i(g.parseValue.call(e,t,I)),n(!1,!0))},I._fillValue=function(){I._hasValue=!0,n(!0,!1,!0)},I._generateContent=function(){var e,t,s,a=1,n="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+g.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+g.deleteIcon+'"></div><div class="mbsc-np-dsp">',n=g.template.replace(/d/g,'<span class="mbsc-np-ph">'+b+"</span>").replace(/&#100;/g,"d"),n=n.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=n,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)s=a,10==a||12==a?s="":11==a&&(s=0),i+=""===s?10==a&&g.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.leftKey.variable?'data-var="'+g.leftKey.variable+'"':"")+' data-val="'+(g.leftKey.value||"")+'" '+(void 0!==g.leftKey.track?' data-track="'+g.leftKey.track+'"':"")+">"+g.leftKey.text+"</div>":12==a&&g.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.rightKey.variable?'data-var="'+g.rightKey.variable+'"':"")+' data-val="'+(g.rightKey.value||"")+'" '+(void 0!==g.rightKey.track?' data-track="'+g.rightKey.track+'"':"")+" >"+g.rightKey.text+"</div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+s+'">'+s+"</div>",a++;i+="</div>"}return i+="</div></div>"},I._markupReady=function(){f=I._markup,a()},I._attachEvents=function(e){e.on("keydown",function(t){var s;void 0!==F[t.keyCode]?(s=Me('.mbsc-np-btn[data-var="sign:-:"]',e),s.length&&(Y.sign=107==t.keyCode?"-":"",l(s))):void 0!==W[t.keyCode]?r(Me('.mbsc-np-btn[data-val="'+W[t.keyCode]+'"]',e),W[t.keyCode]):8==t.keyCode&&(t.preventDefault(),o())}),I.tap(Me(".mbsc-np-btn",e),function(){var e=Me(this);e.hasClass("mbsc-np-btn-custom")?l(e):r(e,+e.attr("data-val"))},!1,30,!0),Me(".mbsc-np-del",e).on("touchstart mousedown keydown",u).on("touchmove mousemove",m).on("touchend mouseup keyup",h)},I.__init=function(){g=I.settings,g.cssClass=(g.cssClass||"")+" mbsc-np",g.template=g.template.replace(/\\d/,"&#100;"),b=g.placeholder,L=(g.template.match(/d/g)||[]).length,p="mbsc-fr-btn-d "+(g.disabledClass||""),y=g.mask,A=I.trigger,y&&O.is("input")&&O.attr("type","password")},I._indexOf=function(e,t){var s;for(s=0;s<e.length;++s)if(e[s].toString()===t.toString())return s;return-1},s||I.init(t)};ks.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:Se({},Be.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:Ms,parseValue:Ms,formatValue:function(e,t,s){var a,n=1,i=s.settings,r=i.placeholder,l=i.template,o=e.length,c=l.length,d="";for(a=0;a<c;a++)"d"==l[c-a-1]?(d=n<=o?e[o-n]+d:r+d,n++):d=l[c-a-1]+d;return Me.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),Me("<div>"+d+"</div>").text()}})},K.classes.Numpad=ks,K.themes.numpad=K.themes.frame,K.presetShort("numpad","Numpad",!1);var Ds={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};ws.decimal=function(e){function t(e,t){for(var s,a=e.slice(0),i=0;a.length;)i=10*i+a.shift();for(s=0;s<n.scale;s++)i/=10;return t?i*-1:i}function s(e){var s=t(e).toFixed(n.scale).replace(".",n.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,n.thousandsSeparator);return s}var a=Se({},e.settings),n=Se(e.settings,Ds,a),i=n.min<0;return e.getVal=function(t){var s=e._getVal(t),a=(s+"").replace(n.decimalSeparator,".").replace(n.thousandsSeparator,"");return xs.isNumeric(a)?+a:s},{template:(i?"{sign}":"")+n.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(n.max,Math.abs(n.min)))+"").length+1).join("d")+(n.scale?"."+Array(n.scale+1).join("d"):"")+n.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,s,a=e||n.defaultValue,i=[];if(a&&(a=(a+"").replace(n.decimalSeparator,".").replace(n.thousandsSeparator,""),s=a.match(/\d+\.?\d*/g)))for(s=(+s[0]).toFixed(n.scale),t=0;t<s.length;t++)"."!=s[t]&&(+s[t]?i.push(+s[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,a){var i=s(e),r=t(e,a&&"-"==a.sign);return(r<0?"-":"")+(n.returnAffix?n.prefix+i+n.suffix:i)},validate:function(a){var i=a.values,r=s(i),l=t(i,a.variables&&"-"==a.variables.sign),o=[];return i.length||n.allowLeadingZero||o.push(0),e.isVisible()&&Me(".mbsc-np-dsp",e._markup).html((a.variables.sign||"")+n.prefix+r+n.suffix),{disabled:o,invalid:l>n.max||l<n.min||!!n.invalid&&e._indexOf(n.invalid,l)!=-1}}}};var Ss=["h","m","s"],Vs={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};ws.timespan=function(e){function t(e){var t,s="",a=3600;return Me(Ss).each(function(i,r){t=Math.floor(e/a),e-=t*a,a/=60,(t>0||"s"==r&&!s)&&(s=s+(s?" ":"")+t+n[r])}),s}var s=Se({},e.settings),a=Se(e.settings,Vs,s),n={h:a.hourTextShort.replace(/d/g,"\\d"),m:a.minuteTextShort.replace(/d/g,"\\d"),s:a.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+n.s+"</span>";return a.max>9&&(i="d"+i),a.max>99&&(i='<span class="mbsc-np-ts-m">'+(a.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.m+"</span>"+i),a.max>6039&&(i='<span class="mbsc-np-ts-h">'+(a.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.h+"</span>"+i),e.setVal=function(s,a,n,i){return xs.isNumeric(s)&&(s=t(s)),e._setVal(s,a,n,i)},e.getVal=function(t){return e._hasValue||t?A(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var s,i=e||t(a.defaultValue),r=[];return i&&Me(Ss).each(function(e,t){s=new RegExp("(\\d+)"+n[t],"gi").exec(i),s?(s=+s[1],s>9?(r.push(Math.floor(s/10)),r.push(s%10)):(r.length&&r.push(0),(s||r.length)&&r.push(s))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(e){return t(A(e))},validate:function(t){var s=t.values,n=A(s.slice(0)),i=[];return s.length||i.push(0),{disabled:i,invalid:n>a.max||n<a.min||!!a.invalid&&e._indexOf(a.invalid,+n)!=-1}}}};var As={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};ws.time=function(e){function t(e,t){var s,a="";for(s=0;s<e.length;++s)a+=e[s]+(s%2==(e.length%2==1?0:1)&&s!=e.length-1?":":"");return Me.each(t,function(e,t){a+=" "+t}),a}function s(e){var t,s,a,l,o,b,v,g,y,x,w=[],_=2*i.length;if(c=_,e.length||(r&&(w.push(0),w.push(n.leftKey.value)),w.push(n.rightKey.value)),!r&&(_-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&_-e.length<=2)&&(w.push("30"),w.push("00")),(r?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=_-1),e.length==_)for(t=0;t<=9;++t)w.push(t);else if(1==e.length&&r&&1==e[0]||e.length&&e.length%2===0||!r&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)w.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+h==+(void 0!==e[3]?""+e[2]+e[3]:""),n.invalid)for(t=0;t<n.invalid.length;++t)if(b=n.invalid[t].getHours(),v=n.invalid[t].getMinutes(),g=n.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){w.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){w.push(g<10?g:+(""+g)[1]);break}}if(n.min||n.max){if(s=+d==+y,a=+u==+y,o=a&&x,l=s&&x,0===e.length){for(t=r?2:d>19?d[0]:3;t<=(1==d[0]?9:d[0]-1);++t)w.push(t);if(d>=10&&(w.push(0),2==d[0]))for(t=3;t<=9;++t)w.push(t);if(u&&u<10||d&&d>=10)for(t=u&&u<10?+u[0]+1:0;t<(d&&d>=10?d[0]:10);++t)w.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<d[0];++t)w.push(t);if(d&&0!==e[0]&&(r?1==e[0]:2==e[0]))for(t=r?3:4;t<=9;++t)w.push(t);if(e[0]==d[0])for(t=0;t<d[1];++t)w.push(t);if(e[0]==u[0]&&!r)for(t=+u[1]+1;t<=9;++t)w.push(t)}if(2==e.length&&(s||a))for(t=a?+h[0]+1:0;t<(s?+m[0]:10);++t)w.push(t);if(3==e.length&&(a&&e[2]==h[0]||s&&e[2]==m[0]))for(t=a&&e[2]==h[0]?+h[1]+1:0;t<(s&&e[2]==m[0]?+m[1]:10);++t)w.push(t);if(4==e.length&&(l||o))for(t=o?+p[0]+1:0;t<(l?+f[0]:10);++t)w.push(t);if(5==e.length&&(l&&e[4]==f[0]||o&&e[4]==p[0]))for(t=o&&e[4]==p[0]?+p[1]+1:0;t<(l&&e[4]==f[0]?+f[1]:10);++t)w.push(t)}return w}var a=Se({},e.settings),n=Se(e.settings,As,a),i=n.timeFormat.split(":"),r=n.timeFormat.match(/a/i),l=r?"a"==r[0]?n.amText:n.amText.toUpperCase():"",o=r?"a"==r[0]?n.pmText:n.pmText.toUpperCase():"",c=0,d=n.min?""+n.min.getHours():"",u=n.max?""+n.max.getHours():"",m=n.min?""+(n.min.getMinutes()<10?"0"+n.min.getMinutes():n.min.getMinutes()):"",h=n.max?""+(n.max.getMinutes()<10?"0"+n.max.getMinutes():n.max.getMinutes()):"",f=n.min?""+(n.min.getSeconds()<10?"0"+n.min.getSeconds():n.min.getSeconds()):"",p=n.max?""+(n.max.getSeconds()<10?"0"+n.max.getSeconds():n.max.getSeconds()):"";return n.min?n.min.setFullYear(2014,7,20):"",n.max?n.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(r?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:r?{text:l,variable:"ampm:"+l,value:"00"}:{text:":00",value:"00"},rightKey:r?{text:o,variable:"ampm:"+o,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,s,a=e||n.defaultValue,i=[];if(a){if(a+="",s=a.match(/\d/g))for(t=0;t<s.length;t++)i.push(+s[t]);r&&i.push("ampm:"+(a.match(new RegExp(n.pmText,"gi"))?o:l))}return i},formatValue:function(e,s){return t(e,s)},validate:function(a){var i=a.values,l=a.variables,o=t(i,l),d=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2===0?i[1]:""),""+i[i.length%2===0?2:1]+i[i.length%2===0?3:2]):"";return{disabled:s(i),length:c,invalid:(r?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+n.amText+"|"+n.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!n.invalid&&e._indexOf(n.invalid,d)!=-1||!((!n.min||n.min<=d)&&(!n.max||d<=n.max))}}}};var Ls={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};ws.date=function(e){function t(e){return e%4===0&&e%100!==0||e%400===0}function s(e){var s,a,l,o,c,u=[],g=void 0!==e[n+3]?""+e[n]+e[n+1]+e[n+2]+e[n+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[r+1]?""+e[r]+e[r+1]:"",w=""+d.getMaxDayOfMonth(g||2012,y-1||0),_=b===g&&+m===+y,C=v===g&&+h===+y;if(d.invalid)for(s=0;s<d.invalid.length;++s){if(l=d.getYear(d.invalid[s]),o=d.getMonth(d.invalid[s]),c=d.getDay(d.invalid[s]),l==+g&&o+1==+y&&(c<10?0:+(""+c)[0])==+e[r]){u.push(c<10?c:+(""+c)[1]);break}if(o+1==+y&&c==+x&&(""+l).substring(0,3)==""+e[n]+e[n+1]+e[n+2]){u.push((""+l)[3]);break}if(l==+g&&c==+x&&(o<10?0:+(""+(o+1))[0])==+e[i]){u.push(o<10?o:+(""+(o+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?u.push(2,4,6,9,11):u.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&u.push(2),e.length==i){for(s=v===g&&+h<10?1:2;s<=9;++s)u.push(s);b===g&&+m>=10&&u.push(0)}if(e.length==i+1){if(1==e[i]){for(s=v===g?+h[1]+1:3;s<=9;++s)u.push(s);if(b==g)for(s=0;s<+m[1];++s)u.push(s)}if(0===e[i]&&(u.push(0),v===g||b===g))for(s=v===g?+x>+p?+h:+h+1:0;s<=(b===g?+x<+f?+m-1:+m-1:9);++s)u.push(s)}if(e.length==r){for(s=C?(+p>10?+p[0]:0)+1:+w[0]+1;s<=9;++s)u.push(s);if(_)for(s=0;s<(+f<10?0:f[0]);++s)u.push(s)}if(e.length==r+1){if(e[r]>=3||"02"==y)for(s=+w[1]+1;s<=9;++s)u.push(s);if(C&&+p[0]==e[r])for(s=+p[1]+1;s<=9;++s)u.push(s);if(_&&f[0]==e[r])for(s=0;s<+f[1];++s)u.push(s);if(0===e[r]&&(u.push(0),C||_))for(s=C?+p+1:1;s<=(_?+f-1:9);++s)u.push(s)}if(void 0!==e[n+2]&&"02"==y&&"29"==x)for(a=+(""+e[n]+e[n+1]+e[n+2]+0);a<=+(""+e[n]+e[n+1]+e[n+2]+9);++a)u.push(t(a)?"":a%10);if(e.length==n){if(d.min)for(s=0;s<+b[0];++s)u.push(s);if(d.max)for(s=+v[0]+1;s<=9;++s)u.push(s);u.push(0)}if(d.min||d.max)for(a=1;a<4;++a)if(e.length==n+a){if(e[n+a-1]==+b[a-1]&&(3!=a||e[n+a-2]==+b[a-2]))for(s=0;s<+b[a]+(3==a&&e[i+1]&&+m>+y?1:0);++s)u.push(s);if(e[n+a-1]==+v[a-1]&&(3!=a||e[n+a-2]==+v[a-2]))for(s=+v[a]+(3==a&&+h<+y?0:1);s<=9;++s)u.push(s)}return u}function a(e){return new Date(+(""+e[n]+e[n+1]+e[n+2]+e[n+3]),+(""+e[i]+e[i+1])-1,+(""+e[r]+e[r+1]))}var n,i,r,l,o=[],c=Se({},e.settings),d=Se(e.settings,vt.defaults,Ls,c),u=d.dateOrder,m=d.min?""+(d.getMonth(d.min)+1):0,h=d.max?""+(d.getMonth(d.max)+1):0,f=d.min?""+d.getDay(d.min):0,p=d.max?""+d.getDay(d.max):0,b=d.min?""+d.getYear(d.min):0,v=d.max?""+d.getYear(d.max):0;
for(u=u.replace(/y+/gi,"yyyy"),u=u.replace(/m+/gi,"mm"),u=u.replace(/d+/gi,"dd"),n=u.toUpperCase().indexOf("Y"),i=u.toUpperCase().indexOf("M"),r=u.toUpperCase().indexOf("D"),u="",o.push({val:n,n:"yyyy"},{val:i,n:"mm"},{val:r,n:"dd"}),o.sort(function(e,t){return e.val-t.val}),Me.each(o,function(e,t){u+=t.n}),n=u.indexOf("y"),i=u.indexOf("m"),r=u.indexOf("d"),u="",l=0;l<8;++l)u+="d",l+1!=n&&l+1!=i&&l+1!=r||(u+=d.delimiter);return e.getVal=function(t){return e._hasValue||t?a(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:u,parseValue:function(e){var t,s=[],a=e||d.defaultValue,n=vt.parseDate(d.dateFormat,a,d);if(a)for(t=0;t<o.length;++t)s=/m/i.test(o[t].n)?s.concat(((d.getMonth(n)<9?"0":"")+(d.getMonth(n)+1)).split("")):/d/i.test(o[t].n)?s.concat(((d.getDay(n)<10?"0":"")+d.getDay(n)).split("")):s.concat((d.getYear(n)+"").split(""));return s},formatValue:function(e){return vt.formatDate(d.dateFormat,a(e),d)},validate:function(t){var n=t.values,i=a(n);return{disabled:s(n),invalid:!("Invalid Date"!=i&&(!d.min||d.min<=i)&&(!d.max||i<=d.max))||!!d.invalid&&e._indexOf(d.invalid,i)!=-1}}}};var Es=K.classes,Os=1,Is=function(e,t){function s(e){clearTimeout(w),w=setTimeout(function(){c("load"!==e.type)},200)}function a(e,t){if(e.length){var s=e.offset().left,a=e[0].offsetLeft,r=e[0].offsetWidth,l=u.offset().left;d=e,void 0===t&&(t=!y),C&&t&&(y?"true"==e.attr("data-selected")?i(e):n(e):(i(Me(".mbsc-ms-item-sel",I)),n(e))),_&&(a=S-a-r),"a"==k?s<l?M.scroll(_?a+r-b:-a,E,!0):s+r>l+b&&M.scroll(_?a:b-a-r,E,!0):M.scroll(b/2-a-r/2,E,!0),t&&A("onItemTap",{target:e[0]})}}function n(e){e.addClass(T).attr("data-selected","true").attr("aria-selected","true")}function i(e){e.removeClass(T).removeAttr("data-selected").removeAttr("aria-selected")}function r(e){return"object"!==("undefined"==typeof e?"undefined":G(e))&&(e=I.children('[data-id="'+e+'"]')),Me(e)}function l(){v&&"inline"!=v&&m.find(".mbsc-page").css("padding-"+v,"")}function o(){var e,t;I.find(".mbsc-ripple").remove(),I.children().each(function(s){var a,n=Me(this),i=C&&"true"==n.attr("data-selected"),r="true"==n.attr("data-disabled"),l=n.attr("data-icon"),o=n.attr("data-ref");o||(o=Os++),0===s&&(h=n),C&&!y&&i&&(d=n),l&&(e=!0),n.text()&&(t=!0),a="mbsc-ms-item "+(D.itemClass||"")+(D.tapHighlight?" mbsc-btn-e":"")+(i?T:"")+(r?" mbsc-btn-d "+(D.disabledClass||""):"")+(l?" mbsc-ms-ic mbsc-ic mbsc-ic-"+l:""),n.attr("data-ref",o).attr("data-role","button").attr("aria-selected",i?"true":"false").attr("aria-disabled",r?"true":"false").removeClass(L[o]).addClass(a),L[o]=a}),e?u.addClass("mbsc-ms-icons"):u.removeClass("mbsc-ms-icons"),t?u.addClass("mbsc-ms-txt"):u.removeClass("mbsc-ms-txt")}function c(t,s){var a=D.itemWidth,n=D.layout;O.contWidth=b=u.width(),t&&x===b||!b||(x=b,K.util.isNumeric(n)&&(g=b?b/n:a,g<a&&(n="liquid")),a&&("liquid"==n?g=b?b/Math.min(Math.floor(b/a),I.children().length):a:"fixed"==n&&(g=a)),g&&I.children().css("width",g+"px"),"inline"!=v&&m.find(".mbsc-page").css("padding-"+v,e.offsetHeight+"px"),O.totalWidth=S=e.offsetWidth,Se(M.settings,{contSize:b,maxSnapScroll:!!D.paging&&1,maxScroll:0,minScroll:S>b?b-S:0,snap:D.paging?b:!!D.snap&&(g||".mbsc-ms-item"),elastic:S>b&&(g||b)}),M.refresh(s))}var d,u,m,h,f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,L={},E=1e3,O=this,I=Me(e);Es.Base.call(this,e,t,!0),O.navigate=function(e,t){a(r(e),t)},O.next=function(e){var t=d?d.next():h;t.length&&(d=t,a(d,e))},O.prev=function(e){var t=d?d.prev():h;t.length&&(d=t,a(d,e))},O.select=function(e){y||i(Me(".mbsc-ms-item-sel",I)),n(r(e))},O.deselect=function(e){i(r(e))},O.enable=function(e){r(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled")},O.disable=function(e){r(e).addClass("mbsc-btn-d").attr("data-disabled","true").attr("aria-disabled","true")},O.refresh=O.position=function(e){o(),c(!1,e)},O._init=function(){m=Me(D.context),f=Me("body"==D.context?window:D.context),"tabs"==D.type?(D.select=D.select||"single",D.variant=D.variant||"b"):"options"==D.type?(D.select=D.select||"multiple",D.variant=D.variant||"a"):"menu"==D.type&&(D.select=D.select||"off",D.variant=D.variant||"a"),D.itemWidth&&void 0===D.snap&&(D.snap=!0),l(),v=D.display,_=D.rtl,k=D.variant,C="off"!=D.select,y="multiple"==D.select,T=" mbsc-ms-item-sel "+(D.activeClass||""),p="mbsc-ms-c mbsc-no-touch mbsc-ms-"+k+" mbsc-ms-"+v+" mbsc-"+D.theme+" "+(D.baseTheme?" mbsc-"+D.baseTheme:"")+" "+(D.cssClass||"")+" "+(D.wrapperClass||"")+(_?" mbsc-ms-rtl":" mbsc-ms-ltr")+(D.itemWidth?" mbsc-ms-hasw":"")+("body"==D.context?"":" mbsc-ms-ctx")+(C?"":" mbsc-ms-nosel"),u?(u.attr("class",p),I.off(".mbsc-ripple")):(u=Me('<div class="'+p+'"><div class="mbsc-ms-sc"></div></div>').insertAfter(I),u.find(".mbsc-ms-sc").append(I),M=new at(u[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:_,mousewheel:D.mousewheel,thresholdX:D.threshold,onStart:function(e){V||"touchstart"!=e.domEvent.type||(V=!0,m.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){a(Me(e.target),!0)},onGestureStart:function(e){A("onGestureStart",e)},onGestureEnd:function(e){A("onGestureEnd",e)},onMove:function(e){A("onMove",e)},onAnimationStart:function(e){A("onAnimationStart",e)},onAnimationEnd:function(e){A("onAnimationEnd",e)}})),I.css("display","").addClass("mbsc-ms "+(D.groupClass||"")),o(),A("onMarkupReady",{target:u[0]}),c(),u.find("img").on("load",s),f.on("orientationchange resize",s)},O._destroy=function(){l(),f.off("orientationchange resize",s),I.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(u).find(".mbsc-ms-item").each(function(){var e=Me(this);e.width("").removeClass(L[e.attr("data-ref")])}),u.remove(),M.destroy()},D=O.settings,A=O.trigger,O.init(t)};Is.prototype={_class:"menustrip",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",type:"options",display:"inline",layout:"liquid",tapHighlight:!0}},Es.MenuStrip=Is,K.presetShort("menustrip","MenuStrip");var Ns=function(e,t,s){function a(e){Me(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(Me(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(l.show()),Me(".mbsc-w-p",e).length||Me(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,r,l=Me(e),o=this;Be.call(this,e,t,!0),o._generateContent=function(){return""},o._markupReady=function(e){"inline"!=n.display&&a(e)},o._markupInserted=function(e){"inline"==n.display&&a(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},o._markupRemove=function(){l.hide(),i?i.prepend(l):r.after(l)},o.__processSettings=function(){n=o.settings,o.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),i||r||(r=l.prev(),r.length||(i=l.parent())),l.hide()},o.__init=function(){n.cssClass=(n.cssClass||"")+" mbsc-wdg"},s||o.init(t)};Ns.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_class:"widget",_defaults:Se({},Be.prototype._defaults,{okText:"OK",headerText:!1})},K.classes.Widget=Ns,K.themes.widget=K.themes.frame,K.presetShort("widget","Widget",!1);var Hs=K.classes,Ys=function(e,t){var s="",a=Me(e),n=this,i=n.settings;Hs.Base.call(this,e,t,!0),n._init=function(){var e=i.context,t=Me(e),n=t.find(".mbsc-ms-top .mbsc-ms"),r=t.find(".mbsc-ms-bottom .mbsc-ms"),l={};"body"==e?Me("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),s&&a.removeClass(s),n.length&&(l.paddingTop=n[0].offsetHeight),r.length&&(l.paddingBottom=r[0].offsetHeight),s="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),a.addClass(s).css(l)},n._destroy=function(){a.removeClass(s)},i=n.settings,n.init(t)};Ys.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},Hs.Page=Ys,K.themes.page.mobiscroll={},K.presetShort("page","Page"),he&&Me(function(){var e="[mbsc-page]";Me(e).each(function(){new Hs.Page(this)}),Me(document).on("mbsc-enhance",function(t,s){Me(t.target).is(e)?new Hs.Page(t.target,s):Me(e,t.target).each(function(){new Hs.Page(this,s)})})});var Ps=he&&!!window.Promise,Fs=[],Ws=[];K.alert=function(e){var t=document.createElement("div");return t.innerHTML=I(e),W(N,t,e)},K.confirm=function(e){var t=document.createElement("div");return t.innerHTML=I(e),W(H,t,e)},K.prompt=function(e){var t=document.createElement("div");return t.innerHTML=I(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',W(Y,t,e)},K.snackbar=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(e.button?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(e.button.text||"")+"</button>":"")+"</div>",W(P,t,e)},K.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",W(F,t,e)};var $s=K.util,js=$s.getCoord,Rs=$s.testTouch,qs=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],Bs={tap:!0},Xs=void 0,Us=function(){function e(t,s){var a=this;Z(this,e);var n=Se({},Bs,K.settings,s),i=Me(t),r=i.parent(),l=r.hasClass("mbsc-input-wrap")?r.parent():r,o=i.next().hasClass("mbsc-fr")?i.next():null,c=$(i);o&&o.insertAfter(l),y(l,c),i.addClass("mbsc-control"),qs.forEach(function(e){t.addEventListener(e,a)}),this.settings=n,this._type=c,this._elm=t,this._$elm=i,this._$parent=l,this._$frame=o,this._ripple=j(n.theme)}return J(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),qs.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"option",value:function(e){Se(this.settings,e),this._ripple=j(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;Rs(e,t)&&(this._startX=js(e,"X"),this._startY=js(e,"Y"),Xs&&Xs.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,Xs=this._$elm,Xs.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(js(e,"X")-this._startX)>9||Math.abs(js(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,s=this._elm,a=this._type;if(this._isActive&&this.settings.tap&&"touchend"==e.type&&!s.readOnly&&(s.focus(),/(button|submit|checkbox|switch|radio)/.test(a)&&e.preventDefault(),!/select/.test(a))){var n=(e.originalEvent||e).changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.tap=!0,s.mbscChange=!0,s.dispatchEvent(i),$s.preventClick()}this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,Xs=null}}]),e}(),zs=function(e){function t(e){Z(this,t);var s=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g(s,s._$parent,s._$elm),s._$parent.addClass("mbsc-input"),s}return ee(t,e),J(t,[{key:"destroy",value:function(){Q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove()}}]),t}(Us),Ks=function(e){function t(e,s){Z(this,t);var a=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),n=a._$elm,i=n.attr("data-icon");return n.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(n.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===n.text()&&n.addClass("mbsc-btn-icon-only")),a._$rippleElm=n,a}return ee(t,e),t}(Us),Gs=function(e){function t(e){Z(this,t);var s=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s._$parent.prepend(s._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),s._$elm.after('<span class="mbsc-checkbox-box"></span>'),s}return ee(t,e),t}(Us),Zs=function(e){function t(e){Z(this,t);var s=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),s._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),s}return ee(t,e),t}(Us),Js=function(e){function t(e){Z(this,t);var s=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=s._$elm,n=s._$parent,i=n.find("input.mbsc-control"),r=i.length?i:Me('<input tabindex="-1" class="mbsc-control" readonly>');return s._$input=r,n.addClass("mbsc-select"+(s._$frame?" mbsc-select-inline":"")),a.after(r),r.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),a.hasClass("mbsc-comp")||(e.addEventListener("change",s),s._setText()),s}return ee(t,e),J(t,[{key:"destroy",value:function(){Q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$elm.after(this._$input),this._elm.removeEventListener("change",this)}},{key:"handleEvent",value:function(e){Q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),"change"==e.type&&this._setText()}},{key:"_setText",value:function(){var e=this._elm;this._$elm.hasClass("mbsc-comp")||this._$input.val(e.selectedIndex!=-1?e.options[e.selectedIndex].text:"")}}]),t}(zs),Qs=["keydown","input","scroll"],ea=void 0;he&&Me(window).on("resize orientationchange",R);var ta=function(e){function t(e){Z(this,t);var s=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s._$parent.addClass("mbsc-textarea"),Qs.forEach(function(e){s._elm.addEventListener(e,s)}),q(e),s}return ee(t,e),J(t,[{key:"destroy",value:function(){var e=this;Q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),Qs.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(Q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":B(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){q(e._elm)},100)}}]),t}(zs),sa=function(e){function t(e,s){Z(this,t);var a=te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s)),n=void 0,i=void 0,r=a._$elm,l=a._$parent;return l.hasClass("mbsc-segmented-item-ready")||(n=Me('<div class="mbsc-segmented"></div>'),l.after(n),l.parent().find('input[name="'+r.attr("name")+'"]').each(function(){var e=Me(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),Me('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),n.append(i)})),a._$rippleElm=r.next(),a}return ee(t,e),t}(Us),aa=K.util,na=aa.getCoord,ia=aa.testTouch,ra=function(e,t){function s(t){32==t.keyCode&&(t.preventDefault(),b||e.disabled||(m=Me(this).addClass("mbsc-active"),c(t)))}function a(e){b&&(e.preventDefault(),d(!0))}function n(t){ia(t,this)&&!e.disabled&&(m=Me(this).addClass("mbsc-active").trigger("focus"),k&&!m.hasClass("mbsc-step-disabled")&&k.addRipple(m.find(".mbsc-segmented-content"),t),c(t),"mousedown"===t.type&&Me(document).on("mousemove",r).on("mouseup",i))}function i(e){b&&(e.preventDefault(),d(!0,e),"mouseup"===e.type&&Me(document).off("mousemove",r).off("mouseup",i))}function r(e){b&&(w=na(e,"X"),_=na(e,"Y"),g=w-V,y=_-A,(Math.abs(g)>7||Math.abs(y)>7)&&d())}function l(){var t;e.disabled||(t=parseFloat(Me(this).val()),o(isNaN(t)?E:t))}function o(e,t,s){Y=E,void 0===t&&(t=!0),void 0===s&&(s=t),E=void 0!==e?Math.min(T,Math.max(Math.round(e/D)*D,M)):Math.min(T,Math.max(E+(m.hasClass("mbsc-stepper-minus")?-D:D),M)),v=!0,p.removeClass("mbsc-step-disabled"),t&&H.val(E),E==M?f.addClass("mbsc-step-disabled"):E==T&&h.addClass("mbsc-step-disabled"),E!==Y&&s&&H.trigger("change")}function c(e){b||(b=!0,v=!1,V=na(e,"X"),A=na(e,"Y"),clearInterval(C),clearTimeout(C),C=setTimeout(function(){o(),C=setInterval(function(){o()},150)},300))}function d(e){clearInterval(C),clearTimeout(C),!v&&e&&o(),b=!1,v=!1,m.removeClass("mbsc-active"),k&&setTimeout(function(){k.removeRipple()},100)}function u(e,t){var s=H.attr(e);return void 0===s||""===s?t:+s}var m,h,f,p,b,v,g,y,x,w,_,C,T,M,k,D,S,V,A,L,E,O,I,N=this,H=Me(e),Y=E;K.classes.Base.call(this,e,t,!0),N.getVal=function(){var e=parseFloat(H.val());return e=isNaN(e)?E:e,Math.min(T,Math.max(Math.round(e/D)*D,M))},N.setVal=function(e,t,s){e=parseFloat(e),o(isNaN(e)?E:e,t,s)},N._init=function(t){O=H.parent().hasClass("mbsc-stepper"),I=O?H.closest(".mbsc-stepper-cont"):H.parent(),S=N.settings,M=void 0===t.min?u("min",S.min):t.min,T=void 0===t.max?u("max",S.max):t.max,D=void 0===t.step?u("step",S.step):t.step,x=H.attr("data-val")||S.val,E=Math.min(T,Math.max(Math.round(+e.value/D)*D||0,M)),L=K.themes.form[S.theme],k=L&&L.addRipple?L:null,O||I.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(E==M?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(E==T?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(H),f=Me(".mbsc-stepper-minus",I),h=Me(".mbsc-stepper-plus",I),O||("left"==x?(I.addClass("mbsc-stepper-val-left"),H.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==x?(I.addClass("mbsc-stepper-val-right"),h.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),H.val(E).attr("data-role","stepper").attr("min",M).attr("max",T).attr("step",D).on("change",l),p=Me(".mbsc-stepper-control",I).on("keydown",s).on("keyup",a).on("mousedown touchstart",n).on("touchmove",r).on("touchend touchcancel",i),H.addClass("mbsc-stepper-ready mbsc-control")},N._destroy=function(){H.removeClass("mbsc-control").off("change",l),p.off("keydown",s).off("keyup",a).off("mousedown touchstart",n).off("touchmove",r).off("touchend touchcancel",i)},N.init(t)};ra.prototype={_class:"stepper",_hasDef:!0,_defaults:{min:0,max:100,step:1}},K.classes.Stepper=ra,K.presetShort("stepper","Stepper");var la=function(e,t){var s,a,n,i,r=this;t=t||{},Se(t,{changeEvent:"click",round:!1}),Kt.call(this,e,t,!0),r._readValue=function(){return e.checked?1:0},r._fillValue=function(e,t,a){s.prop("checked",!!e),a&&s.trigger("change")},r._onTap=function(e){r._setVal(e?0:1)},r.___init=function(){n=r.settings,s=Me(e),a=s.parent(),a.find(".mbsc-switch-track").remove(),a.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),i=new Us(e),r._$track=a.find(".mbsc-progress-track"),r._min=0,r._max=1,r._step=1},r.___destroy=function(){i.destroy()},r.getVal=function(){return e.checked},r.setVal=function(e,t,s){r._setVal(e?1:0,t,s)},r.init(t)};la.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},K.classes.Switch=la,K.presetShort("switch","Switch");var oa=0,ca=K.classes,da=K.instances,ua=function(e,t){function s(){r.removeClass("mbsc-no-touch")}var a,n,i="",r=Me(e),l={},o=this;ca.Base.call(this,e,t,!0),o.refresh=function(e){Me("input,select,textarea,progress,button",r).each(function(){var e=this,t=Me(e),s=$(t);if("false"!=t.attr("data-enhance"))if(t.hasClass("mbsc-control"))l[e.id]&&l[e.id].option({theme:a.theme,lang:a.lang,rtl:a.rtl,onText:a.onText,offText:a.offText,stopProp:a.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++oa),s){case"button":case"submit":l[e.id]=new Ks(e,{theme:a.theme,tap:a.tap});break;case"switch":l[e.id]=new la(e,{theme:a.theme,lang:a.lang,rtl:a.rtl,onText:a.onText,offText:a.offText,stopProp:a.stopProp});break;case"checkbox":l[e.id]=new Gs(e,{tap:a.tap});break;case"range":Me(e).parent().hasClass("mbsc-slider")||(l[e.id]=new Gt(e,{theme:a.theme,lang:a.lang,rtl:a.rtl,stopProp:a.stopProp}));break;case"progress":l[e.id]=new qt(e,{theme:a.theme,lang:a.lang,rtl:a.rtl});break;case"radio":l[e.id]=new Zs(e,{tap:a.tap});break;case"select":case"select-one":case"select-multiple":l[e.id]=new Js(e,{tap:a.tap});break;case"textarea":l[e.id]=new ta(e,{tap:a.tap});break;case"segmented":l[e.id]=new sa(e,{theme:a.theme,tap:a.tap});break;case"stepper":l[e.id]=new ra(e,{theme:a.theme});break;case"hidden":return;default:l[e.id]=new zs(e,{tap:a.tap})}}),e||R()},o._init=function(){K.themes.form[a.theme]||(a.theme="mobiscroll"),r.hasClass("mbsc-form")||r.on("touchstart",s).show(),i&&r.removeClass(i),i="mbsc-form mbsc-no-touch mbsc-"+a.theme+(a.baseTheme?" mbsc-"+a.baseTheme:"")+(a.rtl?" mbsc-rtl":" mbsc-ltr"),r.addClass(i),o.refresh()},o._destroy=function(){r.removeClass(i).off("touchstart",s);for(var e in l)l[e].destroy()},a=o.settings,n=o.trigger,o.init(t)};ua.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:!0,stopProp:!0,lang:"en"}},K.themes.form.mobiscroll={},K.classes.Form=ua,K.presetShort("form","Form"),he&&Me(function(){var e="[mbsc-enhance],[mbsc-form]";Me(e).each(function(){new ua(this)}),Me(document).on("mbsc-enhance",function(t,s){Me(t.target).is(e)?new ua(t.target,s):Me(e,t.target).each(function(){new ua(this,s)})}),Me(document).on("mbsc-refresh",function(t){var s;Me(t.target).is(e)?(s=da[t.target.id],s&&s.refresh()):Me(e,t.target).each(function(){s=da[this.id],s&&s.refresh()})})});var ma=K.util,ha=ma.datetime,fa=ha.adjustedDate,pa=K.presets.scroller,ba={labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events"};K.presetShort("eventcalendar"),pa.eventcalendar=function(e){function t(e){if(e){if(x[e])return x[e];var t=Me('<div style="background-color:'+e+';"></div>').appendTo("body"),s=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,a=s.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*a[0]+.587*a[1]+.114*a[2],i=n>130?"#000":"#fff";return t.remove(),x[e]=i,i}}function s(e){var t=_.labelsShort,s=Math.abs(e)/1e3,a=s/60,n=a/60,i=n/24,r=i/365;return s<45&&Math.round(s)+" "+t[5].toLowerCase()||a<45&&Math.round(a)+" "+t[4].toLowerCase()||n<24&&Math.round(n)+" "+t[3].toLowerCase()||i<30&&Math.round(i)+" "+t[2].toLowerCase()||i<365&&Math.round(i/30)+" "+t[1].toLowerCase()||Math.round(r)+" "+t[0].toLowerCase()}function a(e){return e.sort(function(e,t){var s=e.d||e.start,a=t.d||t.start,n=s.getTime?e.start&&e.end&&e.start.toDateString()!==e.end.toDateString()?1:s.getTime():0,i=a.getTime?t.start&&t.end&&t.start.toDateString()!==t.end.toDateString()?1:a.getTime():0;return n-i})}function n(e){var t,s=Me(".mbsc-cal-c",d)[0].offsetHeight,a=e[0].offsetHeight,n=e[0].offsetWidth,i=e.offset().top-Me(".mbsc-cal-c",d).offset().top,r=e.closest(".mbsc-cal-row").index()<2;t=u.addClass("mbsc-cal-events-t").css({top:r?i+a:"0",bottom:r?"0":s-i}).addClass("mbsc-cal-events-v").height(),u.css(r?"bottom":"top","auto").removeClass("mbsc-cal-events-t"),p.css("max-height",t),f.refresh(),f.scroll(0),r?u.addClass("mbsc-cal-events-b"):u.removeClass("mbsc-cal-events-b"),Me(".mbsc-cal-events-arr",u).css("left",e.offset().left-u.offset().left+n/2)}function i(t,i){var r=h[t];if(r){var l,o,c,d,p,g='<ul class="mbsc-cal-event-list">';m=i,i.addClass(C).find(".mbsc-cal-day-i").addClass(M),i.hasClass(T)&&i.attr("data-hl","true").removeClass(T),a(r),Me.each(r,function(e,t){d=t.d||t.start,p=t.start&&t.end&&t.start.toDateString()!==t.end.toDateString(),c=t.color,l="",o="",d.getTime&&(l=ha.formatDate((p?"MM d yy ":"")+_.timeFormat,d)),t.end&&(o=ha.formatDate((p?"MM d yy ":"")+_.timeFormat,t.end)),g+='<li role="button" aria-label="'+t.text+(l?", "+_.fromText+" "+l:"")+(o?", "+_.toText+" "+o:"")+'" class="mbsc-cal-event"><div class="mbsc-cal-event-color" style="'+(c?"background:"+c+";":"")+'"></div><div class="mbsc-cal-event-text">'+(d.getTime&&!p?'<div class="mbsc-cal-event-time">'+ha.formatDate(_.timeFormat,d)+"</div>":"")+t.text+"</div>"+(t.start&&t.end?'<div class="mbsc-cal-event-dur">'+s(t.end-t.start)+"</div>":"")+"</li>"}),g+="</ul>",b.html(g),e.trigger("onEventBubbleShow",{target:m[0],eventList:u[0]}),n(m),e.tap(Me(".mbsc-cal-event",b),function(s){f.scrolled||e.trigger("onEventSelect",{domEvent:s,event:r[Me(this).index()],date:t})}),v=!0}}function r(){u&&u.removeClass("mbsc-cal-events-v"),m&&(m.removeClass(C).find(".mbsc-cal-day-i").removeClass(M),m.attr("data-hl")&&m.removeAttr("data-hl").addClass(T)),v=!1}function l(){r(),e.redraw()}function o(e){return fa(e.getFullYear(),e.getMonth(),e.getDate())}var c,d,u,m,h,f,p,b,v,g,y,x={},w=Se({},e.settings),_=Se(e.settings,ba,w),C="mbsc-cal-day-sel mbsc-cal-day-ev",T="mbsc-cal-day-hl",M=_.activeClass||"",k=_.showEventCount,D=0,S=Se(!0,[],_.data);return g=pa.calbase.call(this,e),c=Se({},g),Me.each(S,function(e,t){void 0===t._id&&(t._id=D++)}),e.onGenMonth=function(t,s){h=e.prepareObj(S,t,s)},e.getDayProps=function(e){var s,a=!!h[e]&&h[e],n=a?h[e].length+" "+(h[e].length>1?_.eventsText:_.eventText):0,i=a&&a[0]&&a[0].color,r=k&&n?t(i):"",l="",o="";if(a){for(s=0;s<a.length;s++)a[s].icon&&(l+='<span class="mbsc-ic mbsc-ic-'+a[s].icon+'"'+(a[s].text?"":a[s].color?' style="color:'+a[s].color+';"':"")+"></span>\n");for(o='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',s=0;s<a.length;s++)o+='<div class="mbsc-cal-day-m-c"'+(a[s].color?' style="background:'+a[s].color+';"':"")+"></div>";o+="</div></div>"}return{marked:a,selected:!1,cssClass:a?"mbsc-cal-day-marked":"",ariaLabel:k?n:"",markup:k&&n?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+Me("<div>"+n+"</div>").text()+'"'+(i?' style="background:'+i+";color:"+r+';text-shadow:none;"':"")+">"+l+n+"</div></div>":k&&l?'<div class="mbsc-cal-day-ic-c">'+l+"</div>":a?o:""}},e.addEvent=function(e){var t=[];return e=Se(!0,[],Me.isArray(e)?e:[e]),Me.each(e,function(e,s){void 0===s._id&&(s._id=D++),S.push(s),t.push(s._id)}),l(),t},e.removeEvent=function(e){e=Me.isArray(e)?e:[e],Me.each(e,function(e,t){Me.each(S,function(e,s){if(s._id===t)return S.splice(e,1),!1})}),l()},e.getEvents=function(t){var s;return t?(t.setHours(0,0,0,0),s=e.prepareObj(S,t.getFullYear(),t.getMonth()),s[t]?a(s[t]):[]):Se(!0,[],S)},e.setEvents=function(e){var t=[];return S=Se(!0,[],e),Me.each(S,function(e,s){void 0===s._id&&(s._id=D++),t.push(s._id)}),l(),t},Se(g,{highlight:!1,outerMonthChange:!1,headerText:!1,buttons:"inline"!==_.display?["close"]:_.buttons,onMarkupReady:function(t){c.onMarkupReady.call(this,t),d=Me(t.target),k&&Me(".mbsc-cal",d).addClass("mbsc-cal-ev"),d.addClass("mbsc-cal-em"),u=Me('<div class="mbsc-cal-events '+(_.eventBubbleClass||"")+'"><div class="mbsc-cal-events-arr"></div><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div></div></div>').appendTo(Me(".mbsc-cal-c",d)),p=Me(".mbsc-cal-events-i",u),b=Me(".mbsc-cal-events-sc",u),f=new K.classes.ScrollView(p[0]),v=!1,e.tap(p,function(){f.scrolled||r()})},onMonthChange:function(){r()},onSelectShow:function(){r()},onMonthLoaded:function(){y&&(i(y.d,Me('.mbsc-cal-day-v[data-full="'+y.full+'"]:not(.mbsc-cal-day-diff)',d)),y=!1)},onDayChange:function(t){var s=t.date,a=o(s),n=Me(t.target);return r(),n.hasClass("mbsc-cal-day-ev")||setTimeout(function(){e.changing?y={d:a,full:n.attr("data-full")}:i(a,n)},10),!1},onCalResize:function(){v&&n(m)},onHide:function(){c.onHide.call(e),f&&f.destroy()}}),g};var va=K.presets.scroller,ga={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},ya={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};K.presetShort("distance"),va.distance=function(e){var t=Se({},ga,e.settings);return Se(e.settings,t,{sign:!1,convert:function(e,t,s){return e*ya[t]/ya[s]}}),va.measurement.call(this,e)};var xa=K.presets.scroller,wa={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},_a={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};K.presetShort("force"),xa.force=function(e){var t=Se({},wa,e.settings);return Se(e.settings,t,{sign:!1,convert:function(e,t,s){return e*_a[t]/_a[s]}}),xa.measurement.call(this,e)};var Ca=K.presets.scroller,Ta={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},Ma={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};K.presetShort("mass"),Ca.mass=function(e){var t=Se({},Ta,e.settings);return Se(e.settings,t,{sign:!1,convert:function(e,t,s){return e*Ma[t]/Ma[s]}}),Ca.measurement.call(this,e)};var ka=K.presets.scroller,Da={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},Sa={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};K.presetShort("speed"),ka.speed=function(e){var t=Se({},Da,e.settings);return Se(e.settings,t,{sign:!1,convert:function(e,t,s){return e*Sa[t]/Sa[s]}}),ka.measurement.call(this,e)};var Va=K.presets.scroller,Aa={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},La={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};K.presetShort("temperature"),Va.temperature=function(e){var t=Se({},Aa,e.settings);return Se(e.settings,t,{sign:!0,convert:function(e,t,s){return La[t+"2"+s](e)}}),Va.measurement.call(this,e)},K.i18n.zh={setText:"",cancelText:"",clearText:"",selectedText:"{count} ",dateFormat:"yy/mm/dd",dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],dayText:"",hourText:"",minuteText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["","","","","","","","","","","",""],monthText:"",secText:"",timeFormat:"HH:ii",yearText:"",nowText:"",pmText:"",amText:"",todayText:"",dateText:"",timeText:"",calendarText:"",closeText:"",fromText:"",toText:"",wholeText:"",fractionText:"",unitText:"",labels:["","","","","","",""],labelsShort:["","","","","","",""],startText:"",stopText:"",resetText:"",lapText:"",hideText:"",backText:"",undoText:"",offText:"",onText:"",decimalSeparator:",",thousandsSeparator:" "};var Ea=K.themes;Ea.frame["android-holo"]={},Ea.scroller["android-holo"]=Se({},Ea.frame["android-holo"],{dateDisplay:"Mddyy",rows:5,minWidth:76,height:36,showLabel:!1,selectedLineHeight:!0,selectedLineBorder:2,useShortLabels:!0,icon:{filled:"star3",empty:"star"},btnPlusClass:"mbsc-ic mbsc-ic-arrow-down6",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up6"}),Ea.form["android-holo"]={};var Oa=K.themes;Oa.frame.wp={headerText:!1,
deleteIcon:"backspace4",setIcon:"checkmark",cancelIcon:"close",closeIcon:"close",clearIcon:"close",okIcon:"checkmark",nowIcon:"loop2",startIcon:"play3",stopIcon:"pause2",resetIcon:"stop2",lapIcon:"loop2",btnWidth:!1},Oa.scroller.wp=Se({},Oa.frame.wp,{minWidth:76,height:76,dateDisplay:"mmMMddDDyy",showLabel:!1,icon:{filled:"star3",empty:"star"},btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left2",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right2",btnPlusClass:"mbsc-ic mbsc-ic-plus",btnMinusClass:"mbsc-ic mbsc-ic-minus",onMarkupInserted:function(e,t){function s(e){return Me.isArray(l.readonly)?l.readonly[e]:l.readonly}var a,n,i,r=Me(e.target),l=t.settings;Me(".mbsc-sc-whl",r).on("touchstart mousedown wheel mousewheel",function(e){"mousedown"===e.type&&n||s(Me(this).attr("data-index"))||(n="touchstart"===e.type,a=!0,i=Me(this).hasClass("mbsc-sc-whl-wpa"),Me(".mbsc-sc-whl",r).removeClass("mbsc-sc-whl-wpa"),Me(this).addClass("mbsc-sc-whl-wpa"))}).on("touchmove mousemove",function(){a=!1}).on("touchend mouseup",function(e){a&&i&&Me(e.target).closest(".mbsc-sc-itm").hasClass("mbsc-sc-itm-sel")&&Me(this).removeClass("mbsc-sc-whl-wpa"),"mouseup"===e.type&&(n=!1),a=!1})}}),Oa.form.wp={};var Ia=K.themes;Ia.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:!0},Ia.scroller.ios=Se({},Ia.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Ia.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},Ia.form.ios={};var Na=K.themes;Na.frame.bootstrap={disabledClass:"disabled",activeClass:"btn-primary",activeTabClass:"active",todayClass:"text-primary",onMarkupInserted:function(e){var t=Me(e.target);Me(".mbsc-fr-popup",t).addClass("popover"),Me(".mbsc-fr-w",t).addClass("popover-content"),Me(".mbsc-fr-hdr",t).addClass("popover-title"),Me(".mbsc-fr-arr-i",t).addClass("popover"),Me(".mbsc-fr-arr",t).addClass("arrow"),Me(".mbsc-fr-btn",t).addClass("btn btn-default"),Me(".mbsc-fr-btn-s .mbsc-fr-btn",t).removeClass("btn-default").addClass("btn btn-primary"),Me(".mbsc-sc-btn-plus",t).addClass("glyphicon glyphicon-chevron-down"),Me(".mbsc-sc-btn-minus",t).addClass("glyphicon glyphicon-chevron-up"),Me(".mbsc-cal-next .mbsc-cal-btn-txt",t).prepend('<i class="glyphicon glyphicon-chevron-right"></i>'),Me(".mbsc-cal-prev .mbsc-cal-btn-txt",t).prepend('<i class="glyphicon glyphicon-chevron-left"></i>'),Me(".mbsc-cal-tabs ul",t).addClass("nav nav-tabs"),Me(".mbsc-cal-sc-c",t).addClass("popover"),Me(".mbsc-cal-week-nrs-c",t).addClass("popover"),Me(".mbsc-cal-events",t).addClass("popover"),Me(".mbsc-cal-events-arr",t).addClass("arrow"),Me(".mbsc-range-btn",t).addClass("btn btn-sm btn-small btn-default"),Me(".mbsc-np-btn",t).addClass("btn btn-default"),Me(".mbsc-sel-filter-cont",t).removeClass("mbsc-input"),Me(".mbsc-sel-filter-input",t).addClass("form-control")},onPosition:function(e){setTimeout(function(){Me(".mbsc-fr-bubble-top, .mbsc-fr-bubble-top .mbsc-fr-arr-i",e.target).removeClass("bottom").addClass("top"),Me(".mbsc-fr-bubble-bottom, .mbsc-fr-bubble-bottom .mbsc-fr-arr-i",e.target).removeClass("top").addClass("bottom")},10)}},Na.scroller.bootstrap=Se({},Na.frame.bootstrap,{dateDisplay:"Mddyy",btnCalPrevClass:"",btnCalNextClass:"",selectedLineHeight:!0,onEventBubbleShow:function(e){var t=Me(e.eventList);Me(".mbsc-cal-event-list",t).addClass("list-group"),Me(".mbsc-cal-event",t).addClass("list-group-item"),setTimeout(function(){t.hasClass("mbsc-cal-events-b")?t.removeClass("top").addClass("bottom"):t.removeClass("bottom").addClass("top")},10)}}),Na.menustrip.bootstrap={wrapperClass:"popover panel panel-default",groupClass:"btn-group",activeClass:"btn-primary",disabledClass:"disabled",itemClass:"btn btn-default"},K.customTheme("android-holo-light","android-holo"),K.customTheme("wp-light","wp"),K.customTheme("mobiscroll-dark","mobiscroll");var Ha,Ya,Pa=K.themes,Fa=K.util,Wa=Fa.testTouch,$a=Fa.getCoord;Pa.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){z(Me(e.target),".mbsc-fr-btn-e","mbsc-fr-btn-d","mbsc-fr-btn-nhl")}},Pa.scroller.material=Se({},Pa.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right",onEventBubbleShow:function(e){var t=Me(e.eventList),s=Me(e.target).closest(".mbsc-cal-row").index()<2,a=Me(".mbsc-cal-event-color",t).eq(s?0:-1).css("background-color");Me(".mbsc-cal-events-arr",t).css("border-color",s?"transparent transparent "+a+" transparent":a+"transparent transparent transparent")}}),Pa.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){X(Me(e.target),e.domEvent)},onItemDeactivate:function(){U(Ya)},onSlideStart:function(e){Me(".mbsc-ripple",e.target).remove()},onSortStart:function(e){Me(".mbsc-ripple",e.target).remove()}},Pa.menustrip.material={onInit:function(){z(Me(this),".mbsc-ms-item.mbsc-btn-e","mbsc-btn-d","mbsc-btn-nhl")},onMarkupInit:function(){Me(".mbsc-ripple",this).remove()},onDestroy:function(){Me(this).off(".mbsc-ripple")}},Pa.form.material={addRipple:function(e,t){X(e,t)},removeRipple:function(){U(Ya)}},K.customTheme("material-dark","material"),K.customTheme("ios-dark","ios"),K.customTheme("red","mobiscroll"),K.customTheme("blue","mobiscroll");var ja=K.themes,Ra=void 0;return"android"==oe?Ra=de>=5?"material":"android-holo":"ios"==oe?Ra="ios":"wp"==oe&&(Ra="wp"),K.setAutoTheme=function(){Me.each(ja.frame,function(e,t){return Ra&&t.baseTheme==Ra&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?(K.autoTheme=e,!1):void(e==Ra&&(K.autoTheme=e))})},K.setAutoTheme(),K.uid="6a23d7f3",K});
